<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["php","shell","csharp"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="php">php</a>
              <a href="#" data-language-name="shell">shell</a>
              <a href="#" data-language-name="csharp">csharp</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href="https://tools.brightlocal.com/seo-tools/admin/api">Sign Up for a Developer Key</a></li>
            <li><a href="https://github.com/BrightLocal/BrightLocal-API-Helper">PHP API Wrapper</a></li>
            <li><a href="https://github.com/BrightLocal/C-Sharp-Api-Wrapper">C# API Wrapper</a></li>
            <li><a href="http://www.brightlocal.com/">Visit BrightLocal.com</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<p>The BrightLocal API provides programmatic access to BrightLocal&rsquo;s Local SEO Tools. The API provides a &ldquo;REST&rdquo; style interface and returns all data as a JSON encoded strings.</p>

          <h1 id="api-types">API Types</h1>

<p>We have two types of API methods:</p>

<ul>
<li>Methods which retrieve raw data offering you complete flexibility to create your own solutions (marked with Batch)</li>
<li>Methods which allow you to manipulate clients and reports stored within your BrightLocal control panel (marked with Account)</li>
</ul>

<p>The first type requires you to submit your requests as part of a batch - a container which makes it easy to bundle up multiple requests and poll for all results. <a href="#batches">You can read more about batches below.</a></p>

          <h1 id="api-url">API URL</h1>

<p>The base API URL is: <code class="prettyprint">https://tools.brightlocal.com/seo-tools/api</code></p>

          <h1 id="authentication">Authentication</h1>

<blockquote>
<p>Generating a signature:</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'API_KEY'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">);</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'API_SECRET'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>

<span class="nv">$expires</span> <span class="o">=</span> <span class="p">(</span><span class="nx">int</span><span class="p">)</span> <span class="nb">gmdate</span><span class="p">(</span><span class="s1">'U'</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1800</span><span class="p">;</span> <span class="c1">// not more than 1800 seconds
</span><span class="nv">$sig</span> <span class="o">=</span> <span class="nb">base64_encode</span><span class="p">(</span><span class="nb">hash_hmac</span><span class="p">(</span><span class="s1">'sha1'</span><span class="p">,</span> <span class="nx">API_KEY</span><span class="o">.</span><span class="nv">$expires</span><span class="p">,</span> <span class="nx">API_SECRET</span><span class="p">,</span> <span class="kc">true</span><span class="p">));</span>

<span class="k">echo</span> <span class="nb">urlencode</span><span class="p">(</span><span class="nv">$sig</span><span class="p">);</span> <span class="c1">// for get requests
</span><span class="k">echo</span> <span class="nv">$sig</span><span class="p">;</span>
</code></pre>
<pre><code class="highlight shell"><span class="nv">expiry</span><span class="o">=</span><span class="k">$((</span><span class="sb">`</span>date +%s<span class="sb">`</span><span class="o">+</span><span class="m">1800</span><span class="k">))</span> <span class="c"># not more than 1800 seconds</span>
<span class="nv">sig</span><span class="o">=</span><span class="k">$(</span><span class="nb">echo</span> -n <span class="s2">"&lt;INSERT_API_KEY&gt;</span><span class="nv">$expiry</span><span class="s2">"</span> | openssl dgst -sha1 -binary -hmac <span class="s2">"&lt;INSERT_API_SECRET&gt;"</span> | base64<span class="k">)</span>
</code></pre>
<pre><code class="highlight csharp">
<span class="k">private</span> <span class="kt">string</span> <span class="n">api_key</span> <span class="p">=</span> <span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">;</span>
<span class="k">private</span> <span class="kt">string</span> <span class="n">api_secret</span> <span class="p">=</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">;</span>

<span class="n">DateTime</span> <span class="n">date</span> <span class="p">=</span> <span class="n">DateTime</span><span class="p">.</span><span class="n">Now</span><span class="p">;</span>
<span class="n">DateTime</span> <span class="n">origin</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">DateTime</span><span class="p">(</span><span class="m">1970</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">1</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="m">0</span><span class="p">,</span> <span class="n">DateTimeKind</span><span class="p">.</span><span class="n">Utc</span><span class="p">);</span> <span class="c1">// The seconds since the Unix Epoch (January 1 1970 00:00:00 GMT)
</span><span class="n">TimeSpan</span> <span class="n">diff</span> <span class="p">=</span> <span class="n">date</span><span class="p">.</span><span class="nf">ToUniversalTime</span><span class="p">()</span> <span class="p">-</span> <span class="n">origin</span><span class="p">;</span>  <span class="c1">// Subtract the seconds since the Unix Epoch from today's date. 
</span><span class="kt">double</span> <span class="n">expires</span> <span class="p">=</span>  <span class="n">Math</span><span class="p">.</span><span class="nf">Floor</span><span class="p">(</span><span class="n">diff</span><span class="p">.</span><span class="n">TotalSeconds</span> <span class="p">+</span> <span class="m">1800</span><span class="p">);</span> <span class="c1">// Not more than 1800 seconds
</span>
<span class="n">var</span> <span class="n">encoding</span> <span class="p">=</span> <span class="k">new</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="nf">ASCIIEncoding</span><span class="p">();</span>
<span class="kt">byte</span><span class="p">[]</span> <span class="n">keyByte</span> <span class="p">=</span> <span class="n">encoding</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">api_secret</span><span class="p">);</span>
<span class="kt">byte</span><span class="p">[]</span> <span class="n">messageBytes</span> <span class="p">=</span> <span class="n">encoding</span><span class="p">.</span><span class="nf">GetBytes</span><span class="p">(</span><span class="n">api_key</span> <span class="p">+</span> <span class="n">expires</span><span class="p">);</span>
<span class="k">using</span> <span class="p">(</span><span class="n">var</span> <span class="n">hmacsha1</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">HMACSHA1</span><span class="p">(</span><span class="n">keyByte</span><span class="p">))</span>
<span class="p">{</span>
    <span class="kt">byte</span><span class="p">[]</span> <span class="n">hashmessage</span> <span class="p">=</span> <span class="n">hmacsha1</span><span class="p">.</span><span class="nf">ComputeHash</span><span class="p">(</span><span class="n">messageBytes</span><span class="p">);</span>
    <span class="n">var</span> <span class="n">signature</span> <span class="p">=</span> <span class="n">Convert</span><span class="p">.</span><span class="nf">ToBase64String</span><span class="p">(</span><span class="n">hashmessage</span><span class="p">);</span>   
<span class="p">}</span>
</code></pre>

<p>All methods require a valid trial or production API key. Methods which manipulate or retrieve data in your account additionally require a signature. You ideally need to generate this signature for each request and set a short expiry time. For testing purposes you can chose to create a signature that will be valid for up to 30 minutes.</p>

<h2 id="authentication-errors">Authentication Errors</h2>

<p>If there&rsquo;s a problem with your API key, signature or expires one of the following errors will be returned:</p>

<h3 id="invalid-api-key">Invalid API Key</h3>

<blockquote>
<p>Error responses:</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"INVALID_API_KEY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid API key specified"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="signature-incorrect">Signature Incorrect</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"INVALID_API_KEY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signatures don't match"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>In this situation your signature doesn&rsquo;t match the one we generated for comparison. Most like there&rsquo;s something wrong in the way you&rsquo;re generating your signature. If passing the signature in the query string make sure you&rsquo;ve URL encoded it before submitting.</p>

<h3 id="invalid-permissions">Invalid Permissions</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"INVALID_API_KEY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API key doesn't has access to the specified api call"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>If you see this error it means that your API key only has partial access to our API. You&rsquo;ll need to contact us to get the API method you&rsquo;re trying to call associated with your API key.</p>

<h3 id="no-trial-requests-left">No Trial Requests Left</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"INVALID_API_KEY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No trial requests left"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Your trial key has used its allocation of free credits and you&rsquo;re trying to call a batch API method that needs credits. Methods that manipulate your account don&rsquo;t need credits or a production key.</p>

<h3 id="api-key-doesn&#39;t-support-signed-requests">API Key Doesn&rsquo;t Support Signed Requests</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"INVALID_API_KEY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"API key not upgraded to support signed requests"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Most likely you&rsquo;ve got a very old API key and you&rsquo;re trying to access one of our newer API methods that needs to be sent signature and expiry information but your key doesn&rsquo;t have these.</p>

<h3 id="signature-too-old">Signature Too Old</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"INVALID_API_KEY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Signature expired too long ago"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>The signature you&rsquo;re trying to use expired more than 30 minutes ago. Ideally you should generate a new signature with every request but you must generate a new one at least every 30 minutes.</p>

<h3 id="signature-expiry-too-long">Signature Expiry Too Long</h3>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"INVALID_API_KEY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Specified expiry is too far in the future (max 1800 seconds allowed)"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>You can only generate a signature that expires a maximum of 30 minutes into the future. If you see this message you need to check the expiry value you&rsquo;re using to generate your signature.</p>

<h1 id="general-error-handling">General Error Handling</h1>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"INVALID_COMPANY_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company name not specified"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"INVALID_COMPANY_URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Company URL not specified"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country ISO 3 code not specified"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"INVALID_BUSINESS_CATEGORY_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Business category ID not specified"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>When an error occurs the data returned contains an error section with a list of relevant errors. Errors are returned when incorrect parameters are passed to an API method and in a few other distinct cases.</p>

<p>Generally the response will contain a top level node errors {} when an error has occurred and response {} when a successful result is returned.</p>

          <h1 id="api-wrapper">API Wrapper</h1>

<p>If you work with PHP or C# we have API wrappers which simplify authentication against our API and provide simple methods for making requests.</p>

<p>The PHP and C# examples in this documentation use these wrappers.</p>

<ul>
<li>PHP - <a href="https://github.com/BrightLocal/BrightLocal-API-Helper">https://github.com/BrightLocal/BrightLocal-API-Helper</a></li>
<li>C# - <a href="https://github.com/BrightLocal/C-Sharp-Api-Wrapper">https://github.com/BrightLocal/C-Sharp-Api-Wrapper</a> or via NuGet at <a href="https://www.nuget.org/packages/BrightLocal/1.0.0/">https://www.nuget.org/packages/BrightLocal/1.0.0/</a>.</li>
</ul>

          <h1 id="batches">Batches</h1>

<p>A batch acts like a container for API requests. It allows you to group requests for several types of data together and poll for results via a single consolidated call. All bar one of our raw data APIs need to be used within the context of a batch. The basic steps for using a batch are outlined below:</p>

<ol>
<li>Request a new batch ID</li>
<li>Add one or more requests for data to the batch</li>
<li>Commit the batch</li>
<li>Poll for results</li>
</ol>

<h2 id="create">Create</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Creating a batch</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
    <span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'batch-id'</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
    -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
    https://tools.brightlocal.com/seo-tools/api/v4/batch
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>
</code></pre>

<blockquote>
<p>Success - status code 201 Created</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"batch-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Creates a new batch. You can add jobs to the batch to enable you to fetch different kinds of data.</p>

<p>A batch can have one of 5 states:</p>

<ul>
<li>Created - jobs can be added to the batch</li>
<li>Committed - batch closed for further jobs, no jobs being processed yet</li>
<li>Running - one or more jobs are being processed</li>
<li>Stopped - one or more jobs in the batch failed</li>
<li>Finished</li>
</ul>

<p>Jobs within a batch can also have one of 5 states:</p>

<ul>
<li>Pending - added to batch but not queued for processing</li>
<li>Queued - added to batch and queued for processing</li>
<li>Processing - currently being processed by a worker</li>
<li>Failed - processing failed</li>
<li>Completed - processing completed successfully and job results are available</li>
<li>Authentication for this method is via API key only.</li>
</ul>

<p>Whilst you can technically add as many jobs as you want to a batch we recommend you submit jobs in batches of a few hundred at a time. This will allow you to start receiving results sooner.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/batch</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>stop-on-job-error</td>
<td>1 or 0. default 0. If errors are found in one job the batch will be stopped and no further jobs will be processed.</td>
</tr>
<tr>
<td>callback</td>
<td>Callback URL. When a batch fails or completes the batch results will be posted to this callback URL</td>
</tr>
</tbody></table>

<h2 id="commit-batch">Commit Batch</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Committing a batch</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$batchId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT <span class="se">\</span>
    -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
    -d <span class="s1">'batch-id=&lt;INSERT_BATCH_ID&gt;'</span> <span class="se">\</span>
    https://tools.brightlocal.com/seo-tools/api/v4/batch
</code></pre>
<pre><code class="highlight csharp"><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success - status code 200 OK</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure - status code 400 Bad Request</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"INVALID_JOBS_COUNT"</span><span class="p">:</span><span class="s2">"Batch can't be committed with no jobs"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"BATCH_ALREADY_COMMITTED"</span><span class="p">:</span><span class="s2">"This batch has been committed already"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Committing a batch signals that you&rsquo;ve finished adding jobs. At this point our systems will start processing the jobs that you&rsquo;ve added. Once you commit a batch no further jobs can be added to it.</p>

<p>Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v4/batch</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="get-results">Get Results</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Getting batch results</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$batchId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">));</span>
</code></pre>
<pre><code class="highlight shell">curl <span class="s1">'https://tools.brightlocal.com/seo-tools/api/v4/batch?api-key=&lt;INSERT_API_KEY&gt;&amp;batch-id=&lt;INSERT_BATCH_ID&gt;'</span>
</code></pre>
<pre><code class="highlight csharp"><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success - status code 200 OK</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Finished"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"LdFetchProfileUrl"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://plus.google.com/117512971192208385977/about?hl=en&amp;rfmt=s"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"LdFetchProfileDetails"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hub Plumbing &amp; Mechanical"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"street_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"region"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"locality"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Greenwich Village New York, NY"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"contact_telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1 917-634-8888"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"description_present"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.7"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"website_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.hubplumbingnyc.com/"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"cid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"117512971192208385977"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Plumber"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"check_in"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This retrieves the results of all jobs added to the batch. Results are added as they&rsquo;re returned so you can keep polling this endpoint to retrieve results progressively. Once results for all jobs have been returned the batch will be marked as &ldquo;Finished&rdquo;.</p>

<p>Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/batch</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="delete">Delete</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Delete a batch</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$batchId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully deleted batch.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight shell">curl -X DELETE <span class="s1">'https://tools.brightlocal.com/seo-tools/api/v4/batch?api-key=&lt;INSERT_API_KEY&gt;&amp;batch-id=&lt;INSERT_BATCH_ID&gt;'</span>
</code></pre>
<pre><code class="highlight csharp"><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success - status code 200 Ok</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure - status code 404 Not Found</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"INVALID_BATCH_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Batch ID not found"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Delete a batch. This also deletes all data retrieved for jobs added to the batch.</p>

<p>Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://tools.brightlocal.com/seo-tools/api/v4/batch</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="stop-batch">Stop Batch</h2>

<p><span class="label label-info">Batch Method</span></p>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$batchId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">stop</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully stopped batch.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT
    -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
    -d <span class="s1">'batch-id=&lt;INSERT_BATCH_ID&gt;'</span> <span class="se">\</span>
    https://tools.brightlocal.com/seo-tools/api/v4/batch/stop
</code></pre>
<pre><code class="highlight csharp"><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Stop</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success - status code 200 Ok</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure - status code 404 Not Found</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"INVALID_BATCH_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Batch ID not found"</span><span class="w"> </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Cancels a batch midway through processing. Any jobs in the batch that haven&rsquo;t already been processed will also be cancelled.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v4/batch/stop</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

          <h1 id="rankings">Rankings</h1>

<h2 id="search">Search</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch rankings</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$searches</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">'search-engine'</span>   <span class="o">=&gt;</span> <span class="s1">'google'</span><span class="p">,</span>
        <span class="s1">'country'</span>         <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
        <span class="s1">'google-location'</span> <span class="o">=&gt;</span> <span class="s1">'New York, NY'</span><span class="p">,</span>
        <span class="s1">'search-term'</span>     <span class="o">=&gt;</span> <span class="s1">'restaurant new york'</span><span class="p">,</span>
        <span class="s1">'urls'</span>            <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'le-bernardin.com'</span><span class="p">)),</span>
        <span class="s1">'business-names'</span>  <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'Le Bernardin'</span><span class="p">))</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">'search-engine'</span>   <span class="o">=&gt;</span> <span class="s1">'google'</span><span class="p">,</span>
        <span class="s1">'country'</span>         <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
        <span class="s1">'google-location'</span> <span class="o">=&gt;</span> <span class="s1">'New York, NY'</span><span class="p">,</span>
        <span class="s1">'search-term'</span>     <span class="o">=&gt;</span> <span class="s1">'restaurant manhattan'</span><span class="p">,</span>
        <span class="s1">'urls'</span>            <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'le-bernardin.com'</span><span class="p">)),</span>
        <span class="s1">'business-names'</span>  <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'Le Bernardin'</span><span class="p">))</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">'search-engine'</span>   <span class="o">=&gt;</span> <span class="s1">'google'</span><span class="p">,</span>
        <span class="s1">'country'</span>         <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
        <span class="s1">'google-location'</span> <span class="o">=&gt;</span> <span class="s1">'New York, NY'</span><span class="p">,</span>
        <span class="s1">'search-term'</span>     <span class="o">=&gt;</span> <span class="s1">'restaurant 10019'</span><span class="p">,</span>
        <span class="s1">'urls'</span>            <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'le-bernardin.com'</span><span class="p">)),</span>
        <span class="s1">'business-names'</span>  <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'Le Bernardin'</span><span class="p">))</span>
    <span class="p">)</span>
<span class="p">);</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$searches</span> <span class="k">as</span> <span class="nv">$search</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span>
            <span class="s1">'/v4/rankings/search'</span><span class="p">,</span>
            <span class="nb">array_merge</span><span class="p">(</span>
                <span class="nv">$search</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">'batch-id'</span> <span class="o">=&gt;</span> <span class="nv">$batchId</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
            <span class="nb">printf</span><span class="p">(</span><span class="s1">'Added job with ID %d%s'</span><span class="p">,</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'job-id'</span><span class="p">],</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span><span class="o">.</span><span class="nx">PHP_EOL</span><span class="p">;</span>
        <span class="c1">// poll for results, in a real world example you might
</span>        <span class="c1">// want to do this in a separate process (such as via an
</span>        <span class="c1">// AJAX poll)
</span>        <span class="k">do</span> <span class="p">{</span>
            <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">);</span>
            <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// limit how often you poll
</span>        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$results</span><span class="p">[</span><span class="s1">'status'</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Stopped'</span><span class="p">,</span> <span class="s1">'Finished'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
    -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
    -d <span class="s1">'batch-id=&lt;INSERT_BATCH_ID&gt;'</span> <span class="se">\</span>
    -d <span class="s1">'search-engine=google'</span> <span class="se">\</span>
    -d <span class="s1">'country=USA'</span> <span class="se">\</span>
    -d <span class="s1">'google-location=new+york,ny'</span> <span class="se">\</span>
    -d <span class="s1">'search-term=restaurant'</span> <span class="se">\</span>
    -d <span class="s1">'urls=["jean-georgesrestaurant.com"]'</span> <span class="se">\</span>
    -d <span class="s1">'business-names=["Jean-Georges Restaurant"]'</span> <span class="se">\</span>
    https://tools.brightlocal.com/seo-tools/api/v4/rankings/search
</code></pre>
<pre><code class="highlight csharp"><span class="n">List</span><span class="p">&lt;</span><span class="n">RankingsSearch</span><span class="p">&gt;</span> <span class="n">searches</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">RankingsSearch</span><span class="p">&gt;();</span>
<span class="n">searches</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">RankingsSearch</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">search_engine</span> <span class="p">=</span> <span class="s">"google"</span><span class="p">,</span>
    <span class="n">country</span> <span class="p">=</span> <span class="s">"USA"</span><span class="p">,</span>
    <span class="n">google_location</span> <span class="p">=</span> <span class="s">"New York, NY"</span><span class="p">,</span>
    <span class="n">search_term</span> <span class="p">=</span> <span class="s">"restaurant new york"</span><span class="p">,</span>
    <span class="n">urls</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span> <span class="p">{</span> <span class="s">"le-bernardin.com"</span> <span class="p">},</span>
    <span class="n">business_names</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span> <span class="p">{</span> <span class="s">"Le Bernardin"</span> <span class="p">}</span>
<span class="p">});</span>
<span class="n">searches</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span> <span class="nf">RankingsSearch</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">search_engine</span> <span class="p">=</span> <span class="s">"yahoo"</span><span class="p">,</span>
    <span class="n">country</span> <span class="p">=</span> <span class="s">"USA"</span><span class="p">,</span>
    <span class="n">google_location</span> <span class="p">=</span> <span class="s">"New York, NY"</span><span class="p">,</span>
    <span class="n">search_term</span> <span class="p">=</span> <span class="s">"restaurant new york"</span><span class="p">,</span>
    <span class="n">urls</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span> <span class="p">{</span> <span class="s">"le-bernardin.com"</span> <span class="p">},</span>
    <span class="n">business_names</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;()</span> <span class="p">{</span> <span class="s">"Le Bernardin"</span> <span class="p">}</span>
<span class="p">});</span>


<span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="c1">// Add jobs to batch
</span><span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">searches</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Convert the searches list into parameters for the web requestt
</span>    <span class="n">parameters</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">convertListToParameters</span><span class="p">(</span><span class="n">item</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>

    <span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/rankings/search"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
            <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
            <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a backgroud process, such as HangFire,  or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">rankingResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">rankingResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">rankingResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">rankingResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">rankingResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">rankingsResults</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">rankingResults</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (500 Internal Server Error)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to add job"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Get Batch Rankings Result,  Sucess(200 Ok)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"SearchRankV2Api"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google Search"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"site-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.google.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=Back+Pain+midtown+manhattan&amp;gl=us&amp;gws_rd=cr&amp;pws=0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search-term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Back Pain midtown manhattan"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://thecenternyc.com/tag/back-pain/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.thecenternyc.com/tag/back-pain/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Back Pain Archives &gt;&gt; New York, NY 10001"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="s2">"website address"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"matched_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.thecenternyc.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"serp-screenshot-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/6daa949323ef54687f41d95500751fd08256bc17.png"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://thecenternyc.com/back-pain-nyc/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.thecenternyc.com/back-pain-nyc/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Back Pain NYC Archives &gt;&gt; The Center Chiropractic &amp;amp; PT NYC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="s2">"website address"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"matched_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.thecenternyc.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"serp-screenshot-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/6daa949323ef54687f41d95500751fd08256bc17.png"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"result-types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Places"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Carousel"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Directory"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Secondary"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"http-error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"serp-screenshots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/6b3c2ea8060ad5d564bbbfb84e1dc877e401d7ab.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/6daa949323ef54687f41d95500751fd08256bc17.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/7e4fe6933ceff9303c541c3a4ff078d762aefff9.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/fec74577c27321aa403da6733b82f3e3daa06407.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/ceac0abca0233cb404f7859e8942ee1ed6851564.png"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"queue-attempts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"http-codes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"search-engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"www.thecenternyc.com"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"business-names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"The center for chiropractic &amp; pt"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"the center for chiropractic decomperssion"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"search-term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Back Pain midtown manhattan"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"646-606-2580"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"google-location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bing-location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include-name-only-matches"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num-search-pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"debug"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"listings"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"screenshots-enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include-intermediate-html"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"append-location"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">564270998</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google Search"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"site-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.google.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=apos+therapy+new+york&amp;gl=us&amp;gws_rd=cr&amp;pws=0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search-term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apos therapy new york"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://thecenternyc.com/apostherapy/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.thecenternyc.com/apostherapy/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Apostherapy NYC - Chiropractor NYC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="s2">"website address"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"matched_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.thecenternyc.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"serp-screenshot-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/9fce8698cbbfb59eeb4237dbb337c35e73fca0fa.png"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"result-types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Places"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Carousel"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Directory"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Secondary"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"http-error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"serp-screenshots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/98aa8a19a602cefdb4d1ee0c2d220bf651b8d5cc.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/9fce8698cbbfb59eeb4237dbb337c35e73fca0fa.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/7346a7078076feaf155456e4437429bfc7e7bf94.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/95b95e6189dc6a4cae2ec8247b53f507a6cf4925.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/e6b467b76c9e2ea66c1ebfbdcd316ee95f97af6e.png"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"queue-attempts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"http-codes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"search-engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"www.thecenternyc.com"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"business-names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"The center for chiropractic &amp; pt"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"the center for chiropractic decomperssion"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"search-term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apos therapy new york"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"646-606-2580"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"google-location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bing-location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include-name-only-matches"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num-search-pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"debug"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"listings"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"screenshots-enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include-intermediate-html"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"append-location"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">564270999</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yahoo! Search"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"site-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yahoo.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://search.yahoo.com/search?p=apos+therapy+new+york"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search-term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apos therapy new york"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"result-types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Local"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Directory"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"http-error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"serp-screenshots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/60f6391ac2751102165e4f6b7b360c97e8a63bc1.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/712b2c7d35f59309e36f8bdc79dab76b04695388.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/dace1c14755c4b1467e36cfce7a96af86604a785.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/2c381e008d53e0d02ec4d11cc03e29e5b618a236.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/f754b72bd373673cd6e4010519413d28ec22a1ab.png"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"queue-attempts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"http-codes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"search-engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"www.thecenternyc.com"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"business-names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"The center for chiropractic &amp; pt"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"the center for chiropractic decomperssion"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"search-term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"apos therapy new york"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"646-606-2580"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"google-location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bing-location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include-name-only-matches"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num-search-pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"debug"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"listings"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"screenshots-enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include-intermediate-html"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"append-location"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">564271014</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yahoo! Search"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"site-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yahoo.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://search.yahoo.com/search?p=redcord+therapy+manhattan"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search-term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redcord therapy manhattan"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://thecenternyc.com/redcord-physical-therapy-manhattan/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.thecenternyc.com/redcord-physical-therapy-manhattan/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Redcord Physical Therapy Manhattan | Chiropractor..."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="s2">"website address"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"matched_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.thecenternyc.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"serp-screenshot-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/7609663e9087a81b92015e1c9af025257ae4be62.png"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://thecenternyc.com/redcord-manhattan/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.thecenternyc.com/redcord-manhattan/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Redcord Manhattan Archives &gt;&gt; The Center..."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                  </span><span class="s2">"website address"</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"matched_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.thecenternyc.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"serp-screenshot-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/7609663e9087a81b92015e1c9af025257ae4be62.png"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"result-types"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Local"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Directory"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"http-error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"error-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"None"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"serp-screenshots"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/7609663e9087a81b92015e1c9af025257ae4be62.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/09424d6d44a145c86aa72c2948414d6bc220969b.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/54938f2561fea42cb97af038e85d3b8ec41d8a4c.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/2256d2c5362c6a7745f82f76bd28801322f902fa.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"https://seo-serp-screenshots.s3.amazonaws.com/2016/10/14/14/11ae9ee7f549d89e2248d97bf6cf3764d997e047.png"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"queue-attempts"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"http-codes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="mi">0</span><span class="w">
          </span><span class="p">],</span><span class="w">
          </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"search-engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"options"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"www.thecenternyc.com"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"business-names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"The center for chiropractic &amp; pt"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"the center for chiropractic decomperssion"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"search-term"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redcord therapy manhattan"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"646-606-2580"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"google-location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bing-location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include-name-only-matches"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num-search-pages"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"debug"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"listings"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"screenshots-enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"include-intermediate-html"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"append-location"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"position"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">564271015</span><span class="w">
      </span><span class="p">}</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Finished"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This API method allows you to retrieve search ranking (and listing data) from the major search engines and their local variants, namely Google, Google Maps, Yahoo!, Yahoo! Local, Bing and Bing Maps. It works for the USA, United Kingdom, Canada and Australia. The only exception is in Australia where Yahoo! Local is not supported.</p>

<p>This method needs to be used in conjunction with the <a href="#batches">batch methods</a> described above.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/rankings/search</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>search-engine</td>
<td><span class="label label-required">Required</span> One of google, google-mobile, google-local, yahoo, yahoo-local, bing, bing-local.</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span> Determines which country specific variant of the specified search engine to use. As defined in &ldquo;Supported Countries&rdquo;(#supported-countries) table below.</td>
</tr>
<tr>
<td>google-location</td>
<td>Allows you to optionally localize results by specifying your physical location. Specify a ZIP, city name or region. Only applicable to US searches. Also see <a href="#check-location">Check Location</a> method.</td>
</tr>
<tr>
<td>bing-location</td>
<td>Allows you to optionally localize results by specifying your physical location. See <a href="#check-location">Check Location</a> method.</td>
</tr>
<tr>
<td>search-term</td>
<td><span class="label label-required">Required</span> The search term to get ranking information for.</td>
</tr>
<tr>
<td>urls</td>
<td>The URLs to get ranking information for. Encode as a JSON string, e.g. [&ldquo;www.bluehillfarm.com&rdquo;, &ldquo;www.candle79.com&rdquo;, &ldquo;shabutatsu.com&rdquo;, &ldquo;marea-nyc.com&rdquo;, &ldquo;www.taorestaurant.com&rdquo;] (max 10).</td>
</tr>
<tr>
<td>business-names</td>
<td>A list of possible business names to search for. Encode as a JSON string, e.g. [&ldquo;The Rose Pub&rdquo;,&ldquo;Rose Pub&rdquo;,&ldquo;The Rose&rdquo;]. For backwards compatibility this also supports a newline (\n) separated list.</td>
</tr>
<tr>
<td>postcode</td>
<td>A valid ZIP or country postal code.</td>
</tr>
<tr>
<td>telephone</td>
<td>A valid telephone number.</td>
</tr>
<tr>
<td>include-secondary-matches</td>
<td>Determines whether or not to include results matched by name, telephone and/or ZIP/postal code. One of yes or no. This should be used in conjunction with the postal and telephone parameters.</td>
</tr>
<tr>
<td>listings</td>
<td>Include details of all SERPs returned, not just the matches. Defaults to &ldquo;no&rdquo;. Accepts &ldquo;yes&rdquo; or &ldquo;no&rdquo;. The default is &ldquo;no&rdquo;.</td>
</tr>
<tr>
<td>screenshots</td>
<td>Determines whether or not to generate SERP screenshots and include the links to those screenshots in the response. Accepts &ldquo;yes&rdquo; or &ldquo;no&rdquo;. The default is &ldquo;no&rdquo;.</td>
</tr>
</tbody></table>

<aside class="notice">
    By default we return 5 pages or 50 results (whichever is lower). If you need more than this please contact us. We can increase to a maximum of 10 pages or 100 results on a case by case basis.
</aside>

<h2 id="bulk-search">Bulk Search</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch rankings</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$searches</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'restaurant new york'</span><span class="p">,</span>
    <span class="s1">'restaurant manhattan'</span><span class="p">,</span>
    <span class="s1">'restaurant 10019'</span>
<span class="p">);</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span>
        <span class="s1">'/v4/rankings/bulk-search'</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span>
            <span class="s1">'batch-id'</span> <span class="o">=&gt;</span> <span class="nv">$batchId</span><span class="p">,</span>
            <span class="s1">'search-engine'</span>   <span class="o">=&gt;</span> <span class="s1">'google'</span><span class="p">,</span>
            <span class="s1">'country'</span>         <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
            <span class="s1">'google-location'</span> <span class="o">=&gt;</span> <span class="s1">'New York, NY'</span><span class="p">,</span>
            <span class="s1">'search-terms'</span>    <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="nv">$searches</span><span class="p">),</span>
            <span class="s1">'urls'</span>            <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'le-bernardin.com'</span><span class="p">)),</span>
            <span class="s1">'business-names'</span>  <span class="o">=&gt;</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span><span class="s1">'Le Bernardin'</span><span class="p">))</span>
        <span class="p">)</span>
    <span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nb">printf</span><span class="p">(</span><span class="s1">'Added job with ID %d%s'</span><span class="p">,</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'job-id'</span><span class="p">],</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span><span class="o">.</span><span class="nx">PHP_EOL</span><span class="p">;</span>
        <span class="c1">// poll for results, in a real world example you might
</span>        <span class="c1">// want to do this in a separate process (such as via an
</span>        <span class="c1">// AJAX poll)
</span>        <span class="k">do</span> <span class="p">{</span>
            <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">);</span>
            <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// limit how often you poll
</span>        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$results</span><span class="p">[</span><span class="s1">'status'</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Stopped'</span><span class="p">,</span> <span class="s1">'Finished'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
    -F <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
    -F <span class="s1">'batch-id=&lt;INSERT_BATCH_ID&gt;'</span> <span class="se">\</span>
    -F <span class="s1">'search-engine=google'</span> <span class="se">\</span>
    -F <span class="s1">'country=USA'</span> <span class="se">\</span>
    -F <span class="s1">'google-location=new+york,ny'</span> <span class="se">\</span>
    -F <span class="s1">'search-terms=["restaurant","restaurant+new+york","restaurant+manhattan"]'</span> <span class="se">\</span>
    -F <span class="s1">'urls=["jean-georgesrestaurant.com"]'</span> <span class="se">\</span>
    -F <span class="s1">'business-names=["Jean-Georges Restaurant"]'</span> <span class="se">\</span>
    https://tools.brightlocal.com/seo-tools/api/v4/rankings/bulk-search
</code></pre>
<pre><code class="highlight csharp"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">searches</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;(</span>
    <span class="k">new</span> <span class="kt">string</span><span class="p">[]</span> <span class="p">{</span>
        <span class="s">"restaurant new york'"</span><span class="p">,</span>
        <span class="s">"restaurant manhattan"</span><span class="p">,</span>
        <span class="s">"restaurant 10019"</span>
    <span class="p">}</span>
<span class="p">);</span>
<span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-engine"</span><span class="p">,</span> <span class="s">"google"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"google-location"</span><span class="p">,</span> <span class="s">"New York, NY"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-terms"</span><span class="p">,</span> <span class="n">searches</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"urls"</span><span class="p">,</span> <span class="s">"['le-bernardin.com']"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-names"</span><span class="p">,</span> <span class="s">"['Le Bernardin']"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/rankings/bulk-search"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
    <span class="p">{</span>
       <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
       <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
       <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a backgroud process, such as HangFire,  or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">rankingResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">rankingResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">rankingResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">rankingResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">rankingResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">rankingsResults</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">rankingResults</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="s2">"3"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (500 Internal Server Error)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unable to add job(s)"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This method works the same as the <a href="#search">search</a> method above except it allows you to submit up to 100 search terms in one request. Use this when you want to look up rankings for many hundreds or thousands of search terms.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/rankings/bulk-search</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>search-engine</td>
<td><span class="label label-required">Required</span> One of google, google-mobile, google-local, yahoo, yahoo-local, bing, bing-local.</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span> Determines which country specific variant of the specified search engine to use. As defined in &ldquo;Supported Countries&rdquo;(#supported-countries) table below.</td>
</tr>
<tr>
<td>google-location</td>
<td>Allows you to optionally localize results by specifying your physical location. Specify a ZIP, city name or region. Only applicable to US searches. Also see <a href="#check-location">Check Location</a> method.</td>
</tr>
<tr>
<td>bing-location</td>
<td>Allows you to optionally localize results by specifying your physical location. See <a href="#check-location">Check Location</a> method.</td>
</tr>
<tr>
<td>search-terms</td>
<td><span class="label label-required">Required</span> Encode as a JSON string, e.g. [&ldquo;restaurant new york&rdquo;, &ldquo;restaurant&rdquo;, &ldquo;cafe&rdquo;] (max 100).</td>
</tr>
<tr>
<td>urls</td>
<td>The URLs to get ranking information for. Encode as a JSON string, e.g. [&ldquo;www.bluehillfarm.com&rdquo;, &ldquo;www.candle79.com&rdquo;, &ldquo;shabutatsu.com&rdquo;, &ldquo;marea-nyc.com&rdquo;, &ldquo;www.taorestaurant.com&rdquo;] (max 10).</td>
</tr>
<tr>
<td>business-names</td>
<td>A list of possible business names to search for. Encode as a JSON string, e.g. [&ldquo;The Rose Pub&rdquo;,&ldquo;Rose Pub&rdquo;,&ldquo;The Rose&rdquo;]. For backwards compatibility this also supports a newline (\n) separated list.</td>
</tr>
<tr>
<td>postcode</td>
<td>A valid ZIP or country postal code.</td>
</tr>
<tr>
<td>telephone</td>
<td>A valid telephone number.</td>
</tr>
<tr>
<td>include-secondary-matches</td>
<td>Determines whether or not to include results matched by name, telephone and/or ZIP/postal code. One of yes or no. This should be used in conjunction with the postal and telephone parameters.</td>
</tr>
<tr>
<td>listings</td>
<td>Include details of all SERPs returned, not just the matches. Defaults to &ldquo;no&rdquo;. Accepts &ldquo;yes&rdquo; or &ldquo;no&rdquo;. The default is &ldquo;no&rdquo;.</td>
</tr>
<tr>
<td>screenshots</td>
<td>Determines whether or not to generate SERP screenshots and include the links to those screenshots in the response. Accepts &ldquo;yes&rdquo; or &ldquo;no&rdquo;. The default is &ldquo;no&rdquo;.</td>
</tr>
</tbody></table>

<aside class="notice">
    By default we return 5 pages or 50 results (whichever is lower). If you need more than this please contact us. We can increase to a maximum of 10 pages or 100 results on a case by case basis.
</aside>

<h2 id="supported-countries">Supported Countries</h2>

<table><thead>
<tr>
<th>Country</th>
<th>Code</th>
<th>Supported Engines</th>
</tr>
</thead><tbody>
<tr>
<td>Australia</td>
<td>AUS</td>
<td>All</td>
</tr>
<tr>
<td>Austria</td>
<td>AUT</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Canada (English, French)</td>
<td>CAN, CAN:EN, CAN:FR</td>
<td>All</td>
</tr>
<tr>
<td>Czech Republic</td>
<td>CZE</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Denmark</td>
<td>DNK, DNK:DA, DNK:FO</td>
<td>Google engines only</td>
</tr>
<tr>
<td>France</td>
<td>FRA</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Germany</td>
<td>DEU</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Hong Kong</td>
<td>HKG</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Ireland</td>
<td>IRL</td>
<td>All</td>
</tr>
<tr>
<td>Italy</td>
<td>ITA</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Luxembourg</td>
<td>LUX, LUX:DE, LUX:FR</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Netherlands</td>
<td>NLD, NLD:NL, NLD:EN</td>
<td>Google engines only</td>
</tr>
<tr>
<td>New Zealand</td>
<td>NZL</td>
<td>All</td>
</tr>
<tr>
<td>Norway</td>
<td>NOR, NOR:NO, NOR:NN</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Spain</td>
<td>ESP, ESP:ES, ESP:CA, ESP:GL, ESP:EU</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Sweden</td>
<td>SWE</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Switzerland</td>
<td>CHE, CHE:DE, CHE:FR, CHE:IT, CHE:RM</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Philippines</td>
<td>PHL</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Poland</td>
<td>POL</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Portugal</td>
<td>PRT</td>
<td>Google engines only</td>
</tr>
<tr>
<td>Taiwan</td>
<td>TWN</td>
<td>Google engines only</td>
</tr>
<tr>
<td>United Kingdom</td>
<td>GBR</td>
<td>All</td>
</tr>
<tr>
<td>United States</td>
<td>USA</td>
<td>All</td>
</tr>
<tr>
<td>United States Minor</td>
<td>UMI</td>
<td>Google engines only</td>
</tr>
</tbody></table>

<h2 id="check-location">Check Location</h2>

<blockquote>
<p>Location Found (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Location Not Found (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Suggestions (Bing only) (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"lat:40.7145500183105|long:-74.0071182250977|New York, NY"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat:39.6849212646484|long:-93.9093475341797|New York, MO"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lat:32.1684989929199|long:-95.669189453125|New York, TX"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Look up a location that&rsquo;s suitable for use when setting Google or Bing location whilst performing a search using the method above. This method is deprecated for use with Google as there&rsquo;s no longer any need to check if the location you want to set is valid.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/rankings/check-location</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>search-engine</td>
<td><span class="label label-required">Required</span> One of google or bing.</td>
</tr>
<tr>
<td>country</td>
<td>One of USA, CAN, GBR, AUS, IRL or NZL.</td>
</tr>
<tr>
<td>location</td>
<td>e.g. postcode/ZIP, city and state code</td>
</tr>
</tbody></table>

          <h1 id="local-directories">Local Directories</h1>

<h2 id="fetch-profile-url">Fetch Profile URL</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch profile url for 3 local directories</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$localDirectories</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'google'</span><span class="p">,</span>
    <span class="s1">'yelp'</span><span class="p">,</span>
    <span class="s1">'yahoo'</span>
<span class="p">);</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$localDirectories</span> <span class="k">as</span> <span class="nv">$localDirectory</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'/v4/ld/fetch-profile-url'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">'batch-id'</span>        <span class="o">=&gt;</span> <span class="nv">$batchId</span><span class="p">,</span>
            <span class="s1">'business-names'</span>  <span class="o">=&gt;</span> <span class="s1">'La Bernardin\nBernardin Cafe\nBernardin restaraunt'</span><span class="p">,</span>
            <span class="s1">'country'</span>         <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
            <span class="s1">'city'</span>            <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
            <span class="s1">'postcode'</span>        <span class="o">=&gt;</span> <span class="s1">'10019'</span>
            <span class="s1">'local-directory'</span> <span class="o">=&gt;</span> <span class="nv">$localDirectory</span>            
        <span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
            <span class="nb">printf</span><span class="p">(</span><span class="s1">'Added job with ID %d%s'</span><span class="p">,</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'job-id'</span><span class="p">],</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span><span class="o">.</span><span class="nx">PHP_EOL</span><span class="p">;</span>
        <span class="c1">// poll for results, in a real world example you might
</span>        <span class="c1">// want to do this in a separate process (such as via an
</span>        <span class="c1">// AJAX poll)
</span>        <span class="k">do</span> <span class="p">{</span>
            <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">);</span>
            <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// limit how often you poll
</span>        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$results</span><span class="p">[</span><span class="s1">'status'</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Stopped'</span><span class="p">,</span> <span class="s1">'Finished'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">localDirectories</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"google"</span><span class="p">);</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"yelp"</span><span class="p">);</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"yahoo"</span><span class="p">);</span>

<span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>

<span class="c1">// Add jobs to batch
</span><span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">directory</span> <span class="k">in</span> <span class="n">localDirectories</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-names"</span><span class="p">,</span> <span class="s">"La Bernardin\nBernardin Cafe\nBernardin restaraunt"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"local-directory"</span><span class="p">,</span> <span class="n">directory</span><span class="p">);</span>

    <span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/ld/fetch-profile-url"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
            <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
            <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a background process, such as HangFire, or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">directoryResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">directoryResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">directoryResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">directoryResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">directoryResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_BUSINESS_NAMES"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Business names specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid  country  specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_CITY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid  city  specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_POSTCODE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid  postcode  specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_LOCAL_DIRECTORY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid  local directory  specified"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Get Batch Fetch Profile Url Results, Success (200 Ok)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"LdFetchProfileUrl"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"business-names"</span><span class="p">:</span><span class="w"> </span><span class="s2">"La Bernardin\nBernardin Cafe\nBernardin restaraunt"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10019"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"street-address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1a08b2e1fd07fa4150f91b80636906a9a29b8e47"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">605592911</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Finished"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/ld/fetch-profile-url</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>business-names</td>
<td><span class="label label-required">Required</span> A newline (\n) separated list of possible business names to search for. For example: The Rose Pub Rose Pub The Rose.</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>city</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>local-directory</td>
<td><span class="label label-required">Required</span> See possible options in appendix below.</td>
</tr>
<tr>
<td>telephone</td>
<td></td>
</tr>
<tr>
<td>street-address</td>
<td></td>
</tr>
</tbody></table>

<h2 id="fetch-profile-url-(telephone-number-only)">Fetch Profile URL (Telephone Number Only)</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch profile url (telephone number only) for 3 local directories</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$localDirectories</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'google'</span><span class="p">,</span>
    <span class="s1">'yelp'</span><span class="p">,</span>
    <span class="s1">'yahoo'</span>
<span class="p">);</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$localDirectories</span> <span class="k">as</span> <span class="nv">$localDirectory</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="o">/</span><span class="nx">v4</span><span class="o">/</span><span class="nx">ld</span><span class="o">/</span><span class="nx">fetch</span><span class="o">-</span><span class="nx">profile</span><span class="o">-</span><span class="nx">url</span><span class="s1">', array(
            '</span><span class="nx">batch</span><span class="o">-</span><span class="nx">id</span><span class="s1">'        =&gt; $batchId,
            '</span><span class="nx">telephone</span><span class="s1">'       =&gt; '</span><span class="o">+</span><span class="mi">1</span> <span class="mi">212</span><span class="o">-</span><span class="mi">554</span><span class="o">-</span><span class="mi">1515</span><span class="s1">',
            '</span><span class="nx">search</span><span class="o">-</span><span class="nx">type</span><span class="s1">'     =&gt; '</span><span class="nx">search</span><span class="o">-</span><span class="nx">by</span><span class="o">-</span><span class="nx">phone</span><span class="s1">',         
            '</span><span class="nx">local</span><span class="o">-</span><span class="nx">directory</span><span class="s1">' =&gt; $localDirectory            
        ));
        if ($result['</span><span class="nx">success</span><span class="s1">']) {
            printf('</span><span class="nx">Added</span> <span class="nx">job</span> <span class="nx">with</span> <span class="nx">ID</span> <span class="o">%</span><span class="nx">d</span><span class="o">%</span><span class="nx">s</span><span class="s1">', $result['</span><span class="nx">job</span><span class="o">-</span><span class="nx">id</span><span class="s1">'], PHP_EOL);
        }
    }
    if ($batchApi-&gt;commit($batchId)) {
        echo '</span><span class="nx">Committed</span> <span class="nx">batch</span> <span class="nx">successfully</span><span class="o">.</span><span class="s1">'.PHP_EOL;
        // poll for results, in a real world example you might
        // want to do this in a separate process (such as via an
        // AJAX poll)
        do {
            $results = $batchApi-&gt;get_results($batchId);
            sleep(10); // limit how often you poll
        } while (!in_array($results['</span><span class="nx">status</span><span class="s1">'], array('</span><span class="nx">Stopped</span><span class="s1">', '</span><span class="nx">Finished</span><span class="err">'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">localDirectories</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"google"</span><span class="p">);</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"yelp"</span><span class="p">);</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"yahoo"</span><span class="p">);</span>

<span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>

<span class="c1">// Add jobs to batch
</span><span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">directory</span> <span class="k">in</span> <span class="n">localDirectories</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"local-directory"</span><span class="p">,</span> <span class="n">directory</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-type"</span><span class="p">,</span> <span class="s">"search-by-phone"</span><span class="p">);</span>

    <span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/ld/fetch-profile-url"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
            <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
            <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a background process, such as HangFire,  or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">directoryResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">directoryResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">directoryResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">directoryResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">directoryResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
 </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
 </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
   </span><span class="s2">"INVALID_TELEPHONE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid telephone specified"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"INVALID_LOCAL_DIRECTORY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid local directory  specified"</span><span class="w">
 </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Get Batch Fetch Profile Url (Telephone Number Only) Results, Success (200 Ok)</p>
</blockquote>
<pre><code class="highlight json"></code></pre>

<p>Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/ld/fetch-profile-url</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Value</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td></td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td></td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>local-directory</td>
<td></td>
<td><span class="label label-required">Required</span> See possible options in appendix below.</td>
</tr>
<tr>
<td>telephone</td>
<td></td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>search-type</td>
<td>search-by-phone</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="fetch-profile-details-(by-profile-url)">Fetch Profile Details (by profile URL)</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch profile details (by profile URL)</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>   
    <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'/v4/ld/fetch-profile-details'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'batch-id'</span>        <span class="o">=&gt;</span> <span class="nv">$batchId</span><span class="p">,</span>
        <span class="s1">'profile-url'</span>  <span class="o">=&gt;</span> <span class="s1">'https://www.google.com/search?q="Le+Bernardin"+"10019"'</span><span class="p">,</span>
        <span class="s1">'country'</span>         <span class="o">=&gt;</span> <span class="s1">'USA'</span> 
    <span class="p">));</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
        <span class="nb">printf</span><span class="p">(</span><span class="s1">'Added job with ID %d%s'</span><span class="p">,</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'job-id'</span><span class="p">],</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="p">}</span>    
    <span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span><span class="o">.</span><span class="nx">PHP_EOL</span><span class="p">;</span>
        <span class="c1">// poll for results, in a real world example you might
</span>        <span class="c1">// want to do this in a separate process (such as via an
</span>        <span class="c1">// AJAX poll)
</span>        <span class="k">do</span> <span class="p">{</span>
            <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">);</span>
            <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// limit how often you poll
</span>        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$results</span><span class="p">[</span><span class="s1">'status'</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Stopped'</span><span class="p">,</span> <span class="s1">'Finished'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"profile-url"</span><span class="p">,</span> <span class="s">"https://www.google.com/search?q='Le+Bernardin'+'10019'"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>       

<span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/ld/fetch-profile-details"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
        <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
        <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a background process, such as HangFire, or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">directoryResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">directoryResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">directoryResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">directoryResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">directoryResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid  country  specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_PROFILE_URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Profile Url is not valid"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/ld/fetch-profile-details</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>profile-url</td>
<td><span class="label label-required">Required</span> For requests to fetch Google profile data please use our <a href="https://www.brightlocal.com/free-local-seo-tools/google-id-and-review-link-generator/">Google Link &amp; ID Generator tool</a> to generate your Google My Business Knowledge Panel URL.</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="fetch-profile-details-(by-business-data)">Fetch Profile Details (by business data)</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch profile details (by business data)</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$localDirectories</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'google'</span><span class="p">,</span>
    <span class="s1">'yelp'</span><span class="p">,</span>
    <span class="s1">'yahoo'</span>
<span class="p">);</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$localDirectories</span> <span class="k">as</span> <span class="nv">$localDirectory</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="o">/</span><span class="nx">v4</span><span class="o">/</span><span class="nx">ld</span><span class="o">/</span><span class="nx">fetch</span><span class="o">-</span><span class="nx">profile</span><span class="o">-</span><span class="nx">details</span><span class="o">-</span><span class="nx">by</span><span class="o">-</span><span class="nx">business</span><span class="o">-</span><span class="nx">data</span><span class="s1">', array(
            '</span><span class="nx">batch</span><span class="o">-</span><span class="nx">id</span><span class="s1">'        =&gt; $batchId,
            '</span><span class="nx">business</span><span class="o">-</span><span class="nx">names</span><span class="s1">'  =&gt; '</span><span class="nx">La</span> <span class="nx">Bernardin\nBernardin</span> <span class="nx">Cafe\nBernardin</span> <span class="nx">restaraunt</span><span class="s1">',
            '</span><span class="nx">country</span><span class="s1">'         =&gt; '</span><span class="nx">USA</span><span class="s1">',
            '</span><span class="nx">city</span><span class="s1">'            =&gt; '</span><span class="nx">New</span> <span class="nx">York</span><span class="s1">',
            '</span><span class="nx">postcode</span><span class="s1">'        =&gt; '</span><span class="mi">10019</span><span class="s1">'
            '</span><span class="nx">local</span><span class="o">-</span><span class="nx">directory</span><span class="s1">' =&gt; $localDirectory            
        ));
        if ($result['</span><span class="nx">success</span><span class="s1">']) {
            printf('</span><span class="nx">Added</span> <span class="nx">job</span> <span class="nx">with</span> <span class="nx">ID</span> <span class="o">%</span><span class="nx">d</span><span class="o">%</span><span class="nx">s</span><span class="s1">', $result['</span><span class="nx">job</span><span class="o">-</span><span class="nx">id</span><span class="s1">'], PHP_EOL);
        }
    }
    if ($batchApi-&gt;commit($batchId)) {
        echo '</span><span class="nx">Committed</span> <span class="nx">batch</span> <span class="nx">successfully</span><span class="o">.</span><span class="s1">'.PHP_EOL;
        // poll for results, in a real world example you might
        // want to do this in a separate process (such as via an
        // AJAX poll)
        do {
            $results = $batchApi-&gt;get_results($batchId);
            sleep(10); // limit how often you poll
        } while (!in_array($results['</span><span class="nx">status</span><span class="s1">'], array('</span><span class="nx">Stopped</span><span class="s1">', '</span><span class="nx">Finished</span><span class="err">'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">localDirectories</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"google"</span><span class="p">);</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"yelp"</span><span class="p">);</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"yahoo"</span><span class="p">);</span>

<span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>

<span class="c1">// Add jobs to batch
</span><span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">directory</span> <span class="k">in</span> <span class="n">localDirectories</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-names"</span><span class="p">,</span> <span class="s">"La Bernardin\nBernardin Cafe\nBernardin restaraunt"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"local-directory"</span><span class="p">,</span> <span class="n">directory</span><span class="p">);</span>

    <span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/ld/fetch-profile-details-by-business-data"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
            <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
            <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a background process, such as HangFire, or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">directoryResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">directoryResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">directoryResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">directoryResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">directoryResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_BUSINESS_NAMES"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Business names specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid  country  specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_CITY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid city  specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_POSTCODE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid postcode  specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_LOCAL_DIRECTORY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid local directory specified"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This method shortcuts Fetch Profile URL and Fetch Profile Details above by carrying out both in one step. It essentially looks up the URL and then uses that to fetch the profile details.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/ld/fetch-profile-details-by-business-data</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>business-names</td>
<td><span class="label label-required">Required</span> A newline (\n) separated list of possible business names to search for. For example: The Rose Pub Rose Pub The Rose.</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>city</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>local-directory</td>
<td><span class="label label-required">Required</span> See possible options in appendix below.</td>
</tr>
<tr>
<td>telephone</td>
<td></td>
</tr>
<tr>
<td>street-address</td>
<td></td>
</tr>
</tbody></table>

          <h1 id="reviews">Reviews</h1>

<h2 id="fetch-reviews-(by-profile-url)">Fetch Reviews (by profile URL)</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch reviews for 3 Google+ profile URLs</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$profileUrls</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">'https://plus.google.com/114222978585544488148/about?hl=en'</span><span class="p">,</span>
    <span class="s1">'https://plus.google.com/117313296997732479889/about?hl=en'</span><span class="p">,</span>
    <span class="s1">'https://plus.google.com/111550668382222753542/about?hl=en'</span>
<span class="p">);</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$profileUrls</span> <span class="k">as</span> <span class="nv">$profileUrl</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'/v4/ld/fetch-reviews'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">'batch-id'</span>    <span class="o">=&gt;</span> <span class="nv">$batchId</span><span class="p">,</span>
            <span class="s1">'profile-url'</span> <span class="o">=&gt;</span> <span class="nv">$profileUrl</span><span class="p">,</span>
            <span class="s1">'country'</span>     <span class="o">=&gt;</span> <span class="s1">'USA'</span>
        <span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
            <span class="nb">printf</span><span class="p">(</span><span class="s1">'Added job with ID %d%s'</span><span class="p">,</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'job-id'</span><span class="p">],</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span><span class="o">.</span><span class="nx">PHP_EOL</span><span class="p">;</span>
        <span class="c1">// poll for results, in a real world example you might
</span>        <span class="c1">// want to do this in a separate process (such as via an
</span>        <span class="c1">// AJAX poll)
</span>        <span class="k">do</span> <span class="p">{</span>
            <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">);</span>
            <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// limit how often you poll
</span>        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$results</span><span class="p">[</span><span class="s1">'status'</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Stopped'</span><span class="p">,</span> <span class="s1">'Finished'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">profileUrls</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">profileUrls</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"https://plus.google.com/114222978585544488148/about?hl=en"</span><span class="p">);</span>
<span class="n">profileUrls</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"https://plus.google.com/117313296997732479889/about?hl=en"</span><span class="p">);</span>
<span class="n">profileUrls</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"https://plus.google.com/111550668382222753542/about?hl=en"</span><span class="p">);</span>



<span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>


<span class="c1">// Add jobs to batch
</span><span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">profileUrls</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"profile-url"</span><span class="p">,</span> <span class="n">item</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>

    <span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/ld/fetch-reviews"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
            <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
            <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a backgroud process, such as HangFire,  or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">reviewResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">reviewResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">reviewResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">reviewResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">reviewResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">reviewResults</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">rankingResults</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid  country  specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_PROFILE_URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Profile Url is not valid"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_DATE_FROM"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Date From. Date Format: Y-m-d or Y-m-d H:i:s"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_REVIEWS_LIMIT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reviews Limit should be positive number or 'all'"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/ld/fetch-reviews</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>profile-url</td>
<td><span class="label label-required">Required</span> For requests to fetch Google profile data please use our <a href="https://www.brightlocal.com/free-local-seo-tools/google-id-and-review-link-generator/">Google Link &amp; ID Generator tool</a> to generate your Google My Business Knowledge Panel URL.</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sort</td>
<td>&lsquo;rating&rsquo; or &#39;date&rsquo;. By default &#39;date&rsquo;.</td>
</tr>
<tr>
<td>reviews-limit</td>
<td>Positive number or &#39;all&rsquo;. By default 100.</td>
</tr>
<tr>
<td>date-from</td>
<td>Date Format: Y-m-d or Y-m-d H:i:s. By default not specified.</td>
</tr>
<tr>
<td>start-page</td>
<td>See <a href="#paging">paging</a> table below for details.</td>
</tr>
</tbody></table>

<h2 id="fetch-reviews-(by-business-data)">Fetch Reviews (by business data)</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch reviews for a business using business data</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$profileUrls</span> <span class="k">as</span> <span class="nv">$profileUrl</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'/v4/ld/fetch-reviews-by-business-data'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">'batch-id'</span>        <span class="o">=&gt;</span> <span class="nv">$batchId</span><span class="p">,</span>
            <span class="s1">'business-names'</span>  <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
            <span class="s1">'city'</span>            <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
            <span class="s1">'postcode'</span>        <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
            <span class="s1">'street-address'</span>  <span class="o">=&gt;</span> <span class="s1">'155 W 51st St'</span><span class="p">,</span>
            <span class="s1">'local-directory'</span> <span class="o">=&gt;</span> <span class="s1">'google'</span><span class="p">,</span>
            <span class="s1">'country'</span>         <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
            <span class="s1">'telephone'</span>       <span class="o">=&gt;</span> <span class="s1">'(212) 554-1515'</span>
        <span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
            <span class="nb">printf</span><span class="p">(</span><span class="s1">'Added job with ID %d%s'</span><span class="p">,</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'job-id'</span><span class="p">],</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span><span class="o">.</span><span class="nx">PHP_EOL</span><span class="p">;</span>
        <span class="c1">// poll for results, in a real world example you might
</span>        <span class="c1">// want to do this in a separate process (such as via an
</span>        <span class="c1">// AJAX poll)
</span>        <span class="k">do</span> <span class="p">{</span>
            <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">);</span>
            <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// limit how often you poll
</span>        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$results</span><span class="p">[</span><span class="s1">'status'</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Stopped'</span><span class="p">,</span> <span class="s1">'Finished'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;</span> <span class="n">localDirectories</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">&gt;();</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"google"</span><span class="p">);</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"facebook"</span><span class="p">);</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"yahoo"</span><span class="p">);</span>

<span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>

<span class="c1">// Add jobs to batch
</span><span class="k">foreach</span> <span class="p">(</span><span class="n">var</span> <span class="n">item</span> <span class="k">in</span> <span class="n">localDirectories</span><span class="p">)</span>
<span class="p">{</span>    
    <span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-names"</span><span class="p">,</span> <span class="s">"Le Bernardin\nLe Bernardin Cafe"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"local-directory"</span><span class="p">,</span> <span class="n">item</span><span class="p">);</span>
    <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="n">USA</span><span class="p">);</span>    

    <span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/ld/fetch-reviews-by-business-data"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
            <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
            <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a backgroud process, such as HangFire,  or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">reviewResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">reviewResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">reviewResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">reviewResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">reviewResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">reviewResults</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">rankingResults</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Success (200 Ok)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"LdFetchProfileUrl"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=%22%5B%22Pick+A+Bagel%22%5D%22+%2210021%22&amp;gws_rd=cr&amp;gl=us"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"business-names"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[\"Pick A Bagel\"]"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manhattan"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10021"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(212) 717-4668"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"street-address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1475 2nd Avenue"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dependent-job"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LdFetchReviews"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"profile-url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date-from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"reviews-limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
              </span><span class="s2">"sort-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">549612293</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/pick-a-bagel-new-york-5"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"business-names"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[\"Pick A Bagel\"]"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manhattan"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10021"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"(212) 717-4668"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yelp"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"street-address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1475 2nd Avenue"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"dependent-job"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LdFetchReviews"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"profile-url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date-from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"reviews-limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
              </span><span class="s2">"sort-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">549612304</span><span class="w">
      </span><span class="p">}</span><span class="w">

    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"LdFetchReviews"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
           </span><span class="s2">"recommendations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
             </span><span class="p">{</span><span class="w">
               </span><span class="s2">"grade"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positive"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeremy Dayan"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-30"</span><span class="p">,</span><span class="w">
               </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nice place to have breakfast in. Relatively good prices and fast service."</span><span class="p">,</span><span class="w">
               </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0c64b06e4c8ddaa0c6be4ba88df17f7e13cd95a0"</span><span class="w">
             </span><span class="p">}</span><span class="w">
           </span><span class="p">],</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeremy Dayan"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-07-30"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Nice place to have breakfast in. Relatively good prices and fast service."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0c64b06e4c8ddaa0c6be4ba88df17f7e13cd95a0"</span><span class="w">
              </span><span class="p">},</span><span class="w">

              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alain Schmid"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Choose your Bagle and cream cheese from a broad range of different sets and ingredients."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92d26048a7e297ef8911c21e35479fd2cd267d83"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"David van der Loo"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-05-30"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Okay for morning breakfast take-away."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1d5abf2447d6d78b467fae216b630c4eef7b3eb5"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
                </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Riley Sherer"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-09-30"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You want a bagel? Okay, pick a bagel. Come on, I don't got all day. Yeah yeah the coffee's alright."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c88db1e509fbc2e9731f7946b84fdbfc4eb2f607"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"reviews-count"</span><span class="p">:</span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star-rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"profile-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=%22%5B%22Pick+A+Bagel%22%5D%22+%2210021%22&amp;gws_rd=cr&amp;gl=us"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"date-from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"reviews-limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
          </span><span class="s2">"sort-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parent-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">549612293</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">549612293</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Krista C."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-05-27"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"One of the worst bagels NYC has to offer.Now I don't consider myself a bagel snob but i'm used to having a Ess-A-Bagel and a Hot Jumbo Bagel around the corner.But now after moving I needed to find my new bagel place, I thought I'd give Pick-A-Bagel a try."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/pick-a-bagel-new-york-5?hrid=6ijWFhvccHDdiSj5MnX3yQ"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c0f1160d92b4d60bb6609b7b9d4e7be31013781e"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jeffrey C."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2008-03-04"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I don't know about others in the store but I tried from their \"make your own pasta\" menu and had the pesto sauce for the pasta. It was the worst pesto sauce I had in my life."</span><span class="p">,</span><span class="w">
                </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/pick-a-bagel-new-york-5?hrid=1ZIo0LYcFqmK7IJTMmw_bg"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b0223bea06d6fd8e907f41ec73cc792db538b0f9"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"reviews-count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star-rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.0"</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"payload"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"profile-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/pick-a-bagel-new-york-5"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"date-from"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
          </span><span class="s2">"reviews-limit"</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">
          </span><span class="s2">"sort-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"date"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"api-key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"parent-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">549612304</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Completed"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">549612304</span><span class="w">
      </span><span class="p">}</span><span class="w">

    </span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"statuses"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"Completed"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
    </span><span class="s2">"Failed"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Finished"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_BUSINESS_NAMES"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Business names specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid country specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_CITY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid city specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_POSTCODE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid postcode specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_LOCAL_DIRECTORY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid local directory specified"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_DATE_FROM"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid Date From. Date Format: Y-m-d or Y-m-d H:i:s"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_REVIEWS_LIMIT"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Reviews Limit should be positive number or 'all'"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This method finds profile url then fetches reviews using this URL.</p>

<p>Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/ld/fetch-reviews-by-business-data</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>business-names</td>
<td><span class="label label-required">Required</span> A newline (\n) separated list of possible business names to search for. For example: The Rose Pub Rose Pub The Rose.</td>
</tr>
<tr>
<td>city</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>local-directory</td>
<td><span class="label label-required">Required</span> See appendix below for possible options.</td>
</tr>
<tr>
<td>street-address</td>
<td></td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span> Only USA.</td>
</tr>
<tr>
<td>telephone</td>
<td>A valid telephone number. Providing this will improve the quality of results returned.</td>
</tr>
<tr>
<td>sort</td>
<td>&#39;rating&rsquo; or &#39;date&rsquo;. By default &#39;date&rsquo;.</td>
</tr>
<tr>
<td>reviews-limit</td>
<td>Positive number or &#39;all&rsquo;. By default 100.</td>
</tr>
<tr>
<td>date-from</td>
<td>Date Format: Y-m-d or Y-m-d H:i:s. By default not specified.</td>
</tr>
<tr>
<td>start-page</td>
<td>See <a href="#paging">paging</a> table below for details.</td>
</tr>
</tbody></table>

<h2 id="paging">Paging</h2>

<p>We support up to 500 reviews per request to a given directory. If you need to retrieve more than 500 reviews you can use the start-page parameter and submit multiple requests to pick up older reviews. For example with Google to fetch 1000 reviews you&rsquo;d need to make two requests:</p>

<ol>
<li>Without start-page (or with start-page=1) to fetch reviews 1 - 500.</li>
<li>With start-page=51 (Google returns 10 reviews per page) to fetch reviews 501 - 1000.</li>
</ol>

<h3 id="supported-directories">Supported Directories</h3>

<table><thead>
<tr>
<th>Directory</th>
<th>Number Reviews Per Page</th>
</tr>
</thead><tbody>
<tr>
<td>Google</td>
<td>10</td>
</tr>
</tbody></table>

          <h1 id="offsite-seo-&amp;-social-profiles">Offsite SEO &amp; Social Profiles</h1>

<h2 id="offsite-seo">Offsite SEO</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch offsite SEO information for a website address</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$profileUrls</span> <span class="k">as</span> <span class="nv">$profileUrl</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'/v4/seo/offsite'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">'batch-id'</span>        <span class="o">=&gt;</span> <span class="nv">$batchId</span><span class="p">,</span>
            <span class="s1">'website-url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.gramercytavern.com/'</span>
        <span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
            <span class="nb">printf</span><span class="p">(</span><span class="s1">'Added job with ID %d%s'</span><span class="p">,</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'job-id'</span><span class="p">],</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span><span class="o">.</span><span class="nx">PHP_EOL</span><span class="p">;</span>
        <span class="c1">// poll for results, in a real world example you might
</span>        <span class="c1">// want to do this in a separate process (such as via an
</span>        <span class="c1">// AJAX poll)
</span>        <span class="k">do</span> <span class="p">{</span>
            <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">);</span>
            <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// limit how often you poll
</span>        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$results</span><span class="p">[</span><span class="s1">'status'</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Stopped'</span><span class="p">,</span> <span class="s1">'Finished'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website-url"</span><span class="p">,</span> <span class="s">"http://le-bernardin.com"</span><span class="p">);</span>   

<span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/seo/offsite"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
        <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
        <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a background process, such as HangFire, or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">offsiteResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">offsiteResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">offsiteResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">offsiteResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">offsiteResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_BATCH_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Batch ID not found"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_WEBSITE_URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Website URL missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This API method returns offsite SEO information domain age, hosting location, number of pages indexed and authority. Authentication for this method is via API key only.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/seo/offsite</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>website-url</td>
<td><span class="label label-required">Required</span> URL of the business web site. Can be specified with or without http(s).</td>
</tr>
</tbody></table>

<h2 id="social-profiles">Social Profiles</h2>

<p><span class="label label-info">Batch Method</span></p>

<blockquote>
<p>Fetch details of the social profiles a business has</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">BrightLocal\Batches\V4</span> <span class="k">as</span> <span class="nx">BatchApi</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$batchApi</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">BatchApi</span><span class="p">(</span><span class="nv">$api</span><span class="p">);</span>
<span class="nv">$batchId</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">create</span><span class="p">();</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$batchId</span><span class="p">)</span> <span class="p">{</span>
    <span class="nb">printf</span><span class="p">(</span><span class="s1">'Created batch ID %d%s'</span><span class="p">,</span> <span class="nv">$batchId</span><span class="p">,</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$profileUrls</span> <span class="k">as</span> <span class="nv">$profileUrl</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'/v4/social/profiles'</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span>
            <span class="s1">'batch-id'</span>         <span class="o">=&gt;</span> <span class="nv">$batchId</span><span class="p">,</span>
            <span class="s1">'website-url'</span>      <span class="o">=&gt;</span> <span class="s1">'http://www.gramercytavern.com/'</span><span class="p">,</span>
            <span class="s1">'fetch-twitter'</span>    <span class="o">=&gt;</span> <span class="s1">'yes'</span><span class="p">,</span>
            <span class="s1">'fetch-facebook'</span>   <span class="o">=&gt;</span> <span class="s1">'yes'</span><span class="p">,</span>
            <span class="s1">'fetch-foursquare'</span> <span class="o">=&gt;</span> <span class="s1">'yes'</span><span class="p">,</span>
            <span class="s1">'business-names'</span>   <span class="o">=&gt;</span> <span class="s1">'["Gramercy Tavern"]'</span><span class="p">,</span>
            <span class="s1">'street-address'</span>   <span class="o">=&gt;</span> <span class="s1">'42 E 20th St'</span><span class="p">,</span>
            <span class="s1">'city'</span>             <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
            <span class="s1">'state-code'</span>       <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
            <span class="s1">'telephone'</span>        <span class="o">=&gt;</span> <span class="s1">'(212) 477-0777'</span><span class="p">,</span>
            <span class="s1">'postcode'</span>         <span class="o">=&gt;</span> <span class="s1">'10003'</span><span class="p">,</span>
            <span class="s1">'country'</span>          <span class="o">=&gt;</span> <span class="s1">'USA'</span>
        <span class="p">));</span>
        <span class="k">if</span> <span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">])</span> <span class="p">{</span>
            <span class="nb">printf</span><span class="p">(</span><span class="s1">'Added job with ID %d%s'</span><span class="p">,</span> <span class="nv">$result</span><span class="p">[</span><span class="s1">'job-id'</span><span class="p">],</span> <span class="nx">PHP_EOL</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">commit</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">))</span> <span class="p">{</span>
        <span class="k">echo</span> <span class="s1">'Committed batch successfully.'</span><span class="o">.</span><span class="nx">PHP_EOL</span><span class="p">;</span>
        <span class="c1">// poll for results, in a real world example you might
</span>        <span class="c1">// want to do this in a separate process (such as via an
</span>        <span class="c1">// AJAX poll)
</span>        <span class="k">do</span> <span class="p">{</span>
            <span class="nv">$results</span> <span class="o">=</span> <span class="nv">$batchApi</span><span class="o">-&gt;</span><span class="na">get_results</span><span class="p">(</span><span class="nv">$batchId</span><span class="p">);</span>
            <span class="nb">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span> <span class="c1">// limit how often you poll
</span>        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$results</span><span class="p">[</span><span class="s1">'status'</span><span class="p">],</span> <span class="k">array</span><span class="p">(</span><span class="s1">'Stopped'</span><span class="p">,</span> <span class="s1">'Finished'</span><span class="p">)));</span>
        <span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">Api</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">batchApi</span> <span class="n">batchRequest</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">batchApi</span><span class="p">(</span><span class="n">Api</span><span class="p">);</span>

<span class="c1">// Create a new batch
</span><span class="kt">int</span> <span class="n">batchId</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Create</span><span class="p">();</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"batch-id"</span><span class="p">,</span> <span class="n">batchId</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website-url"</span><span class="p">,</span> <span class="s">"http://le-bernardin.com"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fetch-twitter"</span><span class="p">,</span> <span class="s">"yes"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fetch-facebook"</span><span class="p">,</span> <span class="s">"yes"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"fetch-foursqaure"</span><span class="p">,</span> <span class="s">"yes"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-names"</span><span class="p">,</span> <span class="s">"['Le Bernardin', 'Bernardin Cafe']"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"street-addess"</span><span class="p">,</span> <span class="s">"155 West 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"state-code"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">jobId</span> <span class="p">=</span> <span class="n">Api</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/social/profiles"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ResponseStatus</span> <span class="p">==</span> <span class="n">ResponseStatus</span><span class="p">.</span><span class="n">Completed</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">dynamic</span> <span class="n">job</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(!</span><span class="n">job</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error adding job"</span><span class="p">;</span>
        <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span> <span class="p">+</span> <span class="n">job</span><span class="p">.</span><span class="n">errors</span><span class="p">,</span> <span class="n">job</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
        <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">jobId</span><span class="p">.</span><span class="n">ErrorMessage</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Commit the batch, resturns true or false
</span><span class="kt">bool</span> <span class="n">commit</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">Commit</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>

<span class="c1">// Poll for results. In a real world example you should do this in a background process, such as HangFire, or use the Task Parallel Library to create a BackGroundWorker Task.
// It is bad practice to use Thread.Sleep(). This is only for the example and will actually freeze the UI until the while loop is finished. 
</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
<span class="n">dynamic</span> <span class="n">socialResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="n">socialResults</span><span class="p">.</span><span class="n">success</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">while</span> <span class="p">(</span><span class="n">socialResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Stopped"</span> <span class="p">||</span> <span class="n">socialResults</span><span class="p">.</span><span class="n">status</span> <span class="p">!=</span> <span class="s">"Finished"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">Thread</span><span class="p">.</span><span class="nf">Sleep</span><span class="p">(</span><span class="m">10000</span><span class="p">);</span>
        <span class="n">results</span> <span class="p">=</span> <span class="n">batchRequest</span><span class="p">.</span><span class="nf">GetResults</span><span class="p">(</span><span class="n">batchId</span><span class="p">);</span>
        <span class="n">socialResults</span> <span class="p">=</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">DeserializeObject</span><span class="p">(</span><span class="n">results</span><span class="p">.</span><span class="n">Content</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">results</span><span class="p">;</span>
<span class="p">}</span>
<span class="k">else</span>
<span class="p">{</span>
    <span class="k">const</span> <span class="kt">string</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Error Retrieving batch results "</span><span class="p">;</span>
    <span class="n">var</span> <span class="n">batchException</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">ApplicationException</span><span class="p">(</span><span class="n">message</span><span class="p">,</span> <span class="n">results</span><span class="p">.</span><span class="n">ErrorException</span><span class="p">);</span>
    <span class="k">throw</span> <span class="n">batchException</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"job-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">318</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_WEBSITE_URL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Website URL missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_CITY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_BUSINESS_NAMES"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Business name(s) missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure (405 Method Not Allowed)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_METHOD"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid method specified. Only POST method is available"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This API method returns details of the social profiles a business has on Twitter, Facebook and Foursquare. Authentication for this method is via API key only.</p>

<p>Please Note: Address and telephone fields are mostly optional but the more information you provide the more likely that we&rsquo;ll return correct matches for your business.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/social/profiles</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>batch-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>website-url</td>
<td><span class="label label-required">Required</span> URL of the business website. Can be specified with or without http(s).</td>
</tr>
<tr>
<td>fetch-twitter</td>
<td>yes or no. Defaults to no. Fetch Twitter profile for the business if available.</td>
</tr>
<tr>
<td>fetch-facebook</td>
<td>yes or no. Defaults to no. Fetch Facebook profile for the business if available.</td>
</tr>
<tr>
<td>fetch-foursquare</td>
<td>yes or no. Defaults to no. Fetch Foursquare profile for the business if available.</td>
</tr>
<tr>
<td>business-names</td>
<td><span class="label label-required">Required</span> A JSON encoded string of business names, e.g. [&ldquo;Delmonico&rsquo;s&rdquo;,&ldquo;Delmonico&rsquo;s Restaurant&rdquo;]</td>
</tr>
<tr>
<td>street-address</td>
<td></td>
</tr>
<tr>
<td>city</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>state-code</td>
<td><span class="label label-required">Required</span> (USA only). A valid two letter state code, e.g. CA.</td>
</tr>
<tr>
<td>telephone</td>
<td></td>
</tr>
<tr>
<td>postcode</td>
<td>A valid ZIP or postal code.</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span> Valid 3 letter ISO code. e.g, USA, GBR, CAN.</td>
</tr>
<tr>
<td>follow-mode</td>
<td>This determines how our crawler extracts information from your website. We crawl your website to help us identify Twitter, Facebook and Foursquare profile information.<ol><li>Only follow links that lead to the same root domain (e.g. foo.brightlocal.com and bar.brightlocal.com).</li><li>Only follow links that lead to the same domain (e.g. www.brightlocal.com). This is the default.</li><li>Only follow links that lead to pages under the same path as that specified in website-url.</li></ul></td>
</tr>
</tbody></table>

          <h1 id="clients">Clients</h1>

<h2 id="add-client">Add Client</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Creating a Client</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/clients'</span><span class="p">,</span> <span class="p">[</span>       
    <span class="s1">'name'</span>                 <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>               
    <span class="s1">'company-url'</span>          <span class="o">=&gt;</span> <span class="s1">'le-bernardin.com'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'company-url=le-bernardin.com'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/clients
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"company-url"</span><span class="p">,</span> <span class="s">"http://www.le-bernardin.com"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/clients"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Adds a new client and associates it with your account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/clients</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>name</td>
<td><span class="label label-required">Required</span> 50 characters max.</td>
</tr>
<tr>
<td>company-url</td>
<td><span class="label label-required">Required</span> 150 characters max</td>
</tr>
<tr>
<td>reference-number</td>
<td>An arbitrary unique reference you can use to identify a client. This may correspond to a unique value used within your system and can be useful when importing or exporting data. 50 characters max.</td>
</tr>
</tbody></table>

<h2 id="update-client">Update Client</h2>

<p><span class="label label-info">Account Method</span></p>

<p>Update an existing client. Only supply values you want to update. The rest will be left unchanged.</p>

<blockquote>
<p>Update a Client</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/clients/&lt;client_id&gt;'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'name'</span>                 <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>               
    <span class="s1">'company-url'</span>          <span class="o">=&gt;</span> <span class="s1">'le-bernardin.com'</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'company-url=le-bernardin.com'</span> <span class="se">\</span>
   https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/clients/&lt;client_id&gt;
</code></pre>

<h3 id="update-a-client">Update a client</h3>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"Le Bernardin Cafe"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/clients/&lt;client_id&gt;"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/clients/&lt;client_id&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>name</td>
<td>50 characters max</td>
</tr>
<tr>
<td>company-url</td>
<td>150 characters max</td>
</tr>
<tr>
<td>reference-number</td>
<td>An arbitrary unique reference you can use to identify a client. This may correspond to a unique value used within your system and can be useful when importing or exporting data. 50 characters max.</td>
</tr>
</tbody></table>

<h2 id="delete-client">Delete Client</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Delete a Client</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$clientId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/clients/'</span> <span class="o">.</span> <span class="nv">$clientId</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully deleted client.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">client_id</span> <span class="p">=</span> <span class="m">36447</span><span class="p">;</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/clients/"</span> <span class="p">+</span> <span class="n">client_id</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Delete an existing client. If there are reports associated with this client then the association is removed but the reports are not deleted. Warning: This action cannot be undone.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/clients/&lt;client_id&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>client-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="get-client">Get Client</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get a Client</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="nv">$clientId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$client</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/clients/'</span><span class="o">.</span> <span class="nv">$clientId</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$client</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">clientId</span> <span class="p">=</span> <span class="m">36447</span><span class="p">;</span>
<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/clients/"</span> <span class="p">+</span> <span class="n">clientId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"client"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"client-id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BrightLocal"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client-reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BrightLocal-1"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get extended details for a specific client.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/clients/&lt;clientId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>client-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="search-clients">Search Clients</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Search for a client</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/clients/search'</span><span class="p">,</span> <span class="p">[</span>   
    <span class="s1">'q'</span> <span class="o">=&gt;</span> <span class="s1">'BrightLocal'</span>    
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'q=My+Sample+Query'</span> <span class="se">\ </span>  
  https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/clients/search
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"q"</span><span class="p">,</span> <span class="s">"BrightLocal"</span><span class="p">);</span>      

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/clients/search"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"clients"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"client-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"company-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BrightLocal"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client-reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BrightLocal-1"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"client-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"company-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BrightLocal 2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"client"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client-reference"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BrightLocal-2"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Search for clients matching a specified search string.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/clients/search</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>q</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

          <h1 id="locations">Locations</h1>

<h2 id="add-location">Add Location</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Add Location</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/locations/'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'name'</span>                 <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'url'</span>                  <span class="o">=&gt;</span> <span class="s1">'le-bernardin.com'</span><span class="p">,</span>
    <span class="s1">'business-category-id'</span> <span class="o">=&gt;</span>  <span class="mi">605</span><span class="p">,</span>
    <span class="s1">'country'</span>              <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span> <span class="c1">// 3 letter iso code
</span>    <span class="s1">'address1'</span>             <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>             <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'region'</span>               <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span> <span class="c1">// State or Region
</span>    <span class="s1">'city'</span>                 <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>             <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
    <span class="s1">'telephone'</span>            <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'url=le-bernardin.com'</span> <span class="se">\</span>
 -d <span class="s1">'business-category-id=605'</span> <span class="se">\ </span>
 -d <span class="s1">'country=USA'</span> <span class="se">\</span>
 -d <span class="s1">'address1=155 West 51st Street'</span> <span class="se">\</span>
 -d <span class="s1">'address1='</span> <span class="se">\</span>
 -d <span class="s1">'region=NY'</span> <span class="se">\</span>
 -d <span class="s1">'city=New York'</span> <span class="se">\</span>
 -d <span class="s1">'postcode=10019'</span> <span class="se">\</span>
 -d <span class="s1">'telephone=+1 212-554-1515'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/locations/
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"url"</span><span class="p">,</span> <span class="s">"http://le-bernardin.com"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-category-id"</span><span class="p">,</span> <span class="s">"605"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span> <span class="c1">// 3 Letter iso code
</span><span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address1"</span><span class="p">,</span> <span class="s">"155 Weest 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address2"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"region"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span> <span class="c1">// State or Region
</span><span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/locations/"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Adds a new location and associates it with your account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/locations/</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>name</td>
<td><span class="label label-required">Required</span> 250 characters max.</td>
</tr>
<tr>
<td>client-id</td>
<td></td>
</tr>
<tr>
<td>url</td>
<td>256 characters max</td>
</tr>
<tr>
<td>business-category-id</td>
<td><span class="label label-required">Required</span> <a href="#business-categories">See here for a full list of valid business codes.</a></td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span> ISO 3 country code.</td>
</tr>
<tr>
<td>address1</td>
<td><span class="label label-required">Required</span> 80 characters max</td>
</tr>
<tr>
<td>address2</td>
<td>80 characters max</td>
</tr>
<tr>
<td>region</td>
<td><span class="label label-required">Required</span> 100 characters max</td>
</tr>
<tr>
<td>city</td>
<td><span class="label label-required">Required</span> 100 characters max</td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span> 80 characters max</td>
</tr>
<tr>
<td>telephone</td>
<td><span class="label label-required">Required</span> 20 characters max</td>
</tr>
<tr>
<td>location-reference</td>
<td>An arbitrary unique reference you can use to identify a location. This may correspond to a unique value used within your system and can be useful when importing or exporting data. 50 characters max.</td>
</tr>
<tr>
<td>contact-first-name</td>
<td>20 characters max</td>
</tr>
<tr>
<td>contact-last-name</td>
<td>20 characters max</td>
</tr>
<tr>
<td>contact-mobile</td>
<td>20 characters max</td>
</tr>
<tr>
<td>contact-telephone</td>
<td>20 characters max</td>
</tr>
<tr>
<td>contact-email</td>
<td>100 characters max</td>
</tr>
<tr>
<td>contact-fax</td>
<td>20 characters max</td>
</tr>
<tr>
<td>number-of-employees</td>
<td>10 characters max</td>
</tr>
<tr>
<td>year-of-formation</td>
<td>20 characters max</td>
</tr>
<tr>
<td>extra-business-categories-ids</td>
<td>Json encoded array. For example, [1234,5678,9012]. <a href="#business-categories">See here for a full list of valid business category IDs.</a></td>
</tr>
<tr>
<td>working-hours</td>
<td>Json encoded array. Available array keys: mon_start, mon_end, tue_start, tue_end, wed_start, wed_end, thu_start, thu_end, fri_start, fri_end, sat_start, sat_end, sun_start, sun_end. Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>payment-methods</td>
<td>Json encoded array. Available values: cash, visa, mastercard, amex, cheque, invoice, insurance, atm, travelers, financing, paypal, discover</td>
</tr>
<tr>
<td>short-description</td>
<td>200 characters max</td>
</tr>
<tr>
<td>long-description</td>
<td>500 characters max</td>
</tr>
<tr>
<td>services-of-products</td>
<td>Json encoded array</td>
</tr>
</tbody></table>

<h2 id="update-location">Update Location</h2>

<p><span class="label label-info">Account Method</span></p>

<p>Update an existing location. Only supply values you want to update. The rest will be left unchanged.</p>

<blockquote>
<p>Update Location</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$locationId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/locations/'</span> <span class="o">.</span><span class="nv">$locationId</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'name'</span>                          <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'url'</span>                           <span class="o">=&gt;</span> <span class="s1">'le-bernardin.com'</span><span class="p">,</span>
    <span class="s1">'business-category-id'</span>          <span class="o">=&gt;</span>  <span class="mi">605</span><span class="p">,</span>
    <span class="s1">'country'</span>                       <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span> <span class="c1">// 3 letter iso code
</span>    <span class="s1">'address1'</span>                      <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>                      <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'region'</span>                        <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span> <span class="c1">// State or Region
</span>    <span class="s1">'city'</span>                          <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>                      <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
    <span class="s1">'telephone'</span>                     <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'url=le-bernardin.com'</span> <span class="se">\</span>
 -d <span class="s1">'business-category-id=605'</span> <span class="se">\ </span>
 -d <span class="s1">'country=USA'</span> <span class="se">\</span>
 -d <span class="s1">'address1=155 West 51st Street'</span> <span class="se">\</span>
 -d <span class="s1">'address1='</span> <span class="se">\</span>
 -d <span class="s1">'region=NY'</span> <span class="se">\</span>
 -d <span class="s1">'city=New York'</span> <span class="se">\</span>
 -d <span class="s1">'postcode=10019'</span> <span class="se">\</span>
 -d <span class="s1">'telephone=+1 212-554-1515'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/locations/1
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">locationId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"url"</span><span class="p">,</span> <span class="s">"http://le-bernardin.com"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-category-id"</span><span class="p">,</span> <span class="s">"605"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span> <span class="c1">// 3 Letter iso code
</span><span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address1"</span><span class="p">,</span> <span class="s">"155 Weest 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address2"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"region"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span> <span class="c1">// State or Region
</span><span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/locations/"</span> <span class="p">+</span> <span class="n">locationId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/locations/&lt;locationId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>name</td>
<td>250 characters max.</td>
</tr>
<tr>
<td>client-id</td>
<td></td>
</tr>
<tr>
<td>url</td>
<td>256 characters max</td>
</tr>
<tr>
<td>business-category-id</td>
<td><a href="#business-categories">See here for a full list of valid business codes.</a></td>
</tr>
<tr>
<td>country</td>
<td>ISO 3 country code.</td>
</tr>
<tr>
<td>address1</td>
<td>80 characters max</td>
</tr>
<tr>
<td>address2</td>
<td>80 characters max</td>
</tr>
<tr>
<td>region</td>
<td>100 characters max</td>
</tr>
<tr>
<td>city</td>
<td>100 characters max</td>
</tr>
<tr>
<td>postcode</td>
<td>80 characters max</td>
</tr>
<tr>
<td>telephone</td>
<td>20 characters max</td>
</tr>
<tr>
<td>location-reference</td>
<td>An arbitrary unique reference you can use to identify a location. This may correspond to a unique value used within your system and can be useful when importing or exporting data. 50 characters max.</td>
</tr>
<tr>
<td>contact-first-name</td>
<td>20 characters max</td>
</tr>
<tr>
<td>contact-last-name</td>
<td>20 characters max</td>
</tr>
<tr>
<td>contact-mobile</td>
<td>20 characters max</td>
</tr>
<tr>
<td>contact-telephone</td>
<td>20 characters max</td>
</tr>
<tr>
<td>contact-email</td>
<td>100 characters max</td>
</tr>
<tr>
<td>contact-fax</td>
<td>20 characters max</td>
</tr>
<tr>
<td>number-of-employees</td>
<td>10 characters max</td>
</tr>
<tr>
<td>year-of-formation</td>
<td>20 characters max</td>
</tr>
<tr>
<td>extra-business-categories-ids</td>
<td>Json encoded array. For example, [1234,5678,9012]. <a href="#business-categories">See here for a full list of valid business category IDs.</a></td>
</tr>
<tr>
<td>working-hours</td>
<td>Json encoded array. Available array keys: mon_start, mon_end, tue_start, tue_end, wed_start, wed_end, thu_start, thu_end, fri_start, fri_end, sat_start, sat_end, sun_start, sun_end. Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>payment-methods</td>
<td>Json encoded array. Available values: cash, visa, mastercard, amex, cheque, invoice, insurance, atm, travelers, financing, paypal, discover</td>
</tr>
<tr>
<td>short-description</td>
<td>200 characters max</td>
</tr>
<tr>
<td>long-description</td>
<td>500 characters max</td>
</tr>
<tr>
<td>services-of-products</td>
<td>Json encoded array</td>
</tr>
</tbody></table>

<h2 id="delete-location">Delete Location</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Delete a Location</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$locationId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/locations/'</span> <span class="o">.</span> <span class="nv">$locationId</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully deleted location.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">locationId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/locations/"</span> <span class="p">+</span> <span class="n">locationId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Delete an existing location. If there are reports associated with this location then the association is removed but the reports are not deleted. Warning: This action cannot be undone.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/locations/&lt;locationId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="get-location">Get Location</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get location</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$locationId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">INSERT_API_KEY</span><span class="o">&gt;</span><span class="s1">', '</span><span class="o">&lt;</span><span class="nx">INSERT_API_SECRET</span><span class="o">&gt;</span><span class="p">);</span>
<span class="nv">$location</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/locations/'</span> <span class="o">.</span> <span class="nv">$locationId</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$location</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">locationId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/locations/"</span> <span class="p">+</span> <span class="n">locationId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
   </span><span class="s2">"success"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
   </span><span class="s2">"location"</span><span class="p">:{</span><span class="w">
        </span><span class="s2">"location-name"</span><span class="p">:</span><span class="s2">"BrightLocal HQ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"client-id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location-url"</span><span class="p">:</span><span class="s2">"https://www.brightlocal.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"business-category-id"</span><span class="p">:</span><span class="mi">650</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="s2">"GBR"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address1"</span><span class="p">:</span><span class="s2">"The Old Candlemakers"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address2"</span><span class="p">:</span><span class="s2">"West St, Lewes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"region"</span><span class="p">:</span><span class="s2">"East Sussex"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"town"</span><span class="p">:</span><span class="s2">"Lewes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postcode"</span><span class="p">:</span><span class="s2">"BN7 2NZ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telephone"</span><span class="p">:</span><span class="s2">"80500 050 0505"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location-reference"</span><span class="p">:</span><span class="s2">"BL1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contact-first-name"</span><span class="p">:</span><span class="s2">"first name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contact-last-name"</span><span class="p">:</span><span class="s2">"last name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contact-telephone"</span><span class="p">:</span><span class="s2">"+44 1273 917 374"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contact-fax"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contact-mobile"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"num-of-employees"</span><span class="p">:</span><span class="s2">"50"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"year-of-formation"</span><span class="p">:</span><span class="s2">"2009"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"extra-business_categories"</span><span class="p">:[</span><span class="w">
          </span><span class="s2">"marketing"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"extra-business-categories-ids"</span><span class="p">:[</span><span class="w">
            </span><span class="mi">503</span><span class="p">,</span><span class="w">
            </span><span class="mi">2824</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"working-hours"</span><span class="p">:{</span><span class="w">
            </span><span class="s2">"mon_start"</span><span class="p">:</span><span class="s2">"9 a.m."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"mon_end"</span><span class="p">:</span><span class="s2">"7 p.m."</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"payment-methods-accepted"</span><span class="p">:[</span><span class="w">
            </span><span class="s2">"visa"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"paypal"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"short-desc"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"long-desc"</span><span class="p">:</span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"services-or-products"</span><span class="p">:[</span><span class="w">
            </span><span class="s2">"analytics"</span><span class="w">
        </span><span class="p">]</span><span class="w">
   </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get extended details for a specific location.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/locations/&lt;locationId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="search-locations">Search Locations</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Search for a location</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">call</span><span class="p">(</span><span class="s1">'/v1/clients-and-locations/locations/search'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'q'</span> <span class="o">=&gt;</span> <span class="s1">'BrightLocal'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'q=My+Sample+Query'</span> <span class="se">\ </span>  
  https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/locations/search/
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"q"</span><span class="p">,</span> <span class="s">"BrightLocal"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v1/clients-and-locations/locations/search"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"locations"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
        </span><span class="s2">"location-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location-name"</span><span class="p">:</span><span class="s2">"BrightLocal HQ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client-id"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location-reference"</span><span class="p">:</span><span class="s2">"BL1"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
            </span><span class="s2">"location-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location-name"</span><span class="p">:</span><span class="s2">"Talking Elephant"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client-id"</span><span class="p">:</span><span class="mi">12</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location-reference"</span><span class="p">:</span><span class="s2">"TE12"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Search for locations matching a specified search string. The search uses a number of fields including location name, contact firstname, lastname and email address.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v1/clients-and-locations/locations/search</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>q</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>client-id</td>
<td>Client Id</td>
</tr>
</tbody></table>

          <h1 id="rank-checker">Rank Checker</h1>

<h2 id="add-report">Add Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Add Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/lsrc/add'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'name'</span>              <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'schedule'</span>          <span class="o">=&gt;</span> <span class="s1">'Adhoc'</span><span class="p">,</span>
    <span class="s1">'search-terms'</span>      <span class="o">=&gt;</span> <span class="s2">"Restaurant</span><span class="se">\n</span><span class="s2">food+nyc</span><span class="se">\n</span><span class="s2">delivery+midtown+manhattan"</span><span class="p">,</span>
    <span class="s1">'website-addresses'</span> <span class="o">=&gt;</span> <span class="s1">'["le-bernardin.com","le-bernardin2.com"]'</span><span class="p">,</span>
    <span class="s1">'search-engines'</span>    <span class="o">=&gt;</span> <span class="s1">'google,google-mobile,google-local,yahoo,yahoo-local,bing,bing-local'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'schedule=Adhoc'</span> <span class="se">\</span>
 -d <span class="nv">$'</span>search-terms<span class="o">=</span>Restaurant<span class="se">\n</span>food+nyc<span class="se">\n</span>delivery+midtown+manhattan<span class="s1">' \ 
 -d '</span>website-addresses<span class="o">=[</span><span class="s2">"le-bernardin.com"</span>,<span class="s2">"le-bernardin2.com"</span><span class="o">]</span><span class="s1">' \
 -d '</span>search-engines<span class="o">=</span>google,google-mobile,google-local,yahoo,yahoo-local,bing,bing-local<span class="s1">' \ 
 https://tools.brightlocal.com/seo-tools/api/v2/lsrc/add
</span></code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"schedule"</span><span class="p">,</span> <span class="s">"Adhoc"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-terms"</span><span class="p">,</span> <span class="s">"Restaurant\nfood+nyc\ndelivery+midtown+manhattan"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website-addresses"</span><span class="p">,</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="s">"['le-bernardin.com', 'le-bernardin2.com']"</span><span class="p">));</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-engines"</span><span class="p">,</span> <span class="s">"google,google-mobile,google-local,yahoo,yahoo-local,bing,bing-local"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v2/lsrc/add"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report Added"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"campaign-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9907"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credits"</span><span class="p">:</span><span class="w"> </span><span class="mi">298</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/lsrc/add</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>schedule</td>
<td>Adhoc, Weekly or Monthly - defaults to Adhoc</td>
</tr>
<tr>
<td>day-of-week</td>
<td>Relevant to Weekly schedule only. Monday, Tuesday, Wednesday, Thursday, Friday, Saturday or Sunday. Defaults to Tuesday.</td>
</tr>
<tr>
<td>day-of-month</td>
<td>One of 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, -1 (last day of month). Defaults to 1</td>
</tr>
<tr>
<td>location-id</td>
<td></td>
</tr>
<tr>
<td>white-label-profile-id</td>
<td>(branding-profile-id is also supported but deprecated)</td>
</tr>
<tr>
<td>tags</td>
<td>Comma separated list of tags</td>
</tr>
<tr>
<td>search-terms</td>
<td><span class="label label-required">Required</span> Newline (\n) separated list of search terms.</td>
</tr>
<tr>
<td>website-addresses</td>
<td>Supply one or more website addresses (max 10) as a JSON string. For example, [test.com,test2.com].</td>
</tr>
<tr>
<td>website-address</td>
<td>(supported but deprecated)</td>
</tr>
<tr>
<td>website-address-2</td>
<td>(supported but deprecated)</td>
</tr>
<tr>
<td>website-address-3</td>
<td>(supported but deprecated)</td>
</tr>
<tr>
<td>country</td>
<td>One of USA, GBR, AUS, CAN:EN, CAN:FR. Defaults to USA.</td>
</tr>
<tr>
<td>google-location</td>
<td>Specify a location to perform search from. When set search keywords do not need to include a location.</td>
</tr>
<tr>
<td>bing-location</td>
<td>Specify a location to perform search from. When set search keywords do not need to include a location.</td>
</tr>
<tr>
<td>business-names</td>
<td>Newline (\n) separated list of business names</td>
</tr>
<tr>
<td>postcode</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>telephone</td>
<td></td>
</tr>
<tr>
<td>search-engines</td>
<td>Comma separated list of search engines. Options are google, google-mobile, google-local, yahoo, yahoo-local, bing, bing-local. Defaults to all search engines.</td>
</tr>
<tr>
<td>include-local-directory-results</td>
<td>Yes or No. Defaults to Yes.</td>
</tr>
<tr>
<td>notify</td>
<td>Yes or No. Defaults to No.</td>
</tr>
<tr>
<td>email-addresses</td>
<td>Newline (\n) separated list of email addresses</td>
</tr>
<tr>
<td>is-public</td>
<td>Publish reports on a white label URL. Yes or No. Defaults to No.</td>
</tr>
</tbody></table>

<h2 id="update-report">Update Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Update Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/lsrc/update'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign-id'</span>       <span class="o">=&gt;</span> <span class="mi">9907</span><span class="p">,</span>
    <span class="s1">'name'</span>              <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'schedule'</span>          <span class="o">=&gt;</span> <span class="s1">'Adhoc'</span><span class="p">,</span>
    <span class="s1">'search-terms'</span>      <span class="o">=&gt;</span> <span class="s2">"Restaurant</span><span class="se">\n</span><span class="s2">food+nyc</span><span class="se">\n</span><span class="s2">delivery+midtown+manhattan"</span><span class="p">,</span>
    <span class="s1">'website-addresses'</span> <span class="o">=&gt;</span> <span class="s1">'["le-bernardin.com","le-bernardin2.com"]'</span><span class="p">,</span>
    <span class="s1">'search-engines'</span>    <span class="o">=&gt;</span> <span class="s1">'google,google-mobile,google-local,yahoo,yahoo-local,bing,bing-local'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'campaign-id=9907'</span> <span class="se">\</span>
 -d <span class="s1">'name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'schedule=Adhoc'</span> <span class="se">\</span>
 -d <span class="nv">$'</span>search-terms<span class="o">=</span>Restaurant<span class="se">\n</span>food+nyc<span class="se">\n</span>delivery+midtown+manhattan<span class="s1">' \ 
 -d '</span>website-addresses<span class="o">=[</span><span class="s2">"le-bernardin.com"</span>,<span class="s2">"le-bernardin2.com"</span><span class="o">]</span><span class="s1">' \
 -d '</span>search-engines<span class="o">=</span>google,google-mobile,google-local,yahoo,yahoo-local,bing,bing-local<span class="s1">' \ 
 https://tools.brightlocal.com/seo-tools/api/v2/lsrc/update
</span></code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign-id"</span><span class="p">,</span> <span class="s">"9907"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"schedule"</span><span class="p">,</span> <span class="s">"Adhoc"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-terms"</span><span class="p">,</span> <span class="s">"Restaurant\nfood+nyc\ndelivery+midtown+manhattan"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website-addresses"</span><span class="p">,</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="s">"['le-bernardin.com', 'le-bernardin2.com']"</span><span class="p">));</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-engines"</span><span class="p">,</span> <span class="s">"google,google-mobile,google-local,yahoo,yahoo-local,bing, bing-local"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v2/lsrc/update"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report Updated"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"campaign-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">9907</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Change report settings such as name, search terms, country, website URL, schedule etc. Only specify the fields you want to change.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/lsrc/update</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>name</td>
<td></td>
</tr>
<tr>
<td>schedule</td>
<td>Adhoc, Weekly or Monthly</td>
</tr>
<tr>
<td>day-of-week</td>
<td>Relevant to Weekly schedule only. Monday, Tuesday, Wednesday, Thursday, Friday, Saturday or Sunday.</td>
</tr>
<tr>
<td>day-of-month</td>
<td>One of 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, -1 (last day of month).</td>
</tr>
<tr>
<td>location-id</td>
<td></td>
</tr>
<tr>
<td>white-label-profile-id</td>
<td>(branding-profile-id is also supported but deprecated)</td>
</tr>
<tr>
<td>tags</td>
<td>Comma separated list of tags</td>
</tr>
<tr>
<td>search-terms</td>
<td>Newline (\n) separated list of search terms</td>
</tr>
<tr>
<td>website-addresses</td>
<td>Supply one or more website addresses (max 10) as a JSON string. For example, [test.com,test2.com].</td>
</tr>
<tr>
<td>website-address</td>
<td>(supported but deprecated)</td>
</tr>
<tr>
<td>website-address-2</td>
<td>(supported but deprecated)</td>
</tr>
<tr>
<td>website-address-3</td>
<td>(supported but deprecated)</td>
</tr>
<tr>
<td>country</td>
<td>One of USA, GBR, AUS, CAN:EN, CAN:FR.</td>
</tr>
<tr>
<td>google-location</td>
<td>Specify a location to perform search from. When set search keywords do not need to include a location.</td>
</tr>
<tr>
<td>bing-location</td>
<td>Specify a location to perform search from. When set search keywords do not need to include a location.</td>
</tr>
<tr>
<td>business-names</td>
<td>Newline (\n) separated list of business names</td>
</tr>
<tr>
<td>postcode</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>telephone</td>
<td></td>
</tr>
<tr>
<td>search-engines</td>
<td>Comma separated list of search engines. Options are google, google-mobile, google-local, yahoo, yahoo-local, bing, bing-local.</td>
</tr>
<tr>
<td>include-local-directory-results</td>
<td>Yes or No</td>
</tr>
<tr>
<td>notify</td>
<td>Yes or No</td>
</tr>
<tr>
<td>email-addresses</td>
<td>Newline (\n) separated list of email addresses</td>
</tr>
<tr>
<td>is-public</td>
<td>Publish reports on a white label URL. Yes or No.</td>
</tr>
</tbody></table>

<h2 id="delete-report">Delete Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Delete Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'/v2/lsrc/delete'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign-id'</span> <span class="o">=&gt;</span> <span class="mi">9907</span>
<span class="p">]);</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$success</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully deleted report.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign-id"</span><span class="p">,</span> <span class="s">"9907"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="s">"/v2/lsrc/delete"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report Deleted"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Deletes a report and all history and ranking data associated with that report. Warning: This action cannot be undone.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/lsrc/delete</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="get-all-reports">Get All Reports</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get All Reports</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'v2/lsrc/get-all'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v2/lsrc/get-all
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/lsrc/get-all"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Thursday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"day_of_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"day_of_month"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 3"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"day_of_month"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns basic details about all reports associated with your account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/lsrc/get-all</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location-id</td>
<td></td>
</tr>
</tbody></table>

<h2 id="get-report">Get Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Single Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/lsrc/get'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign-id'</span> <span class="o">=&gt;</span> <span class="mi">50</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'campaign-id=50'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v2/lsrc/get
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign-id"</span><span class="p">,</span> <span class="s">"50"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/lsrc/get"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"result"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
            </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"white_label_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Pub"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wednesday"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"day_of_month"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search_terms"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
                </span><span class="s2">"pub fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pub in fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"london pub"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pub putney"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"beer garden in fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"gastro pub fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pubs in fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fulham pubs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"nice pub fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"good pub fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"nice pubs fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"good pubs fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"best pubs fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"excellent pubs fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lovely fulham pub"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"lovely fulham pubs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fulham lovely pubs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"close pub fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"fulham with pubs"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pubs around fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pubs fulham broadway"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pub fulham broadway"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"ppc_search_terms"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"lookup_ppc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"website-addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"http://www.testpub.com/"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"website_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.testpub.com/"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"website_address_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"website_address_3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBR"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"google_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"bing_location"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"business_names"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
                </span><span class="s2">"Test Pub"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEST TEST"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456789"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search_engines"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
                </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"google-local"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"yahoo-local"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bing"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"bing-local"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"include_local_directory_results"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email_addresses"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@testpub.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2011-04-15"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_processed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-18"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"currently_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"red_flag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_public"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"public_key"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"tags"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
                </span><span class="s2">"fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"london"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pub"</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns information about the specified report such as its name, search terms, country, website URL, schedule etc. You can also use this method to find out if a report is currently running (currently_running = Yes) or if the latest run failed (red_flag = Yes).</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/lsrc/get</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="run-report">Run Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Run Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/lsrc/run'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign-id'</span> <span class="o">=&gt;</span> <span class="mi">50</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'campaign-id=50'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v2/lsrc/run
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign-id"</span><span class="p">,</span> <span class="s">"50"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v2/lsrc/run"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report Run"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"campaign-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">
        </span><span class="s2">"credits"</span><span class="p">:</span><span class="w"> </span><span class="mi">298</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Runs the specified report if your account has sufficient monthly adhoc run credits.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/lsrc/run</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="get-report-history">Get Report History</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Report History</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/lsrc/history/get'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign-id'</span> <span class="o">=&gt;</span> <span class="mi">50</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'campaign-id=50'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v2/lsrc/history/get
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign-id"</span><span class="p">,</span> <span class="s">"50"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/lsrc/history/get"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"campaign_history_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25554"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"history_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"generation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-18 13:42:32"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"campaign_history_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25499"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"history_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"generation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-18 11:29:50"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"campaign_history_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25439"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"history_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Scheduled"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"generation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-07-18 11:17:48"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns the campaign history IDs associated with all report runs for the specified report (adhoc or scheduled). These IDs can be passed to the &ldquo;Get Report Results&rdquo; method to return report URLs and actual ranking data.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/lsrc/history/get</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="get-report-results">Get Report Results</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Report Results</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/lsrc/results/get'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign-id'</span> <span class="o">=&gt;</span> <span class="mi">9636</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'campaign-id=9636'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v2/lsrc/results/get
</code></pre>

<h3 id="get-report-results">Get Report Results</h3>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign-id"</span><span class="p">,</span> <span class="s">"9636"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/lsrc/results/get"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"campaign_details"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9636"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"white_label_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alaska Bar Association"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adhoc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monday"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"day_of_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"search_terms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"Alaska Bar Association"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"ppc_search_terms"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"lookup_ppc"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website_addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"https://www.alaskabar.org/"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"google_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Alaska"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"bing_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"previous_bing_location"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"business_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">""</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"search_engines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"google-local"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"yahoo-local"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"bing"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"bing-local"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"include_local_directory_results"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_addresses"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@testpub.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-01-18"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_processed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"currently_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Enabled"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"red_flag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_public"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"show_advanced_settings"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_batch_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2444"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tools.brightlocal.com/seo-tools/admin/lsrc/reports/interactive/9636"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tools.brightlocal.com/seo-tools/admin/lsrc/reports/pdf/9636.pdf"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"csv_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tools.brightlocal.com/seo-tools/admin/lsrc/reports/csv/9636.csv"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"public_interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local-marketing-reports.com/ranking-reports/&lt;hidden&gt;/9636"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"public_pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local-marketing-reports.com/ranking-reports/&lt;hidden&gt;/9636.pdf"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"public_csv_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local-marketing-reports.com/ranking-reports/&lt;hidden&gt;/9636.csv"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"rankings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"Alaska Bar Association"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"keywords_num_rankings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"starred_keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">  
        </span><span class="s2">"extra_results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"local"</span><span class="p">,</span><span class="w"> </span><span class="s2">"video"</span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"search_engines"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"google-places"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"yahoo-local"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"bing"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"bing-local"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"rankings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11764"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://alaskabar.org/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"unblended_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32d3f35ad7633a34b2cf93dec7dfdd2455d25f84"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=Alaska+Bar+Association&amp;gl=us&amp;gws_rd=cr&amp;uule=w+CAIQICIGQWxhc2th&amp;pws=0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"google-places"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11766"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://alaskabar.org/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"unblended_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Places"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e008f8d346b2b8f124702d64be0ec1131adba959"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?tbm=lcl&amp;q=Alaska+Bar+Association&amp;gl=us&amp;gws_rd=cr&amp;uule=w+CAIQICIGQWxhc2th"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google-places"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"yahoo"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11767"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://alaskabar.org/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"unblended_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b9ea2849328aa0794c79a60beb6cee38c2a51a67"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://search.yahoo.com/search?p=Alaska+Bar+Association"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11768"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://alaskabar.org/servlet/content/46.html"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.alaskabar.org/servlet/content/46.html"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"unblended_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e0610efd9a75c627c2f9a8bc1b86680d5064b71d"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://search.yahoo.com/search?p=Alaska+Bar+Association"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"yahoo-local"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11769"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"unblended_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://search.yahoo.com/local/?p=Alaska+Bar+Association"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo-local"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"bing"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11770"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://alaskabar.org/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"unblended_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbd31c444764b5dd44685b5eae35578bbef68166"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.bing.com/search?q=Alaska+Bar+Association&amp;mkt=en-us&amp;count=50"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bing"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"bing-local"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11771"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"unblended_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.bing.com/local/default.aspx?q=Alaska+Bar+Association&amp;mkt=en-us&amp;FORM=LLSV"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bing-local"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_type"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"sub_rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"32d3f35ad7633a34b2cf93dec7dfdd2455d25f84"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"google-places"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"e008f8d346b2b8f124702d64be0ec1131adba959"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"yahoo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"b9ea2849328aa0794c79a60beb6cee38c2a51a67"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"e0610efd9a75c627c2f9a8bc1b86680d5064b71d"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"yahoo-local"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"bing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"bbd31c444764b5dd44685b5eae35578bbef68166"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"bing-local"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"byPosition"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Position 1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Alaska Bar Association||google||Organic"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11764"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://alaskabar.org/"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32d3f35ad7633a34b2cf93dec7dfdd2455d25f84"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=Alaska+Bar+Association&amp;gl=us&amp;gws_rd=cr&amp;uule=w+CAIQICIGQWxhc2th&amp;pws=0"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Alaska Bar Association||google-places||Places"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11766"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://alaskabar.org/"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Places"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"e008f8d346b2b8f124702d64be0ec1131adba959"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?tbm=lcl&amp;q=Alaska+Bar+Association&amp;gl=us&amp;gws_rd=cr&amp;uule=w+CAIQICIGQWxhc2th"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google-places"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Alaska Bar Association||yahoo||Organic"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11767"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://alaskabar.org/"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b9ea2849328aa0794c79a60beb6cee38c2a51a67"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://search.yahoo.com/search?p=Alaska+Bar+Association"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Alaska Bar Association||bing||Organic"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11770"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://alaskabar.org/"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bbd31c444764b5dd44685b5eae35578bbef68166"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.bing.com/search?q=Alaska+Bar+Association&amp;mkt=en-us&amp;count=50"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bing"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"Positions 2-5"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="s2">"Positions 6-10"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="s2">"Positions 11-20"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="s2">"Positions 21-50"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
          </span><span class="s2">"Positions 51+"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"Alaska Bar Association||yahoo-local||"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11769"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://search.yahoo.com/local/?p=Alaska+Bar+Association"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo-local"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"Alaska Bar Association||bing-local||"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11771"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
              </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-02-01 19:00:24"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.bing.com/local/default.aspx?q=Alaska+Bar+Association&amp;mkt=en-us&amp;FORM=LLSV"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"search_engine"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bing-local"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"all_search_engines"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gained_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"lost_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gained_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"lost_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"google-places"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gained_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"lost_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"yahoo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gained_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"lost_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"yahoo-local"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gained_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"lost_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"bing"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gained_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"lost_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="s2">"bing-local"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_change"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"gained_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"lost_hashes"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"serp-screenshots"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Alaska Bar Association"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://brightlocal-serp-pages.s3.amazonaws.com/2016/02/01/18/a7cf190f51b2572fa166803bec9bb07920d3c678.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17 19:00:24"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"2"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://brightlocal-serp-pages.s3.amazonaws.com/2016/02/01/18/e7cd9afb659ecd572c59f4556ae6f1bcf2cac665.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17 19:00:24"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"3"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://brightlocal-serp-pages.s3.amazonaws.com/2016/02/01/18/593e4e97b9780de2e71e3581f1a47d784deb1c4c.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17 19:00:24"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"4"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://brightlocal-serp-pages.s3.amazonaws.com/2016/02/01/18/6ddb19e8c10b899aeee8e4b11d5a8a6fa1129ebd.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17 19:00:24"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"5"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://brightlocal-serp-pages.s3.amazonaws.com/2016/02/01/18/a404cc8a6c30f81a0744d6661f2004b7bcfa2a34.png"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"expiry_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2016-03-17 19:00:24"</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"competitors"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test Competitor"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://test-competitor.com/"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"rankings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"bear bar"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="s2">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">11764</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://alaskabar.org/"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32d3f35ad7633a34b2cf93dec7dfdd2455d25f84"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=Alaska+Bar+Association&amp;gl=us&amp;gws_rd=cr&amp;uule=w+CAIQICIGQWxhc2th&amp;pws=0"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11764"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://alaskabar.org/"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32d3f35ad7633a34b2cf93dec7dfdd2455d25f84"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=Alaska+Bar+Association&amp;gl=us&amp;gws_rd=cr&amp;uule=w+CAIQICIGQWxhc2th&amp;pws=0"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                </span><span class="p">}</span><span class="w">                
              </span><span class="p">],</span><span class="w">
              </span><span class="s2">"google-places"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11764"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://alaskabar.org/"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"orig_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.alaskabar.org/"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"page"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Organic"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"match"</span><span class="p">:</span><span class="w"> </span><span class="s2">"website address"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32d3f35ad7633a34b2cf93dec7dfdd2455d25f84"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"search_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.com/search?q=Alaska+Bar+Association&amp;gl=us&amp;gws_rd=cr&amp;uule=w+CAIQICIGQWxhc2th&amp;pws=0"</span><span class="p">,</span><span class="w">
                  </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
                </span><span class="p">}</span><span class="w">
              </span><span class="p">]</span><span class="w">
            </span><span class="p">}</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">        
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>If no campaign history ID or previous campaign history ID are passed then the latest results for the specified report are returned.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/lsrc/results/get</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>campaign-history-id</td>
<td>If both campaign-history-id and previous-campaign-history-id are not specified then the latest report is returned.</td>
</tr>
<tr>
<td>previous-campaign-history-id</td>
<td>If both campaign-history-id and previous-campaign-history-id are not specified then the latest report is returned.</td>
</tr>
</tbody></table>

          <h1 id="local-search-audit">Local Search Audit</h1>

<h2 id="add-report">Add Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Add Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v4/lscu'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-name'</span>               <span class="o">=&gt;</span> <span class="s1">'Sample Local Search Audit Report'</span><span class="p">,</span>
    <span class="s1">'business-names'</span>            <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"Le Bernardin"</span><span class="p">],</span>
    <span class="s1">'website-address'</span>           <span class="o">=&gt;</span> <span class="s2">"le-bernardin.com"</span><span class="p">,</span>
    <span class="s1">'address1'</span>                  <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>                  <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'city'</span>                      <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
    <span class="s1">'state-code'</span>                <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>                  <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
    <span class="s1">'telephone'</span>                 <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
    <span class="s1">'country'</span>                   <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
    <span class="s1">'business-category'</span>         <span class="o">=&gt;</span> <span class="s1">'Restaurant'</span><span class="p">,</span>
    <span class="s1">'primary-business-location'</span> <span class="o">=&gt;</span> <span class="s1">'NY, New York'</span><span class="p">,</span>
    <span class="s1">'search-terms'</span>              <span class="o">=&gt;</span> <span class="p">[</span><span class="s2">"restaurant manhattan"</span><span class="p">,</span><span class="s2">"cafe new york"</span><span class="p">]</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\ </span>
 -d <span class="s1">'report-name=Sample Local Search Audit Report'</span> <span class="se">\</span>
 -d <span class="s1">'business-names=["Le Bernardin"]'</span> <span class="se">\</span>
 -d <span class="s1">'address1=155 West 51st Street'</span> <span class="se">\ </span>
 -d <span class="s1">'address2='</span> <span class="se">\</span>
 -d <span class="s1">'city=New York'</span> <span class="se">\</span>
 -d <span class="s1">'state-code=NY'</span> <span class="se">\ </span>
 -d <span class="s1">'postcode=10019'</span> <span class="se">\</span>
 -d <span class="s1">'telephone=+1 212-554-1515'</span>
 -d <span class="s1">'country=USA'</span> <span class="se">\</span>
 -d <span class="s1">'business-category=Restaurant'</span> <span class="se">\</span>
 -d <span class="s1">'primary-business-location=NY+NewYork'</span>
 -d <span class="s1">'search-terms=["restaurant manhattan","cafe new york"]'</span>
 https://tools.brightlocal.com/seo-tools/api/v4/lscu
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-name"</span><span class="p">,</span> <span class="s">"Sample Local Search Audit Report"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-names"</span><span class="p">,</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="s">"['Le Bernardin']"</span><span class="p">));</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website-address"</span><span class="p">,</span> <span class="s">"le-bernardin.com"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address1"</span><span class="p">,</span> <span class="s">"155 Weest 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address2"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"state-code"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-category"</span><span class="p">,</span> <span class="s">"Restaurant"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"primary-business-location"</span><span class="p">,</span> <span class="s">"NY, New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-terms"</span><span class="p">,</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="s">"['restaurant manhattan', 'cafe new york']"</span><span class="p">));</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/lscu"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Supplying Local Directory URLs (see local-directory-urls parameter)</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">'citysearch'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
       <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.yelp.co.uk/biz/greens-restaurant-san-francisco-3'</span><span class="p">,</span>
       <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="s1">'yes'</span>
   <span class="p">),</span>
   <span class="s1">'dexknows'</span>   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
       <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">''</span>
       <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="s1">'yes'</span>
   <span class="p">),</span>
   <span class="s1">'kudzu'</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
       <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
       <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="s1">'yes'</span>
   <span class="p">)</span>
<span class="p">));</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">var</span> <span class="n">localDirectories</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">dynamic</span><span class="p">&gt;();</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span>
<span class="p">{</span>
    <span class="n">yellowbot</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">"http://www.yellowbot.com/le-bernardin-new-york-ny.html"</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="s">"yes"</span>
    <span class="p">},</span>
    <span class="n">yellowpages</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">"http://www.yellowpages.com/new-york-ny/mip/le-bernardin-9909153"</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="s">"yes"</span>
    <span class="p">},</span>
    <span class="n">yelp</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="s">"yes"</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report name missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_BUSINESS_NAMES"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Business names missing (at least one must be supplied)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_WEBSITE_ADDRESS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Website address missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_TELEPHONE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Telephone number missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_ADDRESS1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Address line 1 missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_CITY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"City missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_STATE_CODE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"State code missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_POSTCODE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Postcode/ZIP missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_BUSINESS_CATEGORY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Business category missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_PRIMARY_BUSINESS_LOCATION"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Primary business location missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_SEARCH_TERMS"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Search terms missing (please supply at least one)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_GOOGLE_LOCATION"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google location missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Adds a new Local Search Audit report to your account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/lscu</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>location-id</td>
<td>Associate this report with a location in your account. This ID needs to correspond to a valid location in your account.</td>
</tr>
<tr>
<td>white-label-profile-id</td>
<td>Assign a white label profile to this report. The ID needs to correspond to a valid white label profile in your account.</td>
</tr>
<tr>
<td>business-names</td>
<td><span class="label label-required">Required</span> Supply only one business name as a JSON string. For example, [&ldquo;Greens Restaurant&rdquo;].</td>
</tr>
<tr>
<td>website-address</td>
<td><span class="label label-required">Required</span> The address for your business website. 256 characters max.</td>
</tr>
<tr>
<td>address1</td>
<td><span class="label label-required">Required</span> 80 characters max.</td>
</tr>
<tr>
<td>address2</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>area</td>
<td>The neighborhood or district for the business. For example, Charleston or Fulham.</td>
</tr>
<tr>
<td>city</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>state-code</td>
<td><span class="label label-required">Required</span> (USA, CAN:EN and AUS)</td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span> A valid postcode or ZIP. 80 characters max.</td>
</tr>
<tr>
<td>telephone</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span> One of USA, CAN:EN, GBR or AUS.</td>
</tr>
<tr>
<td>business-category</td>
<td><span class="label label-required">Required</span> The type of business - for example, Plumber (not Plumbing &amp; Heating Services).</td>
</tr>
<tr>
<td>primary-business-location</td>
<td><span class="label label-required">Required</span> The primary location served by the business. Enter town name and state code - for example, Chicago, IL.</td>
</tr>
<tr>
<td>search-terms</td>
<td><span class="label label-required">Required</span> Supply one or more search terms (max 5) as a JSON string. For example, [&ldquo;restaurant san francisco&rdquo;,&ldquo;cafe san francisco&rdquo;].</td>
</tr>
<tr>
<td>google-location</td>
<td><span class="label label-required">Required</span> A valid google search location. Please refer to our location check method.</td>
</tr>
<tr>
<td>bing-location</td>
<td>A valid bing search location. Please refer to our location check method.</td>
</tr>
<tr>
<td>notify</td>
<td>One of yes or no. If set to yes we will send report alerts to all email addresses specified (see field below). If you include customer email addresses when setting up your report we&rsquo;ll also email them the alerts so please be sure this is what you want before adding their addresses. Default is no.</td>
</tr>
<tr>
<td>email-addresses</td>
<td>Supply one or more (max 5) email addresses for us to send report alerts to. This only takes effect if notify is set to yes.</td>
</tr>
<tr>
<td>facebook-url</td>
<td>If known, please supply the Facebook URL for the business. If not supplied we&rsquo;ll try and find it on the business website or through a direct search of Facebook.</td>
</tr>
<tr>
<td>twitter-url</td>
<td>If known, please supply the Twitter URL for the business. If not supplied we&rsquo;ll try and find it on the business website or through through a direct search of Twitter.</td>
</tr>
<tr>
<td>is-public</td>
<td>Determines whether or not to make the report available on a public URL you can give to your customers. One of yes or no. Defaults to no.</td>
</tr>
<tr>
<td>local-directory-urls</td>
<td><p>By default we try and find local directory profile URLs and information for your business in all directories we support. If you&rsquo;d like your report to only contain specific directories or already know the profile URLs for some directories you can supply them here. Please note that if you supply information for this parameter you need to give us all details of the directories you want included. If you have profile URLs for some but not others you can leave those URL fields empty and we&rsquo;ll do our best to find them. Generally we recommend you run your report for the first time without this setting and then use our update method to add/change URLs or remove directories if needed.</p><p>The data for this parameter needs to be supplied as a JSON string. Local directory identifiers (the keys in the example below) are documented here.</p><p>Get the <a href="#local-directories-supported-by-local-seo-check-up-tool">list of directories supported by Local Search Audit tool from here.</a></p></td>
</tr>
<tr>
<td>run-report</td>
<td>One of yes or no. Runs the report after adding. Defaults to no.</td>
</tr>
<tr>
<td>exclude-sections</td>
<td><p>Supply values as a JSON string belonging to the section(s) that you would like to exclude from your report.</p><p>You can pass these values &ldquo;links-and-authority&rdquo;, &ldquo;search-rankings&rdquo;, &ldquo;local-listings-and-reviews&rdquo;, &ldquo;google-my-business&rdquo;, &ldquo;on-site-seo&rdquo;, &ldquo;social-channels&rdquo; and &ldquo;appendix&rdquo;.</p><p>You don&rsquo;t have to pass this parameter if you don&rsquo;t want to exclude any sections from your report.</p></td>
</tr>
</tbody></table>

<h2 id="update-report">Update Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Update Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/v4/lscu'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span>                 <span class="o">=&gt;</span> <span class="s1">'1'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>                  <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
    <span class="s1">'telephone'</span>                 <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
    <span class="s1">'country'</span>                   <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
    <span class="s1">'business-category'</span>         <span class="o">=&gt;</span> <span class="s1">'Restaurant'</span><span class="p">,</span>
    <span class="s1">'primary-business-location'</span> <span class="o">=&gt;</span> <span class="s1">'NY, New York'</span><span class="p">,</span>
    <span class="s1">'search-terms'</span>              <span class="o">=&gt;</span> <span class="s1">'["restaurant manhattan","cafe new york"]'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=1'</span> <span class="se">\</span>
 -d <span class="s1">'postcode=10019'</span> <span class="se">\</span>
 -d <span class="s1">'telephone=+1 212-554-1515'</span>
 -d <span class="s1">'country=USA'</span> <span class="se">\</span>
 -d <span class="s1">'business-category=Restaurant'</span> <span class="se">\</span>
 -d <span class="s1">'primary-business-location=NY+NewYork'</span>
 -d <span class="s1">'search-terms=["restaurant manhattan","cafe new york"]'</span>
 https://tools.brightlocal.com/seo-tools/api/v4/lscu
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"1"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-category"</span><span class="p">,</span> <span class="s">"Restaurant"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"primary-business-location"</span><span class="p">,</span> <span class="s">"NY, New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-terms"</span><span class="p">,</span> <span class="n">JsonConvert</span><span class="p">.</span><span class="nf">SerializeObject</span><span class="p">(</span><span class="s">"['restaurant manhattan', 'cafe new york']"</span><span class="p">));</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v4/lscu"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Supplying Local Directory URLs (see local-directory-urls parameter)</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
   <span class="s1">'citysearch'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
       <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.yelp.co.uk/biz/greens-restaurant-san-francisco-3'</span><span class="p">,</span>
       <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="s1">'yes'</span>
   <span class="p">),</span>
   <span class="s1">'dexknows'</span>   <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
       <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">''</span>
       <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="s1">'yes'</span>
   <span class="p">),</span>
   <span class="s1">'kudzu'</span>      <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
       <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
       <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="s1">'yes'</span>
   <span class="p">)</span>
<span class="p">));</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">var</span> <span class="n">localDirectories</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">dynamic</span><span class="p">&gt;();</span>
<span class="n">localDirectories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span>
<span class="p">{</span>
    <span class="n">yellowbot</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">"http://www.yellowbot.com/le-bernardin-new-york-ny.html"</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="n">yes</span>
    <span class="p">},</span>
    <span class="n">yellowpages</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">"http://www.yellowpages.com/new-york-ny/mip/le-bernardin-9909153"</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="n">yes</span>
    <span class="p">},</span>
    <span class="n">yelp</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="n">yes</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure when report running (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"REPORT_RUNNING"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report is running"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v4/lscu</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>report-name</td>
<td></td>
</tr>
<tr>
<td>location-id</td>
<td>Associate this report with a location in your account. This ID needs to correspond to a valid location in your account.</td>
</tr>
<tr>
<td>white-label-profile-id</td>
<td>Assign a white label profile to this report. The ID needs to correspond to a valid white label profile in your account.</td>
</tr>
<tr>
<td>business-names</td>
<td>Supply only one business name as a JSON string. For example, [&ldquo;Greens Restaurant&rdquo;].</td>
</tr>
<tr>
<td>website-address</td>
<td>The address for your business website. 256 characters max.</td>
</tr>
<tr>
<td>address1</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>address2</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>area</td>
<td>The neighborhood or district for the business. For example, Charleston or Fulham.</td>
</tr>
<tr>
<td>city</td>
<td></td>
</tr>
<tr>
<td>state-code</td>
<td>(USA, CAN:EN and AUS)</td>
</tr>
<tr>
<td>postcode</td>
<td>A valid postcode or ZIP. 80 characters max.</td>
</tr>
<tr>
<td>telephone</td>
<td></td>
</tr>
<tr>
<td>country</td>
<td>One of USA, CAN:EN, GBR or AUS.</td>
</tr>
<tr>
<td>business-category</td>
<td>The type of business - for example, Plumber (not Plumbing &amp; Heating Services).</td>
</tr>
<tr>
<td>primary-business-location</td>
<td>The primary location served by the business. Enter town name and state code - for example, Chicago, IL.</td>
</tr>
<tr>
<td>search-terms</td>
<td>Supply one or more search terms (max 5) as a JSON string. For example, [&ldquo;restaurant san francisco&rdquo;,&ldquo;cafe san francisco&rdquo;].</td>
</tr>
<tr>
<td>google-location</td>
<td>A valid google search location. Please refer to our location check method.</td>
</tr>
<tr>
<td>bing-location</td>
<td>A valid bing search location. Please refer to our location check method.</td>
</tr>
<tr>
<td>notify</td>
<td>One of yes or no. If set to yes we will send report alerts to all email addresses specified (see field below). If you include customer email addresses when setting up your report we&rsquo;ll also email them the alerts so please be sure this is what you want before adding their addresses. Default is no.</td>
</tr>
<tr>
<td>email-addresses</td>
<td>Supply one or more (max 5) email addresses for us to send report alerts to. This only takes effect if notify is set to yes.</td>
</tr>
<tr>
<td>facebook-url</td>
<td>If known, please supply the Facebook URL for the business. If not supplied we&rsquo;ll try and find it on the business website or through a direct search of Facebook.</td>
</tr>
<tr>
<td>twitter-url</td>
<td>If known, please supply the Twitter URL for the business. If not supplied we&rsquo;ll try and find it on the business website or through through a direct search of Twitter.</td>
</tr>
<tr>
<td>is-public</td>
<td>Determines whether or not to make the report available on a public URL you can give to your customers. One of yes or no. Defaults to no.</td>
</tr>
<tr>
<td>local-directory-urls</td>
<td><p>This parameter allows you update the profile URLs we have stored for your business on each local directory, to exclude a directory from subsequent report runs or include one that isn&rsquo;t currently present. You can also manually supply profile URLs to correct ones that are incorrect or where we haven&rsquo;t been able to automatically find the relevant profile URL. All changes require the report to be re-run before they take effect.</p><p>The data for this parameter needs to be supplied as a JSON string. Local directory identifiers (the keys in the example below) are documented here. Heres an example of how to generate suitable values in PHP:</p><p>Get the <a href="#local-directories-supported-by-local-seo-check-up-tool">list of directories supported by Local Search Audit tool from here.</a></p></td>
</tr>
<tr>
<td>exclude-sections</td>
<td><p>Supply values as a JSON string belonging to the section(s) that you would like to exclude from your report.</p><p>You can pass these values &ldquo;links-and-authority&rdquo;, &ldquo;search-rankings&rdquo;, &ldquo;local-listings-and-reviews&rdquo;, &ldquo;google-my-business&rdquo;, &ldquo;on-site-seo&rdquo;, &ldquo;social-channels&rdquo; and &ldquo;appendix&rdquo;.</p><p>You don&rsquo;t have to pass this parameter if you don&rsquo;t want to exclude any sections from your report.</p></td>
</tr>
</tbody></table>

<h2 id="get-report">Get Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/lscu'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span> <span class="o">=&gt;</span> <span class="mi">860</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=860'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v4/lscu
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"860"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/lscu"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"report"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"860"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"McCormick &amp; Schmick's"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"white_label_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"59"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"business_names"</span><span class="p">:</span><span class="w"> </span><span class="s2">"McCormick &amp; Schmick's"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.mccormickandschmicks.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1 312-923-7226"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1 E Upper Wacker Dr"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"area"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"state_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60601"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"business_category"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restaurant"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"primary_business_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chicago, il"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"search_terms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restuarant chicago\r\ncafe chicago"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email_addresses"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"date_added"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-29 10:08:41"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_start_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-29 10:10:25"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_end_time"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-29 10:44:39"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report generated successfully"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"generation_error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"currently_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"facebook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.facebook.com/mccormickandschmicks"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://twitter.com/McandSchmicks"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"google_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chicago, il"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"bing_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"previous_bing_location"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"is_public"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"latest_run"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tools.brightlocal.com/seo-tools/admin/lscu/reports/view/858/2171"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tools.brightlocal.com/seo-tools/admin/lscu/reports/pdf/858"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"public_interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local-marketing-reports.com/seo-reports/&lt;hidden&gt;/858"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"public_pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local-marketing-reports.com/seo-reports/&lt;hidden&gt;/858.pdf"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"exclude_sections"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"google-my-business"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"on-site-seo"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"appendix"</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/lscu</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span> The unique ID for the report in your account.</td>
</tr>
</tbody></table>

<h2 id="run-report">Run Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Run Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/v4/lscu/run'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span> <span class="o">=&gt;</span> <span class="mi">860</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=860'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v4/lscu/run
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"860"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v4/lscu/run"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"NO_CREDITS"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"You don't have any credits left"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure when report already running (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"REPORT_RUNNING"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report is already running"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v4/lscu/run</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span> The unique ID for the report in your account.</td>
</tr>
</tbody></table>

<h2 id="delete-report">Delete Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Delete Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'/v4/lscu'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span> <span class="o">=&gt;</span> <span class="mi">860</span>
<span class="p">]);</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$success</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully deleted report.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X DELETE <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=860'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v4/lscu
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"860"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="s">"/v4/lscu"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure when report running (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"REPORT_RUNNING"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report is running"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://tools.brightlocal.com/seo-tools/api/v4/lscu</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span> The unique ID for the report in your account.</td>
</tr>
</tbody></table>

<h2 id="search">Search</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Search for a Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/lscu/search'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'q'</span> <span class="o">=&gt;</span> <span class="s1">'Bodega Wine Bar'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'q=Bodega+Wine+Bar'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v4/lscu/search
</code></pre>

<h3 id="search-reports">Search Reports</h3>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"q"</span><span class="p">,</span> <span class="s">"Bodega Wine Bar"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/lscu/search"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"reports"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"839"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bodega Wine Bar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14580"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"date_added"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-16 12:50:46"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_run_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-01-16 12:58:58"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report generated successfully"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currently_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="w">
    </span><span class="p">},</span><span class="w">
     </span><span class="p">{</span><span class="w">
      </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"858"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bodega Wine Bar"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"14580"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"date_added"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-06-26 07:46:21"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_run_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-07-28 16:11:14"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report generated successfully"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"currently_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_SEARCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Search string missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/lscu/search</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>q</td>
<td>Supply an arbitrary search string. We search in location and report names for matches.</td>
</tr>
</tbody></table>

          <h1 id="citation-tracker">Citation Tracker</h1>

<h2 id="add-report">Add Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Add Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/ct/add'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-name'</span>       <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'business-name'</span>     <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'address1'</span>          <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>          <span class="o">=&gt;</span> <span class="s1">'The Equitable Bldg'</span><span class="p">,</span>
    <span class="s1">'business-location'</span> <span class="o">=&gt;</span> <span class="s1">'New York, NY'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>          <span class="o">=&gt;</span> <span class="s1">'10020'</span><span class="p">,</span>
    <span class="s1">'phone'</span>             <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
    <span class="s1">'website'</span>           <span class="o">=&gt;</span> <span class="s1">'le-bernardin.com'</span><span class="p">,</span>
    <span class="s1">'business-type'</span>     <span class="o">=&gt;</span> <span class="s1">'Restaurant'</span><span class="p">,</span>
    <span class="s1">'state-code'</span>        <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="s1">'primary-location'</span> <span class="o">=&gt;</span> <span class="s1">'10020'</span><span class="p">,</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'business-name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'address-1=155 West 51st Street'</span> <span class="se">\</span>
 -d <span class="s1">'address-2=The Equitable Bldg'</span> <span class="se">\</span>
 -d <span class="s1">'business-location=New York, NY'</span> <span class="se">\ </span>
 -d <span class="s1">'phone=+1 212-554-1515'</span> <span class="se">\</span>
 -d <span class="s1">'postcode=10020'</span> <span class="se">\</span>
 -d <span class="s1">'website=le-bernardin.com'</span> <span class="se">\ </span>
 -d <span class="s1">'business-type=Restaurant'</span> <span class="se">\</span>
 -d <span class="s1">'state-code=NY'</span> <span class="se">\</span>
 -d <span class="s1">'primary-location=10020'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v2/ct/add
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-name"</span><span class="p">,</span> <span class="s">"Sample Citation Tracker Report"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address-1"</span><span class="p">,</span> <span class="s">"155 West 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address-2"</span><span class="p">,</span> <span class="s">"The Equitable Bldg"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-location"</span><span class="p">,</span> <span class="s">"NY, New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"phone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10020"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website"</span><span class="p">,</span> <span class="s">"le-bernardin.com"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-type"</span><span class="p">,</span> <span class="s">"Restaurant"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"state-code"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"primary-location"</span><span class="p">,</span> <span class="s">"10020"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v2/ct/add"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"added"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"report-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">682</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/ct/add</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location-id</td>
<td>You can specify location ID or unique reference to create report for a location</td>
</tr>
<tr>
<td>report-name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>business-name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>address-1</td>
<td><span class="label label-required">Required</span> Street address of where the business is located. 80 characters max.</td>
</tr>
<tr>
<td>address-2</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>business-location</td>
<td><span class="label label-required">Required</span> Town or city name in which business is located.</td>
</tr>
<tr>
<td>old-business-name-1</td>
<td></td>
</tr>
<tr>
<td>old-business-name-2</td>
<td></td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span> 80 characters max.</td>
</tr>
<tr>
<td>old-postcode-1</td>
<td></td>
</tr>
<tr>
<td>old-postcode-2</td>
<td></td>
</tr>
<tr>
<td>country</td>
<td>One of USA, GBR, CAN, AUS. Defaults to USA.</td>
</tr>
<tr>
<td>phone</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>website</td>
<td><span class="label label-required">Required</span> Link to the website of your business. 256 characters max.</td>
</tr>
<tr>
<td>business-type</td>
<td><span class="label label-required">Required</span> Business type (e.g. Hotel) NOT a business category (e.g. Hotels &amp; Guest houses).</td>
</tr>
<tr>
<td>state-code</td>
<td><span class="label label-required">Required</span> (USA only). 2-letter state code (USA only).</td>
</tr>
<tr>
<td>monthly-run</td>
<td>One of 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31. Defaults to 0 (none).</td>
</tr>
<tr>
<td>weekly-run</td>
<td>One of 1, 2, 3, 4, 5, 6, 7. Defaults to 0 (none).</td>
</tr>
<tr>
<td>white-label-profile-id</td>
<td></td>
</tr>
<tr>
<td>active-only</td>
<td>Flag to fetch only active citations. One of Yes, No. Defaults to No. This cannot be changed once the report has been added.</td>
</tr>
<tr>
<td>notify</td>
<td>One of yes or no. If set to yes we will send report alerts to all email addresses specified (see field below). If you include customer email addresses when setting up your report we&rsquo;ll also email them the alerts so please be sure this is what you want before adding their addresses. Default is no.</td>
</tr>
<tr>
<td>email-addresses</td>
<td>Supply one or more (max 5) email addresses for us to send report alerts to. Emails should be passed as a JSON encoded array. This only takes effect if notify is set to yes.</td>
</tr>
<tr>
<td>is-public</td>
<td>Publish reports on a white label URL. Yes or No.</td>
</tr>
<tr>
<td>primary-location</td>
<td><span class="label label-required">Required</span> We use Location to identify your top 10 Google+ Local competitors. Please enter your city/town name or zip/postcode. Note: for US businesses we strongly recommend that you use only 5 digit zips (99750, NOT 99750-0077) as using the longer format can make it harder for us to find competitors.</td>
</tr>
</tbody></table>

<h2 id="update-report">Update Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Update Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/ct/update'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span>         <span class="o">=&gt;</span> <span class="mi">682</span><span class="p">,</span>
    <span class="s1">'report-name'</span>       <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'business-name'</span>     <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'address1'</span>          <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>          <span class="o">=&gt;</span> <span class="s1">'The Equitable Bldg'</span><span class="p">,</span>
    <span class="s1">'business-location'</span> <span class="o">=&gt;</span> <span class="s1">'New York, NY'</span><span class="p">,</span>
    <span class="s1">'phone'</span>             <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
    <span class="s1">'website'</span>           <span class="o">=&gt;</span> <span class="s1">'le-bernardin.com'</span><span class="p">,</span>
    <span class="s1">'business-type'</span>     <span class="o">=&gt;</span> <span class="s1">'Restaurant'</span><span class="p">,</span>
    <span class="s1">'state-code'</span>        <span class="o">=&gt;</span> <span class="s1">'NY'</span> 
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id'</span><span class="o">=</span>682,
 -d <span class="s1">'report-name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'business-name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'address-1=155 West 51st Street'</span> <span class="se">\</span>
 -d <span class="s1">'address-2=The Equitable Bldg'</span> <span class="se">\</span>
 -d <span class="s1">'business-location=New York, NY'</span> <span class="se">\ </span>
 -d <span class="s1">'phone=+1 212-554-1515'</span> <span class="se">\</span>
 -d <span class="s1">'website=le-bernardin.com'</span> <span class="se">\ </span>
 -d <span class="s1">'business-type=Restaurant'</span> <span class="se">\</span>
 -d <span class="s1">'state-code=NY'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v2/ct/update
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="m">682</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-name"</span><span class="p">,</span> <span class="s">"Sample Citation Tracker Report"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address-1"</span><span class="p">,</span> <span class="s">"155 West 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address-2"</span><span class="p">,</span> <span class="s">"The Equitable Bldg"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-location"</span><span class="p">,</span> <span class="s">"NY, New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"phone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website"</span><span class="p">,</span> <span class="s">"le-bernardin.com"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-type"</span><span class="p">,</span> <span class="s">"Restaurant"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"state-code"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v2/ct/update"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"edited"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/ct/update</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location-id</td>
<td>You can specify location ID or unique reference to create report for a location.</td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>report-name</td>
<td></td>
</tr>
<tr>
<td>business-name</td>
<td></td>
</tr>
<tr>
<td>address-1</td>
<td><span class="label label-required">Required</span> Street address of where the business is located. 80 characters max.</td>
</tr>
<tr>
<td>address-2</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>business-location</td>
<td>Town or city name in which business is located.</td>
</tr>
<tr>
<td>old-business-name-1</td>
<td></td>
</tr>
<tr>
<td>old-business-name-2</td>
<td></td>
</tr>
<tr>
<td>postcode</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>old-postcode-1</td>
<td></td>
</tr>
<tr>
<td>old-postcode-2</td>
<td></td>
</tr>
<tr>
<td>country</td>
<td>One of USA, GBR, CAN, AUS. Defaults to USA.</td>
</tr>
<tr>
<td>phone</td>
<td></td>
</tr>
<tr>
<td>website</td>
<td>Link to the website of your business. 256 characters max.</td>
</tr>
<tr>
<td>business-type</td>
<td>Business type (e.g. Hotel) NOT a business category (e.g. Hotels &amp; Guest houses).</td>
</tr>
<tr>
<td>location</td>
<td></td>
</tr>
<tr>
<td>state-code</td>
<td>2-letter state code (USA only).</td>
</tr>
<tr>
<td>monthly-run</td>
<td>One of 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31. Defaults to 0 (none).</td>
</tr>
<tr>
<td>weekly-run</td>
<td>One of 1, 2, 3, 4, 5, 6, 7. Defaults to 0 (none).</td>
</tr>
<tr>
<td>white-label-profile-id</td>
<td></td>
</tr>
<tr>
<td>active-only</td>
<td>Flag to fetch only active citations. One of Yes, No. Defaults to No.</td>
</tr>
<tr>
<td>notify</td>
<td>One of yes or no. If set to yes we will send report alerts to all email addresses specified (see field below). If you include customer email addresses when setting up your report we&rsquo;ll also email them the alerts so please be sure this is what you want before adding their addresses. Default is no.</td>
</tr>
<tr>
<td>email-addresses</td>
<td>Supply one or more (max 5) email addresses for us to send report alerts to. Emails should be passed as a JSON encoded array. This only takes effect if notify is set to yes.</td>
</tr>
<tr>
<td>is-public</td>
<td>Publish reports on a white label URL. Yes or No.</td>
</tr>
</tbody></table>

<h2 id="get-report">Get Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/ct/get'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span> <span class="o">=&gt;</span> <span class="mi">682</span> 
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=682'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v2/ct/get
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
        <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"682"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/ct/get"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"255565"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"88"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"weekly_run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"monthly_run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The View"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"website_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"www.ullubatanc.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ullu Bata Inc."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"business_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"London"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ABCD1234"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBR"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01273 207 100"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"business_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Restaurant"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"primary_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Brighton"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_run_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1185703"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"old_business_name_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"View Hove"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"old_postcode_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01273 207 037"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"old_business_name_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Babylon Lounge"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"old_postcode_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BN3 4FA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"last_run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-28 05:31:59"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Ullu Bata Inc."</span><span class="p">,</span><span class="w">
        </span><span class="s2">"white_label_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7819"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_addresses"</span><span class="p">:</span><span class="w"> </span><span class="s2">"[\"example@brightlocal.com\"]"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"active_only"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_public"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;REPLACED&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-10-28 05:00:34"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"complete"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/tools.brightlocal.com\/seo-tools\/admin\/ct\/reports\/view\/255565"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/tools.brightlocal.com\/seo-tools\/admin\/ct\/reports\/pdf\/255565"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"csv_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/tools.brightlocal.com\/seo-tools\/admin\/ct\/reports\/csv\/255565"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"public_interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;REPLACED&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"public_pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;REPLACED&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"public_csv_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;REPLACED&gt;"</span><span class="w">
            </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/ct/get</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="run-report">Run Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Run Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/ct/run'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span> <span class="o">=&gt;</span> <span class="mi">682</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=682'</span> <span class="se">\ </span>
 https://tools.brightlocal.com/seo-tools/api/v2/ct/run
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
        <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"682"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">put</span><span class="p">(</span><span class="s">"/v2/ct/run"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"running"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/ct/run</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="delete-report">Delete Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Delete Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/ct/delete'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span> <span class="o">=&gt;</span> <span class="mi">682</span>
<span class="p">]);</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$success</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully deleted report.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=682'</span> <span class="se">\ </span>
 https://tools.brightlocal.com/seo-tools/api/v2/ct/delete
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"682"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v2/ct/delete"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deleted"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Warning: This action cannot be undone.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/ct/delete</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="get-all-reports">Get All Reports</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get All Reports</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/ct/get-all'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\ </span>
  https://tools.brightlocal.com/seo-tools/api/v2/ct/get-all
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/ct/get-all"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"278"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"report_run_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2457"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"website_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.test1.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"business_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test location"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TEST TEST"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GBR"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"state_code"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cancel_run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456789"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"business_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Pub"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"primary_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Fulham"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_business_name_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_postcode_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_business_name_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_postcode_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"currently_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"generation_error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"terminal_fail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-09-07 11:45:56"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"report_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"your_ct_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"197"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"your_ct_count_up"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"your_ct_count_down"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"total_ct_sources"</span><span class="p">:</span><span class="w"> </span><span class="s2">"230"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"total_ct_sources_up"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"competitor_ct_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"76"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"competitor_ct_count_diff"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_ct_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"branding_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"notify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"email_addresses"</span><span class="p">:</span><span class="w"> </span><span class="s2">"['test@test1.com']"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"your_ct_count_diff"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"competitor_ct_count_up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"competitor_ct_count_down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"total_ct_sources_diff"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"successful_runs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"660"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"report_run_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2756"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"website_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chicago"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"state_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cancel_run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0123456789"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"business_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"car hire"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"primary_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chicago"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_business_name_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_postcode_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_business_name_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_postcode_2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"currently_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"generation_error"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"terminal_fail"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"last_run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-05-21 11:18:31"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"report_status"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"your_ct_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"633"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"your_ct_count_up"</span><span class="p">:</span><span class="w"> </span><span class="s2">"129"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"your_ct_count_down"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"total_ct_sources"</span><span class="p">:</span><span class="w"> </span><span class="s2">"356"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"total_ct_sources_up"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"competitor_ct_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"competitor_ct_count_diff"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"old_ct_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"company_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"branding_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"notify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"email_addresses"</span><span class="p">:</span><span class="w"> </span><span class="s2">"['test@test2.com']"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"your_ct_count_diff"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"competitor_ct_count_up"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"competitor_ct_count_down"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"total_ct_sources_diff"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                </span><span class="s2">"successful_runs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/ct/get-all</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location-id</td>
<td></td>
</tr>
</tbody></table>

<h2 id="get-report-results">Get Report Results</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/ct/get-results'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span> <span class="o">=&gt;</span> <span class="mi">2457</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=2457'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v2/ct/get-results
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"2457"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/ct/get-results"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
            </span><span class="s2">"active"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"citation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">182555</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2457"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"citation-status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"carricktoday.co.uk"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.carricktoday.co.uk/findit?action=showMap&amp;placeid=68739"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"citation-notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Got it"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"date-identified-sorting"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-09-07T00:00:00+00:00"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"date-identified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07 Sep 12"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain-authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38.75"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"citation-value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"moz-rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"site-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"listing-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free Listing"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"seomoz-lookup-complete"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"business-name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"pending"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">

            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"possible"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">

            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"activeDomains"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
                </span><span class="s2">"facebook.com"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"twitter.com"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"yelp.com"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"yell.com"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"thomsonlocal.com"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"beerintheevening.com"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"hotfrog.co.uk"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"cylex-uk.co.uk"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"pendingDomains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"possibleDomains"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"topDirectories"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"citation_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">182555</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2457"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"citation-status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"active"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">"carricktoday.co.uk"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.carricktoday.co.uk/findit?action=showMap&amp;placeid=68739"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"citation-notes"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Got it"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"date-identified-sorting"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-09-07T00:00:00+00:00"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"date-identified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07 Sep 12"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain-authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"38.75"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"citation-value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"moz-rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Unknown"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"site-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"listing-type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Free Listing"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"seomoz-lookup-complete"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"business-name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John's business"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lungomare Zara, 1234 Giulianova"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"website-url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.johns-s-business.co.uk/"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"03 12345678"</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"flags"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"customer"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"new"</span><span class="p">:</span><span class="w">  </span><span class="p">[],</span><span class="w">
                    </span><span class="s2">"disappeared"</span><span class="p">:</span><span class="w">  </span><span class="p">[]</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="s2">"competitor"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"new"</span><span class="p">:</span><span class="w">  </span><span class="p">[],</span><span class="w">
                    </span><span class="s2">"disappeared"</span><span class="p">:</span><span class="w">  </span><span class="p">[]</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"competitors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">

            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/ct/get-results</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

          <h1 id="citation-builder">Citation Builder</h1>

<h2 id="create-campaign">Create Campaign</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Create Campaign</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$briefDescription</span> <span class="o">=</span> <span class="s1">'Born in Paris in 1972 by sibling duo Maguy and Gilbert Le Coze, Le Bernardin only served fish: Fresh, simple and prepared with respect. After receiving its first Michelin star in 1976, and two more in 1980, the Le Cozes set to open Le Bernardin in New York in 1986.'</span><span class="p">;</span>
<span class="nv">$fullDescription</span> <span class="o">=</span> <span class="s1">'The restaurant has held three stars from the Michelin Guide since its 2005 New York launch and currently ranks 24 on the Worlds 50 Best Restaurants list. The New York Zagat Guide has recognized Le Bernardin as top rated in the category of Best Food for the last nine consecutive years, and in 2015 was rated by the guide as New York Citys top restaurant for food and service.  Le Bernardin has earned seven James Beard Awards since 1998 including Outstanding Restaurant of the Year, Top Chef in New York City, Outstanding Service, Outstanding Chef in the United States, Outstanding Pastry Chef, Outstanding Wine Service, and Best Restaurant Design in 2012. 
Most recently, the Foundation named Maguy Le Coze as Outstanding.'</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/cb/create'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign_name'</span>              <span class="o">=&gt;</span> <span class="s1">'Le Bernardin Citation Builder'</span><span class="p">,</span>
    <span class="s1">'business_name'</span>              <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'website_address'</span>            <span class="o">=&gt;</span> <span class="s1">'le-bernardin.com'</span><span class="p">,</span>
    <span class="s1">'campaign_country'</span>           <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
    <span class="s1">'campaign_city'</span>              <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="s1">'business_category_id'</span>       <span class="o">=&gt;</span> <span class="mi">605</span><span class="p">,</span>
    <span class="s1">'business_categories'</span>        <span class="o">=&gt;</span> <span class="s1">'["restaurant", "cafe"]'</span><span class="p">,</span>
    <span class="s1">'address1'</span>                   <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>                   <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'city'</span>                       <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
    <span class="s1">'region'</span>                     <span class="o">=&gt;</span> <span class="s1">'New York, USA'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>                   <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
    <span class="s1">'contact_name'</span>               <span class="o">=&gt;</span> <span class="s1">'Bloggs'</span><span class="p">,</span>
    <span class="s1">'contact_firstname'</span>          <span class="o">=&gt;</span> <span class="s1">'Joe'</span><span class="p">,</span>
    <span class="s1">'contact_telephone'</span>          <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
    <span class="s1">'contact_email'</span>              <span class="o">=&gt;</span> <span class="s1">'joe.bloggs@test.com'</span><span class="p">,</span>
    <span class="s1">'brief_description'</span>          <span class="o">=&gt;</span> <span class="nv">$briefDescription</span><span class="p">,</span>
    <span class="s1">'full_description'</span>           <span class="o">=&gt;</span> <span class="nv">$fullDescription</span><span class="p">,</span>
    <span class="s1">'employees_number'</span>           <span class="o">=&gt;</span> <span class="mi">35</span><span class="p">,</span>
    <span class="s1">'start_year'</span>                 <span class="o">=&gt;</span> <span class="mi">1976</span><span class="p">,</span>
    <span class="s1">'working_hours_apply_to_all'</span> <span class="o">=&gt;</span> <span class="s1">'Y'</span><span class="p">,</span>
    <span class="s1">'working_hours_mon_start'</span>    <span class="o">=&gt;</span> <span class="s1">'8:00 am'</span><span class="p">,</span>
    <span class="s1">'working_hours_mon_end'</span>      <span class="o">=&gt;</span> <span class="s1">'10:00 pm'</span><span class="p">,</span> 
    <span class="s1">'social_profile_links'</span>       <span class="o">=&gt;</span> <span class="s1">'{"facebook":"https:\/\/en-gb.facebook.com\/brightlocal\/","twitter":"https:\/\/twitter.com\/bright_local","linkedin":"https:\/\/uk.linkedin.com\/company\/bright-local-seo","instagram":"","pinterest":"https:\/\/www.pinterest.co.uk\/brightlocal\/"}'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="kt">string</span> <span class="n">brief_description</span> <span class="p">=</span> <span class="s">"Born in Paris in 1972 by sibling duo Maguy and Gilbert Le Coze, Le Bernardin only served fish: Fresh, simple and prepared with respect. After receiving its first Michelin star in 1976, and two more in 1980, the Le Cozes set to open Le Bernardin in New York in 1986."</span><span class="p">;</span>
<span class="kt">string</span> <span class="n">full_description</span> <span class="p">=</span> <span class="s">"The restaurant has held three stars from the Michelin Guide since its 2005 New York launch and currently ranks 24 on the Worlds 50 Best Restaurants list. The New York Zagat Guide has recognized Le Bernardin as top rated in the category of Best Food for the last nine consecutive years, and in 2015 was rated by the guide as New York Citys top restaurant for food and service.  Le Bernardin has earned seven James Beard Awards since 1998 including Outstanding Restaurant of the Year, Top Chef in New York City, Outstanding Service, Outstanding Chef in the United States, Outstanding Pastry Chef, Outstanding Wine Service, and Best Restaurant Design in 2012. 
</span><span class="n">Most</span> <span class="n">recently</span><span class="p">,</span> <span class="n">the</span> <span class="n">Foundation</span> <span class="n">named</span> <span class="n">Maguy</span> <span class="n">Le</span> <span class="n">Coze</span> <span class="k">as</span> <span class="n">Outstanding</span><span class="p">.</span><span class="s">";
</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_name"</span><span class="p">,</span> <span class="s">"Sample Citation Builder Campaign"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business_name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website_address"</span><span class="p">,</span> <span class="s">"le-bernardin.com"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_state"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business_category_id"</span><span class="p">,</span> <span class="m">605</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business_categories"</span><span class="p">,</span> <span class="s">"['restaurant', 'cafe']"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address1"</span><span class="p">,</span> <span class="s">"155 West 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address2"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"region"</span><span class="p">,</span> <span class="s">"New York, USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact_name"</span><span class="p">,</span> <span class="s">"Bloggs"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact_firstname"</span><span class="p">,</span> <span class="s">"Joe"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact_telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">;</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact_email"</span><span class="p">,</span> <span class="s">"joe.bloggs@test.com"</span><span class="p">);</span>     
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"brief_description"</span><span class="p">,</span> <span class="n">brief_description</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"full_description"</span><span class="p">,</span> <span class="n">full_description</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"employees_number"</span><span class="p">,</span> <span class="m">35</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"start_year"</span><span class="p">,</span> <span class="m">1976</span><span class="p">);</span>            
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_apply_to_all"</span><span class="p">,</span> <span class="m">0</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_mon_start"</span><span class="p">,</span> <span class="m">0800</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_mon_end"</span><span class="p">,</span> <span class="m">2200</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_tue_start"</span><span class="p">,</span> <span class="m">0800</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_tue_end"</span><span class="p">,</span> <span class="m">2200</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_wed_start"</span><span class="p">,</span> <span class="m">0800</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_wed_end"</span><span class="p">,</span> <span class="m">2200</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_thu_start"</span><span class="p">,</span> <span class="m">0800</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_thu_end"</span><span class="p">,</span> <span class="m">2200</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_fri_start"</span><span class="p">,</span> <span class="m">0800</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_fri_end"</span><span class="p">,</span> <span class="m">2400</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_sat_start"</span><span class="p">,</span> <span class="m">1000</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_sat_end"</span><span class="p">,</span> <span class="m">2400</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_sun_start"</span><span class="p">,</span> <span class="m">1000</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"working_hours_sun_end"</span><span class="p">,</span> <span class="m">2400</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v2/cb/create"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Validation Failure</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter business name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter campaign name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contact_firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter contact first name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contact_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter contact last name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"business_category_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select business category"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"business_categories"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter at least one business category or tag"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select country"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select state"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter street address"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter zip / postal code"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"website_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter the website address for the business"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contact_email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter correct email address"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contact_telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please check your entered telephone number. Only digits 0-9 and ( ) - + characters can be entered."</span><span class="p">,</span><span class="w">
    </span><span class="s2">"brief_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter short description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"full_description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter full description"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"employees_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter number of employees"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"start_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter starting year"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"working_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your must provide Working Hours for at least one day in the week"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"social_profile_links"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The supplied URL for facebook is too long (max 256 characters)"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid campaign status"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Location with ID 0 not found or doesn't belong to this customer"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"campaign-id"</span><span class="p">:</span><span class="w"> </span><span class="mi">280</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/cb/create</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location_id</td>
<td></td>
</tr>
<tr>
<td>business_name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>campaign_name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>website_address</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>campaign_country</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>campaign_state</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>campaign_city</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>business_category_id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>extra_business_categories_ids</td>
<td><span class="label label-required">Required</span> JSON encoded array. For example, [1234,5678,9012]. <a href="#business-categories">See here for a full list of valid business category IDs.</a></td>
</tr>
<tr>
<td>address1</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>address2</td>
<td></td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>contact_name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>contact_firstname</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>contact_telephone</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>mobile_number</td>
<td></td>
</tr>
<tr>
<td>fax_number</td>
<td></td>
</tr>
<tr>
<td>brief_description</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>full_description</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>employees_number</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>start_year</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>service_name_1</td>
<td></td>
</tr>
<tr>
<td>service_name_2</td>
<td></td>
</tr>
<tr>
<td>service_name_3</td>
<td></td>
</tr>
<tr>
<td>service_name_4</td>
<td></td>
</tr>
<tr>
<td>service_name_5</td>
<td></td>
</tr>
<tr>
<td>working_hours_apply_to_all</td>
<td><span class="label label-required">Required</span> If this field has a value of Y you only need to specify working hours for Monday and these values are then also used for the other days of the week.</td>
</tr>
<tr>
<td>working_hours_mon_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_mon_start and working_hours_mon_end.</td>
</tr>
<tr>
<td>working_hours_tue_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_tue_start and working_hours_tue_end.</td>
</tr>
<tr>
<td>working_hours_wed_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_wed_start and working_hours_wed_end.</td>
</tr>
<tr>
<td>working_hours_thu_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_thu_start and working_hours_thu_end.</td>
</tr>
<tr>
<td>working_hours_fri_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_fri_start and working_hours_fri_end.</td>
</tr>
<tr>
<td>working_hours_sat_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_sat_start and working_hours_sat_end.</td>
</tr>
<tr>
<td>working_hours_sun_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_sun_start and working_hours_sun_end.</td>
</tr>
<tr>
<td>working_hours_mon_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_mon_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_tue_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_tue_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_wed_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_wed_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_thu_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_thu_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_fri_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_fri_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_sat_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_sat_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_sun_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_sun_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>special_offer</td>
<td></td>
</tr>
<tr>
<td>special_offer_description</td>
<td></td>
</tr>
<tr>
<td>special_offer_expiry_date</td>
<td></td>
</tr>
<tr>
<td>payment_methods</td>
<td><p>String with &rsquo;&#124;&rsquo; delimiter. E.g. cash&#124;visa&#124;mastercard&#124;amex&#124;cheque&#124;atm&#124;discover. Possible values - cash&#124;visa&#124;mastercard&#124;amex&#124;cheque&#124;invoice&#124;insurance&#124;atm&#124;travellers&#124;financing&#124;paypal&#124;discover</p></td>
</tr>
<tr>
<td>social_profile_links</td>
<td>JSON encoded object. See example on the right for reference. Social channels supported are facebook, twitter, linkedin, pinterest and instagram.</td>
</tr>
<tr>
<td>receive-email-alerts</td>
<td></td>
</tr>
<tr>
<td>alert-email-addresses</td>
<td></td>
</tr>
<tr>
<td>old_business_name</td>
<td></td>
</tr>
<tr>
<td>old_lookup_data</td>
<td>For e.g, old postcode</td>
</tr>
<tr>
<td>is_public</td>
<td>Publish reports on a white label URL. Y or N.</td>
</tr>
<tr>
<td>campaign_notes</td>
<td>Notes for any issues &amp; concerns which you want our submission team to be aware of when they submit to directories</td>
</tr>
</tbody></table>

<h2 id="update-campaign">Update Campaign</h2>

<p><span class="label label-info">Account Method</span></p>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$campaignId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/v2/cb/'</span> <span class="o">.</span><span class="nv">$campaignId</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign_name'</span>              <span class="o">=&gt;</span> <span class="s1">'Le Bernardin Citation Builder'</span><span class="p">,</span>
    <span class="s1">'business_name'</span>              <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'website_address'</span>            <span class="o">=&gt;</span> <span class="s1">'le-bernardin.com'</span><span class="p">,</span>
    <span class="s1">'campaign_country'</span>           <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
    <span class="s1">'campaign_city'</span>              <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="s1">'business_category_id'</span>       <span class="o">=&gt;</span> <span class="mi">605</span><span class="p">,</span>
    <span class="s1">'business_categories'</span>        <span class="o">=&gt;</span> <span class="s1">'["restaurant", "cafe"]'</span><span class="p">,</span>
    <span class="s1">'address1'</span>                   <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>                   <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'city'</span>                       <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
    <span class="s1">'region'</span>                     <span class="o">=&gt;</span> <span class="s1">'New York, USA'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>                   <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
    <span class="s1">'contact_name'</span>               <span class="o">=&gt;</span> <span class="s1">'Bloggs'</span><span class="p">,</span>
    <span class="s1">'contact_firstname'</span>          <span class="o">=&gt;</span> <span class="s1">'Joe'</span><span class="p">,</span>
    <span class="s1">'contact_telephone'</span>          <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
    <span class="s1">'contact_email'</span>              <span class="o">=&gt;</span> <span class="s1">'joe.bloggs@test.com'</span><span class="p">,</span>  
    <span class="s1">'social_profile_links'</span>       <span class="o">=&gt;</span> <span class="s1">'{"facebook":"https:\/\/en-gb.facebook.com\/brightlocal\/","twitter":"https:\/\/twitter.com\/bright_local","linkedin":"https:\/\/uk.linkedin.com\/company\/bright-local-seo","instagram":"","pinterest":"https:\/\/www.pinterest.co.uk\/brightlocal\/"}'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">campaignId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_name"</span><span class="p">,</span> <span class="s">"Sample Citation Builder Campaign"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business_name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"website_address"</span><span class="p">,</span> <span class="s">"le-bernardin.com"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_state"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business_category_id"</span><span class="p">,</span> <span class="m">605</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business_categories"</span><span class="p">,</span> <span class="s">"['restaurant', 'cafe']"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address1"</span><span class="p">,</span> <span class="s">"155 West 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address2"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"region"</span><span class="p">,</span> <span class="s">"New York, USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact_name"</span><span class="p">,</span> <span class="s">"Bloggs"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact_firstname"</span><span class="p">,</span> <span class="s">"Joe"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact_telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">;</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact_email"</span><span class="p">,</span> <span class="s">"joe.bloggs@test.com"</span><span class="p">);</span>     

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v2/cb/"</span> <span class="p">+</span> <span class="n">campaignId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Validation Failure</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter business name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter campaign name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contact_firstname"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter contact first name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contact_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter contact last name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"business_categories"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter at least one business category or tag"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select state"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaign_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter street address"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"working_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Your must provide Working Hours for at least one day in the week"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"social_profile_links"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please use valid social channels. Channels supported are facebook, twitter, linkedin, pinterest and instagram."</span><span class="w">  
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Campaign updated"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v2/cb/&lt;campaignId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>business_name</td>
<td></td>
</tr>
<tr>
<td>campaign_name</td>
<td></td>
</tr>
<tr>
<td>website_address</td>
<td></td>
</tr>
<tr>
<td>campaign_state</td>
<td></td>
</tr>
<tr>
<td>campaign_city</td>
<td></td>
</tr>
<tr>
<td>extra_business_categories_ids</td>
<td>JSON encoded array. For example, [1234,5678,9012]. <a href="#business-categories">See here for a full list of valid business category IDs.</a></td>
</tr>
<tr>
<td>address1</td>
<td></td>
</tr>
<tr>
<td>address2</td>
<td></td>
</tr>
<tr>
<td>postcode</td>
<td></td>
</tr>
<tr>
<td>contact_name</td>
<td></td>
</tr>
<tr>
<td>contact_firstname</td>
<td></td>
</tr>
<tr>
<td>contact_telephone</td>
<td></td>
</tr>
<tr>
<td>mobile_number</td>
<td></td>
</tr>
<tr>
<td>fax_number</td>
<td></td>
</tr>
<tr>
<td>brief_description</td>
<td></td>
</tr>
<tr>
<td>full_description</td>
<td></td>
</tr>
<tr>
<td>employees_number</td>
<td></td>
</tr>
<tr>
<td>start_year</td>
<td></td>
</tr>
<tr>
<td>service_name_1</td>
<td></td>
</tr>
<tr>
<td>service_name_2</td>
<td></td>
</tr>
<tr>
<td>service_name_3</td>
<td></td>
</tr>
<tr>
<td>service_name_4</td>
<td></td>
</tr>
<tr>
<td>service_name_5</td>
<td></td>
</tr>
<tr>
<td>working_hours_apply_to_all</td>
<td>If this field has a value of Y you only need to specify working hours for Monday and these values are then also used for the other days of the week.</td>
</tr>
<tr>
<td>working_hours_mon_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_mon_start and working_hours_mon_end.</td>
</tr>
<tr>
<td>working_hours_tue_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_tue_start and working_hours_tue_end.</td>
</tr>
<tr>
<td>working_hours_wed_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_wed_start and working_hours_wed_end.</td>
</tr>
<tr>
<td>working_hours_thu_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_thu_start and working_hours_thu_end.</td>
</tr>
<tr>
<td>working_hours_fri_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_fri_start and working_hours_fri_end.</td>
</tr>
<tr>
<td>working_hours_sat_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_sat_start and working_hours_sat_end.</td>
</tr>
<tr>
<td>working_hours_sun_24hrs</td>
<td>Y or N. Defaults to N. This can be used in place of working_hours_sun_start and working_hours_sun_end.</td>
</tr>
<tr>
<td>working_hours_mon_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_mon_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_tue_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_tue_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_wed_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_wed_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_thu_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_thu_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_fri_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_fri_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_sat_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_sat_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_sun_start</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>working_hours_sun_end</td>
<td><span class="label label-required">Required</span> Please only use allowed working hours formats such as 14:45, 2:45 pm, Closed or N/A</td>
</tr>
<tr>
<td>special_offer</td>
<td></td>
</tr>
<tr>
<td>special_offer_description</td>
<td></td>
</tr>
<tr>
<td>special_offer_expiry_date</td>
<td></td>
</tr>
<tr>
<td>payment_methods</td>
<td><p>String with &rsquo;&#124;&rsquo; delimiter. E.g. cash&#124;visa&#124;mastercard&#124;amex&#124;cheque&#124;atm&#124;discover. Possible values - cash, visa, mastercard, amex, cheque, invoice, insurance, atm, travellers, financing, paypal, discover</p></td>
</tr>
<tr>
<td>social_profile_links</td>
<td>Json encoded object. Social channels supported are facebook, twitter, linkedin, pinterest and instagram.</td>
</tr>
<tr>
<td>receive-email-alerts</td>
<td></td>
</tr>
<tr>
<td>alert-email-addresses</td>
<td></td>
</tr>
<tr>
<td>old_business_name</td>
<td></td>
</tr>
<tr>
<td>old_lookup_data</td>
<td>For e.g, old postcode</td>
</tr>
<tr>
<td>is_public</td>
<td>Publish reports on a white label URL. Y or N.</td>
</tr>
<tr>
<td>campaign_notes</td>
<td>Notes for any issues &amp; concerns which you want our submission team to be aware of when they submit to directories</td>
</tr>
</tbody></table>

<h2 id="upload-image">Upload Image</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Upload Image</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/cb/upload/&lt;campaignId&gt;/&lt;imageType&gt;'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'file'</span> <span class="o">=&gt;</span> <span class="nb">fopen</span><span class="p">(</span><span class="s1">'/path/to/image.jpg'</span><span class="p">,</span> <span class="s1">'r'</span><span class="p">)</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">campaignId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">imageType</span> <span class="p">=</span> <span class="s">".jpg"</span><span class="p">;</span>
<span class="n">var</span> <span class="n">path</span> <span class="p">=</span> <span class="s">"/path/to/image.jpg"</span><span class="p">;</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">PostImage</span><span class="p">(</span><span class="s">"/v2/cb/upload/"</span> <span class="p">+</span> <span class="n">campaignId</span> <span class="p">+</span> <span class="s">"/"</span> <span class="p">+</span> <span class="n">imageType</span> <span class="s">""</span><span class="p">,</span> <span class="n">path</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w">   </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"result"</span><span class="p">:</span><span class="w">  </span><span class="s2">"File companyLogo.jpg uploaded"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Upload an image to be used in CB campaign. <campaignId> is the id of existing campaign, <imageType> is one of: logo, image1, image2, image3. Request must contain standard file upload. There should be exactly one file uploaded with size not exceeding 2 MB. Acceptable formats are: jpg, png.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/cb/upload/[campaignId]/[imageType]</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h3 id="example-url">Example URL</h3>

<p>http://tools.brightlocal.com/seo-tools/api/v2/cb/upload/5533/logo</p>

<h2 id="get-citations">Get Citations</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Citations</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/cb/citations'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign_id'</span> <span class="o">=&gt;</span> <span class="mi">1</span> 
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">campaignId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign-id"</span><span class="p">,</span> <span class="n">campaignId</span><span class="p">);</span>

<span class="n">var</span> <span class="n">citations</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/cb/citations"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"campaignId"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
    </span><span class="s2">"citations"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"bing.com"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://bing.com/local/some-place"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citation_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very High"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone_verification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_verification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bingplaces will send you verification PIN at your registered postal address."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_photos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"part_of_yext_network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Y"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quick_listing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"secondary_campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"To Do"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"previous_submission_updates_allowed"</span><span class="p">:</span><span class="s2">"Y"</span><span class="w">
        </span><span class="p">}</span><span class="w">        
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"aggregators"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"citation"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"factual"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aggregators"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"phone_verification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_verification"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Factual will only contact the business if key data doesnt align"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"no_photos"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"part_of_yext_network"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quick_listing"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"secondary_campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"b"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"To Do"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Retrieve list of citations associated with campaign.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/cb/citations</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="confirm-&amp;-pay">Confirm &amp; Pay</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Confirm &amp; Pay</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/cb/confirm-and-pay'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign_id'</span>       <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s1">'package_id'</span>        <span class="o">=&gt;</span> <span class="s1">'cb15'</span><span class="p">,</span>
    <span class="s1">'autoselect'</span>        <span class="o">=&gt;</span> <span class="s1">'N'</span><span class="p">,</span>
    <span class="s1">'remove-duplicates'</span> <span class="o">=&gt;</span> <span class="s1">'Y'</span><span class="p">,</span>
    <span class="s1">'aggregators'</span>       <span class="o">=&gt;</span> <span class="s1">'["factual"]'</span><span class="p">,</span>
    <span class="s1">'citations'</span>         <span class="o">=&gt;</span> <span class="s1">'["brownbook.net", "bing.com", "manta.com", "yell.com", "accessplace.com", "bizfo.co.uk", "bizwiki.co.uk", "citylocal.co.uk", "cylex-uk.co.uk", "where2go.com", "yelp.co.uk", "scoot.co.uk", "restaurants.co.uk", "opendi.co.uk", "misterwhat.co.uk"]'</span><span class="p">,</span>
    <span class="s1">'notes'</span>             <span class="o">=&gt;</span> <span class="s1">'Some very important notes'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">campaignId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign_id"</span><span class="p">,</span> <span class="n">campaignId</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"package_id"</span><span class="p">,</span> <span class="s">"cb15"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"autoselect"</span><span class="p">,</span> <span class="s">"N"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"remove-duplicates"</span><span class="p">,</span> <span class="s">"Y"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"aggregators"</span><span class="p">,</span> <span class="s">"['factual']"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"citations"</span><span class="p">,</span> <span class="s">"['brownbook.net', 'bing.com', 'manta.com', 'yell.com', 'accessplace.com', 'bizfo.co.uk', 'bizwiki.co.uk', 'citylocal.co.uk', 'cylex-uk.co.uk', 'where2go.com', 'yelp.co.uk', 'scoot.co.uk', 'restaurants.co.uk', 'opendi.co.uk', 'misterwhat.co.uk']"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"notes"</span><span class="p">,</span> <span class="s">"Some very important notes"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v2/cb/confirm-and-pay"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Validation Failure</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"citations"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No citations supplied"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"package_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid package id"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Success (200 OK)
<code class="prettyprint">json
{
  &quot;error&quot;: false
}
</code></p>
</blockquote>

<p>Confirm and pay (using credits) for a CB campaign.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v2/cb/confirm-and-pay</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign_id</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>package_id</td>
<td><span class="label label-required">Required</span> CB package id corresponding to the number of ordered credits: &lsquo;cb10&rsquo; for 10 citations, &#39;cb15&rsquo; for 15, then 25, 30, 50, 75, 100. To use only aggregators and ignore citations or package_id, please use &#39;cb0&rsquo; package only.</td>
</tr>
<tr>
<td>autoselect</td>
<td>String. Possible values &#39;N&rsquo; or &#39;Y&rsquo;. Default &#39;N&rsquo;.</td>
</tr>
<tr>
<td>citations</td>
<td>JSON Array. List of sites you require listings for. You can leave citations empty for auto selecting citations.</td>
</tr>
<tr>
<td>remove-duplicates</td>
<td>String. Possible values &#39;N&rsquo; or &#39;Y&rsquo;. Default &#39;N&rsquo;. Find and Remove Duplicate Listings</td>
</tr>
<tr>
<td>aggregators</td>
<td>JSON Array. List of aggregators you require listings for. Possible values are &#39;factual&rsquo;, &#39;infogroup&rsquo;, &#39;neustar&rsquo;, &#39;foursquare&rsquo; for USA. For CAN &#39;factual&rsquo;, &#39;infogroup&rsquo;, &#39;foursquare&rsquo;. The only possible values for non USA countries are &#39;factual&rsquo; and &#39;foursquare&rsquo;.</td>
</tr>
<tr>
<td>notes</td>
<td>Provide instructions to our submissions team with specifics about how you&rsquo;d like your campaign handled.</td>
</tr>
</tbody></table>

<h2 id="get-campaigns">Get Campaigns</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Campaigns</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v2/cb/get-all'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="n">var</span> <span class="n">campaigns</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/cb/get-all"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7459"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date_purchased"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-11 00:00:00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"date_completed"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-06-25 00:00:00"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test@test1.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"advertiserdirectory.co.uk"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"site_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"citation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"advertiserdirectory.co.uk"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"21/100"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"citation_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Low"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"freeindex.co.uk"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"site_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"citation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"freeindex.co.uk"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt; 10/100"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"citation_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"High"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"aggregators"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"infogroup"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"site_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aggregator"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"citation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"infogroup.com"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"citation_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"factual"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Updated"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"site_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Aggregator"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"citation_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"factual.com"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"citation_value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NA"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">]</span><span class="w">                
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/cb/get-all</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location-id</td>
<td></td>
</tr>
</tbody></table>

<h2 id="get-campaign">Get Campaign</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Campaign</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$campaign</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/cb/get'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'campaign-id'</span> <span class="o">=&gt;</span> <span class="mi">1</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$campaign</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">campaignId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"campaign-id"</span><span class="p">,</span> <span class="n">campaignId</span><span class="p">);</span>

<span class="n">var</span> <span class="n">campaign</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/cb/get"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"campaign_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"116225"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="mi">522411</span><span class="p">,</span><span class="w">
            </span><span class="s2">"campaign_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CUCINA urbana"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"creation_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-11 14:56:56"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"package_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"selection_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manual"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"paid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Complete"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"submission_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"purchase_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-11 15:06:18"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"completion_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-25 00:00:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"campaign_note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"customer_note"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"white_label_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_citations"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"package_price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"75"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"website_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/www.cucinaurbana.com\/"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"campaign_country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"campaign_state"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CA"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"campaign_city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"San Diego"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"business_category_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2291"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"business_category_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bar, liquor store, restaurant, food, store"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"extra_business_categories_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"1058"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"1160"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"5376"</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"street_address_1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"505 Laurel Street"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"street_address_2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"region"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92101"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"contact"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"name"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1 619-239-2222"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"mobile_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fax_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"descriptions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"brief"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"full"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"num_employees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"start_year"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2000"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"service_names"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"4"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"5"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"working_hours"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"apply_to_all"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"days"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"mon"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"24_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"tue"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"24_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"wed"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"24_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"thu"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"24_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"fri"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"24_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"sat"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"24_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                    </span><span class="p">},</span><span class="w">
                    </span><span class="s2">"sun"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="s2">"start"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"end"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                        </span><span class="s2">"24_hours"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"payment_methods"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"cash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"on"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"company_logo"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"photos"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"1"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
                </span><span class="s2">"3"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"social_profile_links"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"facebook"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/en-gb.facebook.com\/brightlocal\/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"twitter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/twitter.com\/bright_local"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"linkedin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/uk.linkedin.com\/company\/bright-local-seo"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pinterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/www.pinterest.co.uk\/brightlocal\/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"instagram"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">},</span><span class="w">            
            </span><span class="s2">"email_alerts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"&lt;hidden&gt;"</span><span class="w">
                </span><span class="p">]</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"old_business_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"specialist_info"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"stats"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2017-01-11 15:06:18"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"scheduled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"live"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"updated"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"replaced"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"citations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/www.google.com\/search?q=CUCINA+urbana&amp;npsic=0&amp;gbv=2&amp;gws_rd=cr&amp;ludocid=1563397020059271303&amp;hl=en&amp;gl=us"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mapsconnect.apple.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mapsconnect.apple.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We can't give you a link to your live listing in Apple Maps. You can find your listing by using the Apple Maps app of any iOS device."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bing.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"99"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"bing.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bingplaces will send you verification PIN at your registered postal address."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"mapquest.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Map Site"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"95"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/www.mapquest.com\/us\/california\/italian-restaurants-san-diego\/cucina-urbana-265234833"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This site does not allow images to be uploaded and displays limited information on company profile."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yellowpages.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"92"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/www.yellowpages.com\/san-diego-ca\/mip\/cucina-urbana-22866099"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"angieslist.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"angieslist.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The site supports a limited number of cities in Canada only (no problem with US located businesses). Please don't be surprise if we end up replacing this site in your order; it means your city is not supported."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"citysearch.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/www.citysearch.com\/profile\/607571610\/san_diego_ca\/cucina_urbana.html"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We list your business here via Expressupdate.com; site does not accept Toll Free phone. It takes 2-3 months before your listing goes live here."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"superpages.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/www.superpages.com\/bp\/san-diego-ca\/cucina-urbana-L2129766314.htm"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We submit your listing to this site via Dexmedia.com"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manta.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"87"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/www.manta.com\/c\/mtxfvs9\/cucina-urbana"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"switchboard.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"87"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"switchboard.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We list your business here via Expressupdate.com; site does not accept Toll Free phone. It takes 2-3 months before your listing goes live here."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tomtom.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GPS Data Provider"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tomtom.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We submit data to Tomtom once every quarter, so your data will be submitted the next round during the next round of submissions to Tomtom."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"whowhere.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"83"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"whowhere.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We submit your listing to this site via Dexmedia.com"</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kudzu.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"82"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/www.kudzu.com\/m\/Cucina-Urbana-841435"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"81"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We create basic listing on this site (no images) &amp; create a new account. Client\/agency respond to email to put listing live. See campaign email inbox."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local.botw.org"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"80"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"local.botw.org"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This site does not display URL in live listing."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aboutus.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"79"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"aboutus.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"heraldtribune.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"News \/ Content Site"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"79"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"heraldtribune.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"directory.wfaa.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"78"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"directory.wfaa.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This site does not allow images to be uploaded and displays limited information on company profile."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"chamberofcommerce.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https:\/\/chamberofcommerce.com\/san-diego-ca\/2736482-cucina-urbana"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We can only list your business name, address, and phone number here. Please be guided before ordering a listing from this site."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hotfrog.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hotfrog.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"411.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"72"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"411.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We list your business here via Expressupdate.com; site does not accept Toll Free phone. It takes 2-3 months before your listing goes live here."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tupalo.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"70"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tupalo.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Tupalo is notorious on auto updating address: for example, Suite to Ste, or North to just \"N\"."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brownbook.net"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"64"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/www.brownbook.net\/business\/11048772\/laurel-restaurant"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"We cannot update the business name in this site after submission. Ensure that you get the business name provided is correct from the very beginning."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"citysquares.com"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"57"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/citysquares.com\/b\/cucina-urbana-19686169"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This site does not display URL, description for free listing. They are reserved to paid listing only."</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="s2">"site"</span><span class="p">:</span><span class="w"> </span><span class="s2">"routeandgo.net"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"General Directory"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Live"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http:\/\/www.routeandgo.net\/place\/3118699\/united-states\/cucina-urbana"</span><span class="p">,</span><span class="w">
                    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="s2">"aggregators"</span><span class="p">:</span><span class="w"> </span><span class="p">[],</span><span class="w">
            </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"csv_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/cb/get</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>campaign-id</td>
<td><span class="label label-required">Required</span></td>
</tr>
</tbody></table>

<h2 id="get-credits-balance">Get Credits Balance</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Credits</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v2/cb/credits'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v2/cb/credits"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"credits"</span><span class="p">:</span><span class="w"> </span><span class="mi">9000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v2/cb/credits</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

          <h1 id="reputation-manager">Reputation Manager</h1>

<h2 id="add-report">Add Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Add Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v4/rf/add'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-name'</span>       <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span> 
    <span class="s1">'business-name'</span>     <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'contact-telephone'</span> <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
    <span class="s1">'address1'</span>          <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>          <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>      
    <span class="s1">'city'</span>              <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>          <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
    <span class="s1">'country'</span>           <span class="o">=&gt;</span> <span class="s1">'USA'</span> <span class="c1">// USA only    
</span><span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\ </span>
 -d <span class="s1">'report-name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'business-name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'contact-telephone=+1 212-554-1515'</span> <span class="se">\</span>
 -d <span class="s1">'address1=155 West 51st Street'</span> <span class="se">\ </span>
 -d <span class="s1">'address2='</span> <span class="se">\</span>
 -d <span class="s1">'city=New York'</span> <span class="se">\</span>
 -d <span class="s1">'postcode=10019'</span> <span class="se">\</span>
 -d <span class="s1">'country=USA'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/add
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-name"</span><span class="p">,</span> <span class="s">"Sample Citation Tracker Report"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>            
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact-telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address1"</span><span class="p">,</span> <span class="s">"155 Weest 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address2"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>            
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span> <span class="c1">// USA only
</span>
<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/rf/add"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Example of specifying directories</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.yellowbot.com/le-bernardin-new-york-ny.html'</span><span class="p">,</span>
        <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">),</span>
    <span class="s1">'yellowpages'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.yellowpages.com/new-york-ny/mip/le-bernardin-9909153'</span><span class="p">,</span>
        <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">),</span>
    <span class="s1">'yelp'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.yelp.com/biz/le-bernardin-new-york'</span><span class="p">,</span>
        <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">)</span>
<span class="p">));</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">var</span> <span class="n">directories</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">dynamic</span><span class="p">&gt;();</span>
<span class="n">directories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span>
<span class="p">{</span>
    <span class="n">yellowbot</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">"http://www.yellowbot.com/le-bernardin-new-york-ny.html"</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="k">true</span>
    <span class="p">},</span>
    <span class="n">yellowpages</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">"http://www.yellowpages.com/new-york-ny/mip/le-bernardin-9909153"</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="k">true</span>
    <span class="p">},</span>
    <span class="n">yelp</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="k">true</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter report name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_BUSINESS_NAME"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter business name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_CONTACT_TELEPHONE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter phone number"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_ADDRESS1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter street address"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_CITY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter city"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_POSTCODE"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter post code"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select country"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/rf/add</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>location-id</td>
<td>Associate this report with a location in your account. This ID needs to correspond to a valid location in your account.</td>
</tr>
<tr>
<td>white-label-profile-id</td>
<td>Assign a white label profile to this report. The ID needs to correspond to a valid white label profile in your account.</td>
</tr>
<tr>
<td>business-name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>contact-telephone</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>address1</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>address2</td>
<td></td>
</tr>
<tr>
<td>city</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span> A valid postcode or ZIP.</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span> USA only.</td>
</tr>
<tr>
<td>schedule</td>
<td>D (Daily), W (Weekly) or M (Monthly). You to purchase an add on before you can use daily reporting. Defaults to M (Monthly).</td>
</tr>
<tr>
<td>run-on</td>
<td>Numeric day of week or day of month to run the report on (applicable to weekly and monthly schedules). Defaults to current day of month. If you create your report today it&rsquo;ll be run on the 17th of each month unless you specify otherwise.</td>
</tr>
<tr>
<td>receive-email-alerts</td>
<td>One of 0, 1 or 2. If set to 1 we will send report alerts every time a report finishes (regardless of whether or not new reviews were found) to all email addresses specified (see field below). If you include customer email addresses when setting up your report well also email them the alerts so please be sure this is what you want before adding their addresses. If set to 2 we will only send email alerts if new reviews were found upon report completion. Defaults to 0 which means no alerts will be sent.</td>
</tr>
<tr>
<td>alert-email-addresses</td>
<td>Supply a list of email addresses as a JSON string, e.g. [&ldquo;user1@test.com&rdquo;,&ldquo;user2@test.com&rdquo;,&ldquo;user3@test.com&rdquo;]</td>
</tr>
<tr>
<td>is-public</td>
<td>Determines whether or not to make the report available on a public URL you can give to your customers. One of 1 or 0. Defaults to 0.</td>
</tr>
<tr>
<td>directories</td>
<td><p>By default we try and find profile URLs and reviews in all directories we support. If you&rsquo;d like your report to contain only specific directories or already know the profile URLs for some directories you can supply them here. Please note that if you supply information for this parameter you need to give us all details of the directories you want included. If you have profile URLs for some but not others you can leave those URL fields empty and we&rsquo;ll do our best to find them. Generally we recommend you run your report for the first time without this setting and then use our update method to add/change URLs or remove directories if needed.</p><p>The data for this parameter needs to be supplied as a JSON string. Local directory identifiers (the keys in the example below) are documented here. Here&rsquo;s an example of how to generate suitable values in PHP:</p></td>
</tr>
</tbody></table>

<aside class="notice">
    Once added a report won&rsquo;t show in your control panel until all profile URLs have been found (the first stage of running the report). Once this is complete and reviews are being fetched the report will be shown.
</aside>

<h2 id="update-report">Update Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Update Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">INSERT_API_KEY</span><span class="o">&gt;</span><span class="s1">', '</span><span class="o">&lt;</span><span class="nx">INSERT_API_SECRET</span><span class="o">&gt;</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="p">,</span> <span class="p">[</span>
     <span class="o">-</span><span class="nx">d</span> <span class="s1">'report-name=Le Bernardin'</span> <span class="nx">\</span>
     <span class="o">-</span><span class="nx">d</span> <span class="s1">'business-name=Le Bernardin'</span> <span class="nx">\</span>
     <span class="o">-</span><span class="nx">d</span> <span class="s1">'contact-telephone=+1 212-554-1515'</span> <span class="nx">\</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report_name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'business_names=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'schedule=Adhoc'</span> <span class="se">\</span>
 -d <span class="s1">'day_of_month=2'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/1
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-name"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"contact-telephone"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Example of modifying directories</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">echo</span> <span class="nb">json_encode</span><span class="p">(</span><span class="k">array</span><span class="p">(</span>
        <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.yellowbot.com/le-bernardin-new-york-ny.html'</span><span class="p">,</span>
        <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">),</span>
    <span class="s1">'yellowpages'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.yellowpages.com/new-york-ny/mip/le-bernardin-9909153'</span><span class="p">,</span>
        <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">),</span>
    <span class="s1">'yelp'</span> <span class="o">=&gt;</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">'url'</span>     <span class="o">=&gt;</span> <span class="s1">'http://www.yelp.com/biz/le-bernardin-new-york'</span><span class="p">,</span>
        <span class="s1">'include'</span> <span class="o">=&gt;</span> <span class="kc">true</span>
    <span class="p">)</span>
<span class="p">));</span>
</code></pre>
<pre><code class="highlight csharp"><span class="n">var</span> <span class="n">directories</span> <span class="p">=</span> <span class="k">new</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">dynamic</span><span class="p">&gt;();</span>
<span class="n">directories</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="k">new</span>
<span class="p">{</span>
    <span class="n">yellowbot</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">"http://www.yellowbot.com/le-bernardin-new-york-ny.html"</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="k">true</span>
    <span class="p">},</span>
    <span class="n">yellowpages</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">"http://www.yellowpages.com/new-york-ny/mip/le-bernardin-9909153"</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="k">true</span>
    <span class="p">},</span>
    <span class="n">yelp</span> <span class="p">=</span> <span class="k">new</span>
    <span class="p">{</span>
        <span class="n">url</span> <span class="p">=</span> <span class="s">""</span><span class="p">,</span>
        <span class="n">include</span> <span class="p">=</span> <span class="k">true</span>
    <span class="p">}</span>
<span class="p">});</span>


<span class="p">&gt;</span> <span class="nf">Success</span> <span class="p">(</span><span class="m">200</span> <span class="n">Created</span><span class="p">)</span>

<span class="err">```</span><span class="n">json</span>
<span class="p">{</span>
    <span class="s">"success"</span><span class="p">:</span> <span class="k">true</span>
<span class="p">}</span>
</code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-name</td>
<td></td>
</tr>
<tr>
<td>white-label-profile-id</td>
<td>Assign a white label profile to this report. The ID needs to correspond to a valid white label profile in your account.</td>
</tr>
<tr>
<td>schedule</td>
<td>D (Daily), W (Weekly) or M (Monthly). You to purchase an add on before you can use daily reporting. Defaults to M (Monthly).</td>
</tr>
<tr>
<td>run-on</td>
<td>Numeric day of week or day of month to run the report on (applicable to weekly and monthly schedules). Defaults to current day of month. If you create your report today it&rsquo;ll be run on the 17th of each month unless you specify otherwise.</td>
</tr>
<tr>
<td>receive-email-alerts</td>
<td>One of 0, 1 or 2. If set to 1 we will send report alerts every time a report finishes (regardless of whether or not new reviews were found) to all email addresses specified (see field below). If you include customer email addresses when setting up your report well also email them the alerts so please be sure this is what you want before adding their addresses. If set to 2 we will only send email alerts if new reviews were found upon report completion. Defaults to 0 which means no alerts will be sent.</td>
</tr>
<tr>
<td>alert-email-addresses</td>
<td>Supply a list of email addresses as a JSON string, e.g. [&ldquo;user1@test.com&rdquo;,&ldquo;user2@test.com&rdquo;,&ldquo;user3@test.com&rdquo;]</td>
</tr>
<tr>
<td>is-public</td>
<td>Determines whether or not to make the report available on a public URL you can give to your customers. One of 1 or 0. Defaults to 0.</td>
</tr>
<tr>
<td>directories</td>
<td><p>If you need to add or change a profile URL you can do so here.</p><p>The data for this parameter needs to be supplied as a JSON string. Local directory identifiers (the keys in the example below) are documented here. Here&rsquo;s an example of how to generate suitable values in PHP:</p></td>
</tr>
</tbody></table>

<h2 id="get-report">Get Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/1
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"270"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Le Bernardin"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Le Bernardin"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"contact_telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1 212-554-1515"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"155 West 51st Street"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address2"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"New York"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10019"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"receive_email_alerts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"alert_email_addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"&lt;hidden&gt;"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-06 11:51:35"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-06 11:43:57"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"M"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"run_on"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"reviews_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2772"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.49"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
        </span><span class="s2">"white_label_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_public"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"directories"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"botw"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://local.botw.org/New_York/New_York/Ayza/1000053931.html"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"citysearch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.citysearch.com/profile/7143737/new_york_ny/le_bernardin.html"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"dexknows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"foursquare"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://foursquare.com/v/le-bernardin-new-york-ny/3fd66200f964a52066e31ee3"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://plus.google.com/106100547192468577963/about?hl=en&amp;rfmt=s"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"insiderpages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.insiderpages.com/b/15241026606/le-bernardin-new-york-1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"judysbook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.judysbook.com/Le-Bernardin-Restaurant-Home-and-Garden-newyork-r29294246.htm"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"kudzu"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.kudzu.com/m/Le-Bernardin-20063962"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"localcom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local.com/business/details/new-york-ny/le-bernardin-117822808/"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"manta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.manta.com/c/mmgg127/le-bernardin-restaurant"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"merchantcircle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.merchantcircle.com/business/le.Bernardin.212-554-1515"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"superpages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.superpages.com/bp/New-York-NY/Le-Bernardin-L0500767889.htm"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"yahoo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://local.yahoo.com/info-27778787-le-bernardin-new-york"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"yellowbot"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yellowbot.com/le-bernardin-new-york-ny.html"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"yellowpages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yellowpages.com/new-york-ny/mip/le-bernardin-9909153"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="s2">"yelp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/le-bernardin-new-york"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
                </span><span class="s2">"include"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tools.brightlocal.com/seo-tools/admin/rf/tracker/276"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tools.brightlocal.com/seo-tools/admin/rf/pdf-report/276"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"public_interactive_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local-marketing-reports.com/review-reports/&lt;hidden&gt;/tracker/276"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"public_pdf_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local-marketing-reports.com/review-reports/&lt;hidden&gt;/276.pdf"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="delete-report">Delete Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Delete Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="p">);</span>
<span class="k">if</span><span class="p">(</span><span class="nv">$success</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully deleted report.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X DELETE <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/1
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="s">"/v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure when report running (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"REPORT_RUNNING"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report is running"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="get-reports">Get Reports</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Reports</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/rf"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"270"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Le Bernardin"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-06 11:43:57"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-06 11:51:35"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"running_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fetching"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"141"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zuni cafe #2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-10 15:24:53"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-15 02:07:38"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"running_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fetching"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"119"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Zuni Cafe"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-10-21 10:23:00"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-15 02:06:54"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"running_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fetching"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"144"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Slade &amp; Baker Vision Center"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2013-12-16 15:17:10"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-15 02:05:48"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"running_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fetching"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location-id</td>
<td>Filter the list of reports returned by location ID. This ID must correspond to a valid location in your account.</td>
</tr>
</tbody></table>

<h2 id="report-search">Report Search</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Search for a Reputation Manager Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/search'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'q'</span> <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span>    
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'q=My+Sample+Query'</span> <span class="se">\ </span>  
  https://tools.brightlocal.com/seo-tools/api/v4/rf/search
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"q"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>            
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/rf/search"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reports"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"270"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Le Bernardin"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-06 11:43:57"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"last_update"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2015-01-06 11:51:35"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"running_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"fetching"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"complete"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_SEARCH"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Search string missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Search for reports in your account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf/search</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>q</td>
<td><span class="label label-required">Required</span> Supply an arbitrary search string.</td>
</tr>
</tbody></table>

<h2 id="get-reviews">Get Reviews</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Reviews</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">141</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$reviews</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="o">.</span> <span class="s1">'/reviews'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$reviews</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/141/reviews
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">141</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(/</span><span class="s">"v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">"/reviews"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"dt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-15 02:04:16"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"141"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yelp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-14 02:04:43"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Stephen Z."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"I have not been in a number of years. Went there this past Friday night and was beyond disappointed. Service was not great at the bar or during dinner. The squash appetizer was completely overwhelmed by a very strong garlic component. The size of the main courses were about the size of the appetizers. I had the pork which looked like dog food with a side of beans. The meat was over cooked and was over powered by one spice. The fish was the same and the pasta dish looked like it had four or five pieces. The desserts were not much better. It was a very sad, disappointing experience. Will not be back."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/zuni-cafe-san-francisco?hrid=O-VJJEgwqsi02q4YnOJ8Qw"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/zuni-cafe-san-francisco"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yelp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_run_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15608"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"dt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-15 02:04:16"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"141"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yelp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-11 02:04:43"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Carl A."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"After years of 5 stars from me, we had our first so-so experience at Zuni. Is it slipping now?  I hope not. But the buzz was gone. The service was halting and off. Let's hope that it was just an off-night, but maybe the time has come to move on??"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/zuni-cafe-san-francisco?hrid=0xdzL2swNvC6cQ8yUDL4XQ"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/zuni-cafe-san-francisco"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yelp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_run_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15608"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"dt"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-15 02:04:16"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"141"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yelp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-12-10 02:04:43"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"author"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Mary B."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"text"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Very expensive over rated restaurant. I feel the city has lost its zest for good food and overcharges for the mediocre.  Maybe we all should start eating at the food trucks where people cook their hearts out and keep the prices affordable.  Pork chop (from Llano Secco) delicious. Nettles?  Isn't spinach just as good. My husband thought the Ceasar salad was one of the best he's ever had, but the spaghetti was inedible. Thought he should have stopped at the Caesar's.  I'm not going back. I can find better food at better prices in this city."</span><span class="p">,</span><span class="w">
            </span><span class="s2">"link"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/zuni-cafe-san-francisco?hrid=SEB7nqhlzF8pg2PALEvI7Q"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/zuni-cafe-san-francisco"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"source"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yelp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"report_run_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"15608"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Fetch all reviews associated with a report.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;/reviews</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>directory</td>
<td>Fetch reviews for a specific directory. See directory identifiers in appendix below.</td>
</tr>
<tr>
<td>stars</td>
<td>Fetch reviews for a specific star rating (0-5).</td>
</tr>
<tr>
<td>sort</td>
<td>By date &ldquo;asc&rdquo; or &ldquo;desc&rdquo;. Default is &ldquo;asc&rdquo;</td>
</tr>
<tr>
<td>from</td>
<td>Fetch reviews from specified date. Format yyyy-mm-dd.</td>
</tr>
<tr>
<td>to</td>
<td>Fetch reviews up until specified date. Format yyyy-mm-dd.</td>
</tr>
<tr>
<td>offset</td>
<td>By default 20 reviews are returned at once. Use in combination with limit to page results. Defaults to 0.</td>
</tr>
<tr>
<td>limit</td>
<td>Defaults to 20.</td>
</tr>
</tbody></table>

<h3 id="response-fields-explained">Response Fields Explained</h3>

<p>A few of the fields are explained below:</p>

<table><thead>
<tr>
<th>Field</th>
<th>Explanation</th>
</tr>
</thead><tbody>
<tr>
<td>source</td>
<td>Determines where a review came from. Yahoo!, for example, can contain reviews that were posted directly on Yahoo! and reviews that have been sourced from Yelp.</td>
</tr>
<tr>
<td>source_link</td>
<td>Link to the site where the review was originally written.</td>
</tr>
<tr>
<td>hash</td>
<td>Unique identifier based on directory, author and review text. This can be used when storing reviews locally to prevent duplicates.</td>
</tr>
</tbody></table>

<h2 id="get-reviews-count">Get Reviews Count</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Reviews Count</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">141</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$count</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="o">.</span> <span class="s1">'/reviews/count'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$count</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/141/reviews/count
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">141</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">"/reviews/count"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2770"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;/reviews/count</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="get-growth">Get Growth</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Growth</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">141</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$growth</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="o">.</span> <span class="s1">'/reviews/growth'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$growth</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/141/reviews/growth
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">141</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">growth</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">"/reviews/growth"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<p>Get count and percentage of new reviews since last report run.</p>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"growth"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"percent"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.03"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;/reviews/growth</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="get-directories">Get Directories</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Directories</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">141</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$directories</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="o">.</span> <span class="s1">'/directories'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$directories</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/141/directories
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">141</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">directories</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">"/directories"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"directories"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"citysearch"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"citysearch"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Citysearch"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.citysearch.com/profile/612944020/los_angeles_ca/pizzeria_mozza.html"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"dexknows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dexknows"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DexKnows"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.dexknows.com/business_profiles/pizzeria_mozza_los_angeles-l900211841"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"google"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google+ Local"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://plus.google.com/116883746235536288122/about?hl=en&amp;rfmt=s"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">145</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"insiderpages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"insiderpages"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Insider Pages"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.insiderpages.com/b/15240159890/pizzeria-mozza-los-angeles"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"judysbook"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"judysbook"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Judy's Book"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.judysbook.com/Pizzeria-Mozza-Restaurants-losangeles-r26871385.htm"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">127</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"kudzu"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"kudzu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Kudzu"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.kudzu.com/m/Pizzeria-Mozza-20924094"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">117</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"localcom"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"localcom"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Local.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.local.com/business/details/los-angeles-ca/mozza-cafe-105106399/"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"manta"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"manta"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Manta"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.manta.com/c/mrsy0q6/falbo-bros-pizzeria"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"merchantcircle"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"merchantcircle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Merchant Circle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.merchantcircle.com/business/Pizzeria.Mozza.323-297-0101"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">42</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"superpages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"superpages"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Super Pages"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.superpages.com/bp/Los-Angeles-CA/Pizzeria-Mozza-L0136883359.htm"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"yahoo"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yahoo"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yahoo! Local"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://local.yahoo.com/info-36089572-pizzeria-mozza-los-angeles;_ylt=A0oG7hXne95SMD4AyqhXNyoA;_ylu=X3oDMTBybnZlZnRlBHNlYwNzcgRwb3MDMQRjb2xvA2FjMgR2dGlkAw--"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"yellowbot"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yellowbot"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yellow Bot"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yellowbot.com/pizzeria-mozza-los-angeles-ca.html"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">324</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"yellowpages"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yellowpages"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yellow Pages"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yellowpages.com/los-angeles-ca/mip/pizzeria-mozza-18463301"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">108</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"yelp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"yelp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yelp"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yelp.com/biz/pizzeria-mozza-los-angeles"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">2966</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get a list of directories associated with a report. Results contain directory details, profile URLs and review counts.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;/directories</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="get-directory-stats">Get Directory Stats</h2>

<p><span class="label label-info">Account Method</span></p>

<p>Fetch stats showing average rating and review count for every directory in a given report.</p>

<blockquote>
<p>Get Directory Stats</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">141</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$stats</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="o">.</span> <span class="s1">'/directories/stats'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$stats</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/141//directories/stats
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">141</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">stats</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">"/directories/stats"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"stats"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"botw"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"botw"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Best of the Web"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://local.botw.org/New_York/New_York/Ayza/1000053931.html"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"citysearch"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"citysearch"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Citysearch"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.citysearch.com/profile/7143737/new_york_ny/le_bernardin.html"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">91</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"foursquare"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"directory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"foursquare"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FourSquare"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"use"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://foursquare.com/v/le-bernardin-new-york-ny/3fd66200f964a52066e31ee3"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"searched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="s2">"rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">190</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;/directories/stats</code></p>

<p>Fetch stats showing average rating and review count for every directory in a given report.</p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="get-star-counts">Get Star Counts</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Start Counts</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">141</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$stars</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/rf/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="o">.</span> <span class="s1">'/stars/count'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$stars</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/rf/141//stars/count
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">141</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">stars</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/rf/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">"/stars/count"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"counts"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"0star"</span><span class="p">:</span><span class="w"> </span><span class="s2">"91"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"1star"</span><span class="p">:</span><span class="w"> </span><span class="s2">"223"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"2star"</span><span class="p">:</span><span class="w"> </span><span class="s2">"180"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"3star"</span><span class="p">:</span><span class="w"> </span><span class="s2">"394"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"4star"</span><span class="p">:</span><span class="w"> </span><span class="s2">"704"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"5star"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1178"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure 400 Bad Request</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Get count of reviews for each star rating for a given report.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/rf/&lt;reportId&gt;/stars/count</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

          <h1 id="google-my-business">Google My Business</h1>

<h2 id="add-report">Add Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Add Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s1">'/v4/gpw/add'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report_name'</span>    <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span> 
    <span class="s1">'business_names'</span> <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'schedule'</span>       <span class="o">=&gt;</span> <span class="s1">'Adhoc'</span><span class="p">,</span>
    <span class="s1">'day_of_month'</span>   <span class="o">=&gt;</span> <span class="s1">'2'</span><span class="p">,</span>
    <span class="s1">'report_type'</span>    <span class="o">=&gt;</span> <span class="s1">'with'</span><span class="p">,</span>
    <span class="s1">'address1'</span>       <span class="o">=&gt;</span> <span class="s1">'155 West 51st Street'</span><span class="p">,</span>
    <span class="s1">'address2'</span>       <span class="o">=&gt;</span> <span class="s1">''</span><span class="p">,</span>
    <span class="s1">'city'</span>           <span class="o">=&gt;</span> <span class="s1">'New York'</span><span class="p">,</span>
    <span class="s1">'state_code'</span>     <span class="o">=&gt;</span> <span class="s1">'NY'</span><span class="p">,</span>
    <span class="s1">'postcode'</span>       <span class="o">=&gt;</span> <span class="s1">'10019'</span><span class="p">,</span>
    <span class="s1">'phone_number'</span>   <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span><span class="p">,</span>
    <span class="s1">'country'</span>        <span class="o">=&gt;</span> <span class="s1">'USA'</span><span class="p">,</span>
    <span class="s1">'search_terms'</span>   <span class="o">=&gt;</span> <span class="s1">'["restaurant manhattan","cafe new york"]'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X POST <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\ </span>
 -d <span class="s1">'report_name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'business_names=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'schedule=Adhoc'</span> <span class="se">\</span>
 -d <span class="s1">'day_of_month=2'</span> <span class="se">\</span>
 -d <span class="s1">'report_type=with'</span> <span class="se">\ </span>
 -d <span class="s1">'address1=155 West 51st Street'</span> <span class="se">\ </span>
 -d <span class="s1">'address2='</span> <span class="se">\</span>
 -d <span class="s1">'city=New York'</span> <span class="se">\</span>
 -d <span class="s1">'state_code=NY'</span> <span class="se">\</span>
 -d <span class="s1">'postcode=10019'</span> <span class="se">\</span>
 -d <span class="s1">'phone_number=+1 212-554-151'</span> <span class="se">\</span>
 -d <span class="s1">'country=USA'</span> <span class="se">\</span>
 -d <span class="s1">'search_terms=["restaurant manhattan","cafe new york"]'</span>
 https://tools.brightlocal.com/seo-tools/api/v4/gpw/add
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report_name"</span><span class="p">,</span> <span class="s">"Sample SEO Check-Up Report"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business_names"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"schedule"</span><span class="p">,</span> <span class="s">"Adhoc"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"day_of_month"</span><span class="p">,</span> <span class="s">"2"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report_type"</span><span class="p">,</span> <span class="s">"with"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address1"</span><span class="p">,</span> <span class="s">"155 Weest 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address2"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"state_code"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"phone_number"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-category"</span><span class="p">,</span> <span class="s">"Restaurant"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-terms"</span><span class="p">,</span> <span class="s">"['restaurant manhattan', 'cafe new york']"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Post</span><span class="p">(</span><span class="s">"/v4/gpw/add"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (201 Created)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report-id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You don\'t have any credits left"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"business_names"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter one business name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report type is not available"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter a telephone number"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter a postcode"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter an address"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter a city"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"search_terms"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter at least one search term"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please choose country from the list"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please enter a report name"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"google_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The location was not recognized. Please enter a correct location"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Please select schedule"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"white_label_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Such White Label Profile doesn't exists"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Adds a new Google My Business report to your account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://tools.brightlocal.com/seo-tools/api/v4/gpw/add</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report_name</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>location_id</td>
<td>Associate this report with a location in your account. This ID needs to correspond to a valid location in your account.</td>
</tr>
<tr>
<td>white_label_profile_id</td>
<td>Assign a white label profile to this report. The ID needs to correspond to a valid white label profile in your account.</td>
</tr>
<tr>
<td>business_names</td>
<td><span class="label label-required">Required</span> Supply one business name. For example, Greens Restaurant.</td>
</tr>
<tr>
<td>schedule</td>
<td><span class="label label-required">Required</span> One of Adhoc or Monthly</td>
</tr>
<tr>
<td>day_of_month</td>
<td><span class="label label-required">Required</span> One of 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, -1 (last day of month).</td>
</tr>
<tr>
<td>report_type</td>
<td><span class="label label-required">Required</span> One of with or without. &lsquo;with&rsquo; - the business has a Google Local profile. &#39;without&rsquo; - Ignore this business, just display competitor information. Defaults to with.</td>
</tr>
<tr>
<td>address1</td>
<td><span class="label label-required">Required</span> 80 characters max.  Optional for report_type=without</td>
</tr>
<tr>
<td>address2</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>city</td>
<td><span class="label label-required">Required</span> Optional for report_type=without</td>
</tr>
<tr>
<td>state_code</td>
<td><span class="label label-required">Required</span> (USA, CAN:EN and AUS)</td>
</tr>
<tr>
<td>google_location</td>
<td><span class="label label-required">Required</span> A valid google search location. Please refer to our location check method.</td>
</tr>
<tr>
<td>is_public</td>
<td>Determines whether or not to make the report available on a public URL you can give to your customers. One of Yes or No. Defaults to No.</td>
</tr>
<tr>
<td>postcode</td>
<td><span class="label label-required">Required</span> A valid postcode or ZIP. 80 characters max. Optional for report_type=without</td>
</tr>
<tr>
<td>phone_number</td>
<td><span class="label label-required">Required</span> Optional for report_type=without</td>
</tr>
<tr>
<td>country</td>
<td><span class="label label-required">Required</span> One of USA, CAN:EN, GBR or AUS.</td>
</tr>
<tr>
<td>search_terms</td>
<td><span class="label label-required">Required</span> Supply one or more search terms (max 5) as a JSON string. For example, [&ldquo;restaurant san francisco&rdquo;,&ldquo;cafe san francisco&rdquo;].</td>
</tr>
<tr>
<td>notify</td>
<td>One of Yes or No. If set to yes we will send report alerts to all email addresses specified (see field below). If you include customer email addresses when setting up your report we&rsquo;ll also email them the alerts so please be sure this is what you want before adding their addresses. Default is No.</td>
</tr>
<tr>
<td>email_addresses</td>
<td>Supply one or more (max 5) email addresses for us to send report alerts to. This only takes effect if notify is set to Yes. JSON string. For example, [&ldquo;email1@test.com&rdquo;,&ldquo;email2@test.com&rdquo;].</td>
</tr>
<tr>
<td>run</td>
<td>One of Yes or No. Runs the report after adding. Defaults to Yes.</td>
</tr>
</tbody></table>

<h2 id="update-report">Update Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Update Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>
<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">INSERT_API_KEY</span><span class="o">&gt;</span><span class="s1">', '</span><span class="o">&lt;</span><span class="nx">INSERT_API_SECRET</span><span class="o">&gt;</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/v4/gpw/'</span> <span class="o">.</span><span class="nv">$reportId</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'business-name'</span>     <span class="o">=&gt;</span> <span class="s1">'Le Bernardin'</span><span class="p">,</span>
    <span class="s1">'contact-telephone'</span> <span class="o">=&gt;</span> <span class="s1">'+1 212-554-1515'</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report_name=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'business_names=Le Bernardin'</span> <span class="se">\</span>
 -d <span class="s1">'schedule=Adhoc'</span> <span class="se">\</span>
 -d <span class="s1">'day_of_month=2'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/gpw/1
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report_name"</span><span class="p">,</span> <span class="s">"Sample SEO Check-Up Report"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business_names"</span><span class="p">,</span> <span class="s">"Le Bernardin"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"schedule"</span><span class="p">,</span> <span class="s">"Adhoc"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"day_of_month"</span><span class="p">,</span> <span class="s">"2"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report_type"</span><span class="p">,</span> <span class="s">"with"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address1"</span><span class="p">,</span> <span class="s">"155 Weest 51st Street"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"address2"</span><span class="p">,</span> <span class="s">""</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"city"</span><span class="p">,</span> <span class="s">"New York"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"state_code"</span><span class="p">,</span> <span class="s">"NY"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"postcode"</span><span class="p">,</span> <span class="s">"10019"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"phone_number"</span><span class="p">,</span> <span class="s">"+1 212-554-1515"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"country"</span><span class="p">,</span> <span class="s">"USA"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"business-category"</span><span class="p">,</span> <span class="s">"Restaurant"</span><span class="p">);</span>
<span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"search-terms"</span><span class="p">,</span> <span class="s">"['restaurant manhattan', 'cafe new york']"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v4/gpw/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID invalid"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v4/gpw/&lt;reportId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-ID</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>report_name</td>
<td></td>
</tr>
<tr>
<td>location_id</td>
<td>Associate this report with a location in your account. This ID needs to correspond to a valid location in your account.</td>
</tr>
<tr>
<td>white_label_profile_id</td>
<td>Assign a white label profile to this report. The ID needs to correspond to a valid white label profile in your account.</td>
</tr>
<tr>
<td>business_names</td>
<td>Supply one business name. For example, Greens Restaurant.</td>
</tr>
<tr>
<td>schedule</td>
<td>One of Adhoc or Monthly</td>
</tr>
<tr>
<td>day_of_month</td>
<td>One of 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, -1 (last day of month).</td>
</tr>
<tr>
<td>report_type</td>
<td>One of with or without. &#39;with&rsquo; - the business has a Google Local profile. &#39;without&rsquo; - Ignore this business, just display competitor information. Defaults to with.</td>
</tr>
<tr>
<td>address1</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>address2</td>
<td>80 characters max.</td>
</tr>
<tr>
<td>city</td>
<td></td>
</tr>
<tr>
<td>state_code</td>
<td>(USA, CAN:EN and AUS)</td>
</tr>
<tr>
<td>postcode</td>
<td>A valid postcode or ZIP. 80 characters max.</td>
</tr>
<tr>
<td>phone_number</td>
<td></td>
</tr>
<tr>
<td>country</td>
<td>One of USA, CAN:EN, GBR or AUS.</td>
</tr>
<tr>
<td>search_terms</td>
<td>Supply one or more search terms (max 5) as a JSON string. For example, [&ldquo;restaurant san francisco&rdquo;,&ldquo;cafe san francisco&rdquo;].</td>
</tr>
<tr>
<td>notify</td>
<td>One of Yes or No. If set to yes we will send report alerts to all email addresses specified (see field below). If you include customer email addresses when setting up your report we&rsquo;ll also email them the alerts so please be sure this is what you want before adding their addresses. Default is No.</td>
</tr>
<tr>
<td>email_addresses</td>
<td>Supply one or more (max 5) email addresses for us to send report alerts to. This only takes effect if notify is set to Yes. JSON string. For example, [&ldquo;email1@test.com&rdquo;,&ldquo;email2@test.com&rdquo;].</td>
</tr>
<tr>
<td>google_location</td>
<td>A valid google search location. Please refer to our location check method.</td>
</tr>
<tr>
<td>is_public</td>
<td>Determines whether or not to make the report available on a public URL you can give to your customers. One of Yes or No. Defaults to No.</td>
</tr>
<tr>
<td>run</td>
<td>One of Yes or No. Runs the report after adding. Defaults to Yes.</td>
</tr>
</tbody></table>

<h2 id="get-report">Get Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/gpw/'</span> <span class="o">.</span> <span class="nv">$reportId</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/gpw/1
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/gpw/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"report"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report name"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"customer_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"location_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adhoc"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"day_of_week"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"day_of_month"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"white_label_profile_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"24"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"report_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"without"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"business_names"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"Business name1"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90210"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"country"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"state_code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address1"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@test.com"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"address2"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"city"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago, IL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"search_terms"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"search_term1"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search_term2"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"search_term3"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"google_location"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago, IL"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"notify"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_addresses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"email@company.com"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"notify_about_changes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"email_addresses_for_changes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="s2">"email@company.com"</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"is_public"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"public_key"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;hidden&gt;"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="w">
      </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID invalid"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/gpw/&lt;reportId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="delete-report">Delete Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Delete Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s1">'/v4/gpw/'</span> <span class="o">.</span> <span class="nv">$reportId</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">empty</span><span class="p">(</span><span class="nv">$result</span><span class="p">[</span><span class="s1">'success'</span><span class="p">]))</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s1">'Successfully deleted report.'</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X DELETE <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/gpw/1
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Delete</span><span class="p">(</span><span class="s">"/v4/gpw/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">""</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID invalid"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://tools.brightlocal.com/seo-tools/api/v4/gpw/&lt;reportId&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="get-all-reports">Get All Reports</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get All Reports</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/gpw/'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/gpw
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/gpw"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"response"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w">  </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 1"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Weekly"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Yes"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"running_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Identifying your top Google Local competitors"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"report_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"report_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Test 2"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Monthly"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"is_running"</span><span class="p">:</span><span class="w"> </span><span class="s2">"No"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"running_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="w">
            </span><span class="p">}</span><span class="w">
        </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_LOCATION_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid location ID supplied"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Returns basic details about all reports associated with your account.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/gpw</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>location-id</td>
<td></td>
</tr>
</tbody></table>

<h2 id="run-report">Run Report</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Run Report</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">put</span><span class="p">(</span><span class="s1">'/v4/gpw/run'</span><span class="p">,</span> <span class="p">[</span>
    <span class="s1">'report-id'</span> <span class="o">=&gt;</span> <span class="mi">860</span>
<span class="p">]);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X PUT <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'report-id=860'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v4/gpw/run
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>
        <span class="n">parameters</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="s">"report-id"</span><span class="p">,</span> <span class="s">"1"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Put</span><span class="p">(</span><span class="s">"/v4/gpw/run"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_REPORT_ID"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Report ID missing"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"NO_CREDITS"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"You don't have any credits left"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Failure when report already running (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
    </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
      </span><span class="s2">"REPORT_RUNNING"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Report is already running"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">PUT https://tools.brightlocal.com/seo-tools/api/v4/gpw/run</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>report-id</td>
<td><span class="label label-required">Required</span> The unique ID for the report in your account.</td>
</tr>
</tbody></table>

<h2 id="get-report-results">Get Report Results</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get Report Results</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$reportId</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v4/gpw/'</span> <span class="o">.</span> <span class="nv">$reportId</span> <span class="o">.</span> <span class="s1">'/results'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v4/gpw/1/results
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">reportId</span> <span class="p">=</span> <span class="m">1</span><span class="p">;</span>
<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v4/gpw/"</span> <span class="p">+</span> <span class="n">reportId</span> <span class="p">+</span> <span class="s">"/results"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"summary"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Galaxy Studios LLC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300 E Colorado Blvd, Pasadena, CA 91101, United States"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+1 123-456-7890"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"website_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"opening_hours"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"Wednesday 4PM1AM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Thursday 4PM1AM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Friday 4PM1AM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Saturday 4PM1AM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Sunday(Easter) 4PM1AM Hours might differ"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Monday 4PM1AM"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"Tuesday 4PM1AM"</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?q=Iron+Galaxy+Studios+LLC&amp;oq=Iron+Galaxy+Studios+LLC"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span><span class="w">
      </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="mf">37.65</span><span class="p">,</span><span class="w">
      </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1395</span><span class="p">,</span><span class="w">
      </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
      </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
      </span><span class="s2">"review_content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"The Hotel is very conveniently located and the room nice"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
      </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                    </span><span class="s2">"Financial Planner"</span><span class="w">
                  </span><span class="p">]</span><span class="w">
     </span><span class="p">},</span><span class="w">          
    </span><span class="s2">"keywords"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"iron"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"client_rank"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"top_10"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Galaxy Studios LLC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"A"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_business"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?q=Iron+Galaxy+Studios+LLC&amp;oq=Iron+Galaxy+Studios+LLC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">74</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"37/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1395</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Financial Management Inc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"B"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_business"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;q=Iron+Financial+Management+Inc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">118</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"22/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">86</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Financial Planner"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago Tube and Iron Company"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"C"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_business"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">            
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;q=Chicago+Tube+and+Iron+Company+Chicago"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">106</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"30/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">190</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acorn Wire &amp;amp; Iron Works LLC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"D"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_business"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                   
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;gbv=2&amp;q=Acorn+Wire+%26+Iron+Works+LLC%2C+chicago"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">56</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"29/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">80</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Fence Supply Store"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron &amp;amp; Wire Custom Metal Studio LLC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"E"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_business"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                   
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;gbv=2&amp;q=Iron+%26+Wire+Custom+Metal+Studio+LLC%2C+chicago"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"18/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Metal Fabricator"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Interior Designer"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Steel Fabricator"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adams Street Iron Inc"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"F"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_business"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                   
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;biw=1277&amp;bih=573&amp;q=Adams+Street+Iron+Inc%2C+Chicago"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">66</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"General Contractor"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Workers Union"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"G"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_business"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                   
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;gbv=2&amp;q=Iron+Workers+Union%2C+chicago+60130"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">39</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"48/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">5037</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Non-Profit Organization"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shaw Environmental/Infrstrctr"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"rank"</span><span class="p">:</span><span class="w"> </span><span class="s2">"H"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"client_business"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">                   
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;gbv=2&amp;q=Shaw+Environmental%2FInfrstrctr%2C+chicago"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">52</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">8884</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"citations_matrix"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"businesses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Galaxy Studios LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/103101903089752"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Financial Management Inc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"118"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago Tube and Iron Company"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"106"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/Law-Offices-of-Bernard-D-Ward-PC-708-349-5600-815-834-2000/143994815665091"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acorn Wire &amp;amp; Iron Works LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron &amp;amp; Wire Custom Metal Studio LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/Iron-Wire/104803202926726?sk=info"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adams Street Iron Inc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/Adams-Street-Iron/117016575024837"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Workers Union"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shaw Environmental/Infrstrctr"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/International-Technology-Corp/154765177895978"</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linkedin.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"businesses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Galaxy Studios LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.linkedin.com/in/michaelpickens"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Financial Management Inc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"118"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.linkedin.com/pub/miles-muslin/18/287/950"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago Tube and Iron Company"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"106"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acorn Wire &amp;amp; Iron Works LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron &amp;amp; Wire Custom Metal Studio LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adams Street Iron Inc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Workers Union"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shaw Environmental/Infrstrctr"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"nap_comparison"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"taken_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User supplied"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example &amp; Co"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@example.com  Chicago, IL IL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"90210"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4234324234"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"taken_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google Listing"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"top_categories"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w">
          </span><span class="s2">"General Contractor"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Non-Profit Organization"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Steel Fabricator"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Metal Fabricator"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"other_ranking_factors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="s2">"gold"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"top_10"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Eagle"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;site=&amp;source=hp&amp;q=gold+eagle+chicago"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">62</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"45/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">9918</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Shipping Company"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rickey Gold Associates"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;q=Rickey+Gold+Associates"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">96</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"26/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">57</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Marketing Consultant"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bentley Gold Coast"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;q=Bentley+Gold+Coast%2C+Chicago&amp;oq=Bentley+Gold+Coast%2C+Chicago"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">89</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"32/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">87</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">58</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4.2/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Car Dealer"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Coast Tickets"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;q=Gold+Coast+Tickets%2C+Chicago"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">47</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">1362</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Event Ticket Seller"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Canyon Candles"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"profile_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.google.co.uk/search?newwindow=1&amp;safe=active&amp;q=Gold+Canyon+Candles%2C+Schaumburg%2C+IL+60193"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"claimed"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
            </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w">
            </span><span class="s2">"domain_authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"n/a"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"backlinks"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_reviews"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"star_rating"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0/5"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"num_photos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
            </span><span class="s2">"categories"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="s2">"Gift Basket Store"</span><span class="p">,</span><span class="w">
              </span><span class="s2">"Hotel"</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"citations_matrix"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"facebook.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w">
            </span><span class="s2">"businesses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Galaxy Studios LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/103101903089752"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Financial Management Inc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"118"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago Tube and Iron Company"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"106"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/Law-Offices-of-Bernard-D-Ward-PC-708-349-5600-815-834-2000/143994815665091"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acorn Wire &amp;amp; Iron Works LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron &amp;amp; Wire Custom Metal Studio LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/Iron-Wire/104803202926726?sk=info"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adams Street Iron Inc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/Adams-Street-Iron/117016575024837"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Workers Union"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shaw Environmental/Infrstrctr"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/International-Technology-Corp/154765177895978"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Eagle"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rickey Gold Associates"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bentley Gold Coast"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.facebook.com/pages/Bentley-Gold-Coast/135572886504845"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Coast Tickets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Canyon Candles"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"domain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"linkedin.com"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"authority"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100/100"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="s2">"businesses"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Galaxy Studios LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"74"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.linkedin.com/in/michaelpickens"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Financial Management Inc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"118"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://www.linkedin.com/pub/miles-muslin/18/287/950"</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Chicago Tube and Iron Company"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"106"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Acorn Wire &amp;amp; Iron Works LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"56"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron &amp;amp; Wire Custom Metal Studio LLC"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"25"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Adams Street Iron Inc"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"66"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Iron Workers Union"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"39"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Shaw Environmental/Infrstrctr"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"52"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Eagle"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Rickey Gold Associates"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bentley Gold Coast"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"89"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Coast Tickets"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"47"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">},</span><span class="w">
              </span><span class="p">{</span><span class="w">
                </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Gold Canyon Candles"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"citations_count"</span><span class="p">:</span><span class="w"> </span><span class="s2">"19"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
              </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"nap_comparison"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"taken_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"User supplied"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example &amp; Co"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email@example.com  Chicago, IL IL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"85300"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4234324234"</span><span class="w">
          </span><span class="p">},</span><span class="w">
          </span><span class="p">{</span><span class="w">
            </span><span class="s2">"taken_from"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Google Listing"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"business_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"postcode"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="s2">"telephone"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
          </span><span class="p">}</span><span class="w">
        </span><span class="p">],</span><span class="w">
        </span><span class="s2">"top_categories"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
          </span><span class="s2">"Gift Basket Store"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Hotel"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Event Ticket Seller"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Car Dealer"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
          </span><span class="s2">"Marketing Consultant"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"other_ranking_factors"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="s2">"urls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="s2">"report_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://tools.brightlocal.com/seo-tools/admin/gpw/reports/view/275"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"wl_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://local-marketing-reports.com/google-plus-reports/&lt;hidden&gt;/275"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"INVALID_LOCATION_ID"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid location ID supplied"</span><span class="w">
  </span><span class="p">}</span><span class="w"> 
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>Return report URLs and raw data.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v4/gpw/&lt;reportId&gt;/results</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

          <h1 id="business-categories">Business Categories</h1>

<h2 id="fetch-business-categories">Fetch Business Categories</h2>

<p><span class="label label-info">Account Method</span></p>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">);</span>
<span class="nv">$country</span> <span class="o">=</span> <span class="s1">'USA'</span><span class="p">;</span>
<span class="nv">$results</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'/v1/business-categories/'</span> <span class="o">.</span> <span class="nv">$country</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$results</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
  https://tools.brightlocal.com/seo-tools/api/v1/business-categories/USA
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">);</span>
<span class="n">var</span> <span class="n">results</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/seo-tools/api/v1/business-categories/USA"</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">503</span><span class="p">,</span><span class="w">
        </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Advertising Agency"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<blockquote>
<p>Validation Failure (400 Bad Request)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"errors"</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="w">
     </span><span class="s2">"INVALID_COUNTRY"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Country is not supported"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p>Get all business categories for certain country. <a href="#supported-countries">See here for a full list of supported countries.</a></p>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v1/business-categories/&lt;country&gt;</code></p>

          <h1 id="useful-tools">Useful Tools</h1>

<p>Apigee produces a <a href="https://apigee.com/console/others">free API testing tool</a> which may help you to interactively query our API.</p>

          <h1 id="appendix">Appendix</h1>

<h2 id="supported-local-directories">Supported Local Directories</h2>

<p>We now have an API method (shown below) that enables you to retrieve a list of directories for all supported countries.</p>

<h2 id="get-list-of-supported-local-directories">Get list of supported local directories</h2>

<p><span class="label label-info">Account Method</span></p>

<blockquote>
<p>Get list of supported local directories</p>
</blockquote>
<pre><code class="highlight php"><span class="cp">&lt;?php</span>
<span class="k">use</span> <span class="nx">BrightLocal\Api</span><span class="p">;</span>

<span class="nv">$api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">(</span><span class="s1">'&lt;INSERT_API_KEY&gt;'</span><span class="p">,</span> <span class="s1">'&lt;INSERT_API_SECRET&gt;'</span><span class="p">);</span>
<span class="nv">$success</span> <span class="o">=</span> <span class="nv">$api</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s1">'v1/directories/all'</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$success</span><span class="p">);</span>
</code></pre>
<pre><code class="highlight shell">curl -X GET <span class="se">\</span>
 -d <span class="s1">'api-key=&lt;INSERT_API_KEY&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'sig=&lt;INSERT_API_SIG&gt;'</span> <span class="se">\</span>
 -d <span class="s1">'expires=&lt;INSERT_API_EXPIRES&gt;'</span> <span class="se">\</span>
 https://tools.brightlocal.com/seo-tools/api/v1/directories/all
</code></pre>
<pre><code class="highlight csharp"><span class="n">api</span> <span class="n">request</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">api</span><span class="p">(</span><span class="s">"&lt;INSERT_API_KEY&gt;"</span><span class="p">,</span> <span class="s">"&lt;INSERT_API_SECRET&gt;"</span><span class="p">);</span>

<span class="n">var</span> <span class="n">parameters</span> <span class="p">=</span> <span class="k">new</span> <span class="n">api</span><span class="p">.</span><span class="nf">Parameters</span><span class="p">();</span>

<span class="n">var</span> <span class="n">success</span> <span class="p">=</span> <span class="n">request</span><span class="p">.</span><span class="nf">Get</span><span class="p">(</span><span class="s">"/v1/directories/all"</span><span class="p">,</span> <span class="n">parameters</span><span class="p">);</span>
</code></pre>

<blockquote>
<p>Success (200 OK)</p>
</blockquote>
<pre><code class="highlight json"><span class="p">{</span><span class="w">
        </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">375</span><span class="p">,</span><span class="w">
        </span><span class="s2">"supported_countries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"GBR"</span><span class="p">,</span><span class="s2">"USA"</span><span class="p">,</span><span class="s2">"IRL"</span><span class="p">,</span><span class="err">...</span><span class="p">],</span><span class="w">
        </span><span class="s2">"results"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
            </span><span class="p">{</span><span class="w">
                </span><span class="s2">"identifier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"countries"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"GBR"</span><span class="p">,</span><span class="s2">"USA"</span><span class="p">],</span><span class="w">
                </span><span class="s2">"url"</span><span class="p">:</span><span class="s2">"google.com"</span><span class="p">,</span><span class="w">
                </span><span class="s2">"urls"</span><span class="p">:[</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"USA"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google.com"</span><span class="p">},</span><span class="w">
                    </span><span class="p">{</span><span class="s2">"GBR"</span><span class="p">:</span><span class="w"> </span><span class="s2">"google.uk"</span><span class="p">},</span><span class="err">...</span><span class="w">
                </span><span class="p">],</span><span class="w">
                </span><span class="s2">"supports_reviews"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
            </span><span class="p">},</span><span class="err">...</span><span class="w">           
        </span><span class="p">]</span><span class="w">

</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v1/directories/all</code></p>

<p><code class="prettyprint">GET https://tools.brightlocal.com/seo-tools/api/v1/directories/&lt;country&gt;</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Notes</th>
</tr>
</thead><tbody>
<tr>
<td>api-key</td>
<td><span class="label label-required">Required</span></td>
</tr>
<tr>
<td>sig</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
<tr>
<td>expires</td>
<td><span class="label label-required">Required</span> <a href="#authentication">See above for how to generate signature and expires values.</a></td>
</tr>
</tbody></table>

<h2 id="local-directories-supported-by-local-search-audit-tool">Local directories supported by Local Search Audit tool</h2>

<h3 id="usa">USA</h3>

<table><thead>
<tr>
<th>Directory</th>
<th>Identifier</th>
</tr>
</thead><tbody>
<tr>
<td>Brownbook</td>
<td>brownbook</td>
</tr>
<tr>
<td>Citysearch</td>
<td>citysearch</td>
</tr>
<tr>
<td>DexKnows</td>
<td>dexknows</td>
</tr>
<tr>
<td>Facebook</td>
<td>facebook</td>
</tr>
<tr>
<td>Factual</td>
<td>factual</td>
</tr>
<tr>
<td>FourSquare</td>
<td>foursquare</td>
</tr>
<tr>
<td>Google Local</td>
<td>google</td>
</tr>
<tr>
<td>HotFrog</td>
<td>hotfrog</td>
</tr>
<tr>
<td>InfoUSA/ExpressUpdate</td>
<td>expressupdate</td>
</tr>
<tr>
<td>Insider Pages</td>
<td>insiderpages</td>
</tr>
<tr>
<td>Kudzu</td>
<td>kudzu</td>
</tr>
<tr>
<td>Local.com</td>
<td>localcom</td>
</tr>
<tr>
<td>MapQuest</td>
<td>mapquest</td>
</tr>
<tr>
<td>Neustarlocaleze</td>
<td>neustarlocaleze</td>
</tr>
<tr>
<td>Super Pages</td>
<td>superpages</td>
</tr>
<tr>
<td>Yahoo! Local</td>
<td>yahoo</td>
</tr>
<tr>
<td>Yellow Bot</td>
<td>yellowbot</td>
</tr>
<tr>
<td>Yellow Pages</td>
<td>yellowpages</td>
</tr>
<tr>
<td>Yelp</td>
<td>yelp</td>
</tr>
</tbody></table>

<h3 id="canada">Canada</h3>

<table><thead>
<tr>
<th>Directory</th>
<th>Identifier</th>
</tr>
</thead><tbody>
<tr>
<td>411 Canada</td>
<td>can411</td>
</tr>
<tr>
<td>Brownbook</td>
<td>brownbook</td>
</tr>
<tr>
<td>Canpages</td>
<td>canpages</td>
</tr>
<tr>
<td>Facebook</td>
<td>facebook</td>
</tr>
<tr>
<td>Factual</td>
<td>factual</td>
</tr>
<tr>
<td>FourSquare</td>
<td>foursquare</td>
</tr>
<tr>
<td>Google Local</td>
<td>google</td>
</tr>
<tr>
<td>HotFrog</td>
<td>hotfrog</td>
</tr>
<tr>
<td>iBegin</td>
<td>ibegincan</td>
</tr>
<tr>
<td>PagesJunes</td>
<td>pagesjaunes</td>
</tr>
<tr>
<td>Yellow Pages</td>
<td>yellowpagesca</td>
</tr>
<tr>
<td>Yelp</td>
<td>yelp</td>
</tr>
</tbody></table>

<h3 id="united-kingdom">United Kingdom</h3>

<table><thead>
<tr>
<th>Directory</th>
<th>Identifier</th>
</tr>
</thead><tbody>
<tr>
<td>Brownbook</td>
<td>brownbook</td>
</tr>
<tr>
<td>Facebook</td>
<td>facebook</td>
</tr>
<tr>
<td>Factual</td>
<td>factual</td>
</tr>
<tr>
<td>FourSquare</td>
<td>foursquare</td>
</tr>
<tr>
<td>Google Local</td>
<td>google</td>
</tr>
<tr>
<td>HotFrog</td>
<td>hotfrog</td>
</tr>
<tr>
<td>Scoot</td>
<td>scoot</td>
</tr>
<tr>
<td>Thomson Local</td>
<td>thomsonlocal</td>
</tr>
<tr>
<td>Touch Local</td>
<td>touchlocal</td>
</tr>
<tr>
<td>Yahoo! Local</td>
<td>yahoo</td>
</tr>
<tr>
<td>Yell</td>
<td>yell</td>
</tr>
<tr>
<td>Yelp</td>
<td>yelp</td>
</tr>
</tbody></table>

<h3 id="australia">Australia</h3>

<table><thead>
<tr>
<th>Directory</th>
<th>Identifier</th>
</tr>
</thead><tbody>
<tr>
<td>AussieWeb</td>
<td>aussieweb</td>
</tr>
<tr>
<td>Brownbook</td>
<td>brownbook</td>
</tr>
<tr>
<td>dLook</td>
<td>dlook</td>
</tr>
<tr>
<td>Facebook</td>
<td>facebook</td>
</tr>
<tr>
<td>Factual</td>
<td>factual</td>
</tr>
<tr>
<td>FourSquare</td>
<td>foursquare</td>
</tr>
<tr>
<td>Google Local</td>
<td>google</td>
</tr>
<tr>
<td>HotFrog</td>
<td>hotfrog</td>
</tr>
<tr>
<td>Local.com.au</td>
<td>localcomau</td>
</tr>
<tr>
<td>StartLocal</td>
<td>startlocal</td>
</tr>
<tr>
<td>Super Pages Australia</td>
<td>superpagesaus</td>
</tr>
<tr>
<td>TrueLocal</td>
<td>truelocal</td>
</tr>
<tr>
<td>White Pages</td>
<td>whitepagesaus</td>
</tr>
<tr>
<td>Yelp</td>
<td>yelp</td>
</tr>
</tbody></table>

<h2 id="business-category-ids">Business Category IDs</h2>

<p>We no longer list the supported business categories here. We now have an <a href="#business-categories">endpoint</a> which enables you to retrieve a list of categories by country.</p>

<h2 id="supported-countries">Supported Countries</h2>

<p>The following countries and codes are supported by our system:</p>

<table><thead>
<tr>
<th>Country</th>
<th>Code</th>
</tr>
</thead><tbody>
<tr>
<td>Australia</td>
<td>AUS</td>
</tr>
<tr>
<td>Canada</td>
<td>CAN</td>
</tr>
<tr>
<td>Germany</td>
<td>DEU</td>
</tr>
<tr>
<td>Hong Kong</td>
<td>HKG</td>
</tr>
<tr>
<td>Ireland</td>
<td>IRL</td>
</tr>
<tr>
<td>Macau</td>
<td>MAC</td>
</tr>
<tr>
<td>Netherlands</td>
<td>NLD</td>
</tr>
<tr>
<td>New Zealand</td>
<td>NZL</td>
</tr>
<tr>
<td>Philippines</td>
<td>PHL</td>
</tr>
<tr>
<td>Taiwan</td>
<td>TWN</td>
</tr>
<tr>
<td>United Kingdom</td>
<td>GBR</td>
</tr>
<tr>
<td>United States</td>
<td>USA</td>
</tr>
<tr>
<td>Singapore</td>
<td>SGP</td>
</tr>
<tr>
<td>South Africa</td>
<td>ZAF</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="php">php</a>
                <a href="#" data-language-name="shell">shell</a>
                <a href="#" data-language-name="csharp">csharp</a>
          </div>
      </div>
    </div>
  </body>
</html>
